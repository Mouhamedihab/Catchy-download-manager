{"version":3,"file":"main.js","mappings":"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","sources":["webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/codegen/index.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/outside.js","webpack://catchy/./node_modules/conf/node_modules/semver/classes/comparator.js","webpack://catchy/./node_modules/fast-uri/lib/schemes.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/codegen/scope.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/valid.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/rcompare.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitContains.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/code.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/to-comparators.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/lt.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/runtime/uri.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/compare-build.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/intersects.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/dependentSchemas.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/const.js","webpack://catchy/./node_modules/fast-deep-equal/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/runtime/validation_error.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/rules.js","webpack://catchy/./node_modules/conf/node_modules/ajv-formats/dist/limit.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/minor.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/validate/defaults.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/unevaluated/unevaluatedItems.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/validate/dataType.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/runtime/equal.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/validate/applicability.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/ref_error.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/refs/json-schema-2020-12/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/codegen/code.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/2020.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/format/format.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/clean.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/gt.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/valid.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/simplify.js","webpack://catchy/./node_modules/conf/node_modules/semver/internal/parse-options.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/cmp.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/validate/subschema.js","webpack://catchy/./node_modules/conf/node_modules/semver/internal/constants.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://catchy/external node-commonjs \"electron\"","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/max-satisfying.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/dynamic/dynamicRef.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/inc.js","webpack://catchy/./node_modules/conf/node_modules/semver/classes/semver.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/resolve.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/dynamic/recursiveRef.js","webpack://catchy/./node_modules/fast-uri/lib/utils.js","webpack://catchy/./node_modules/fast-uri/lib/scopedChars.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/eq.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/gte.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/parse.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/util.js","webpack://catchy/./node_modules/conf/node_modules/ajv-formats/dist/index.js","webpack://catchy/./node_modules/conf/node_modules/semver/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/dynamic/recursiveAnchor.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/draft7.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/format/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/index.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/subset.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/core/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/core.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/next.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/neq.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/lte.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/diff.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/ltr.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/unevaluated/index.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/gtr.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/dynamic/dynamicAnchor.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/min-version.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/prerelease.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/draft2020.js","webpack://catchy/./node_modules/conf/node_modules/semver/internal/lrucache.js","webpack://catchy/./node_modules/conf/node_modules/semver/internal/identifiers.js","webpack://catchy/./node_modules/conf/node_modules/semver/internal/re.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/names.js","webpack://catchy/./node_modules/conf/node_modules/semver/ranges/min-satisfying.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/required.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/unevaluated/unevaluatedProperties.js","webpack://catchy/./node_modules/conf/node_modules/semver/classes/range.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/satisfies.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/compare-loose.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/major.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/metadata.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/patch.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://catchy/./node_modules/fast-uri/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/validate/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/dynamic/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://catchy/./node_modules/conf/node_modules/semver/internal/debug.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/sort.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/ajv.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/dependentRequired.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/validate/keyword.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/compile/errors.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/runtime/ucs2length.js","webpack://catchy/./node_modules/conf/node_modules/json-schema-traverse/index.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/core/ref.js","webpack://catchy/./node_modules/conf/node_modules/ajv-formats/dist/formats.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/coerce.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/compare.js","webpack://catchy/./node_modules/conf/node_modules/ajv/dist/vocabularies/core/id.js","webpack://catchy/./node_modules/conf/node_modules/semver/functions/rsort.js","webpack://catchy/external node-commonjs \"fs\"","webpack://catchy/webpack/bootstrap","webpack://catchy/webpack/runtime/compat get default export","webpack://catchy/webpack/runtime/define property getters","webpack://catchy/webpack/runtime/hasOwnProperty shorthand","webpack://catchy/webpack/runtime/make namespace object","webpack://catchy/external node-commonjs \"path\"","webpack://catchy/external node-commonjs \"crypto\"","webpack://catchy/./src/common/types.ts","webpack://catchy/./node_modules/axios/lib/helpers/bind.js","webpack://catchy/./node_modules/axios/lib/utils.js","webpack://catchy/./node_modules/axios/lib/core/AxiosError.js","webpack://catchy/./node_modules/axios/lib/helpers/toFormData.js","webpack://catchy/./node_modules/axios/lib/helpers/AxiosURLSearchParams.js","webpack://catchy/./node_modules/axios/lib/helpers/buildURL.js","webpack://catchy/./node_modules/axios/lib/core/InterceptorManager.js","webpack://catchy/./node_modules/axios/lib/defaults/transitional.js","webpack://catchy/./node_modules/axios/lib/platform/browser/index.js","webpack://catchy/./node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","webpack://catchy/./node_modules/axios/lib/platform/browser/classes/FormData.js","webpack://catchy/./node_modules/axios/lib/platform/browser/classes/Blob.js","webpack://catchy/./node_modules/axios/lib/platform/common/utils.js","webpack://catchy/./node_modules/axios/lib/platform/index.js","webpack://catchy/./node_modules/axios/lib/helpers/formDataToJSON.js","webpack://catchy/./node_modules/axios/lib/defaults/index.js","webpack://catchy/./node_modules/axios/lib/helpers/toURLEncodedForm.js","webpack://catchy/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://catchy/./node_modules/axios/lib/core/AxiosHeaders.js","webpack://catchy/./node_modules/axios/lib/core/transformData.js","webpack://catchy/./node_modules/axios/lib/cancel/isCancel.js","webpack://catchy/./node_modules/axios/lib/cancel/CanceledError.js","webpack://catchy/./node_modules/axios/lib/core/settle.js","webpack://catchy/./node_modules/axios/lib/helpers/speedometer.js","webpack://catchy/./node_modules/axios/lib/helpers/progressEventReducer.js","webpack://catchy/./node_modules/axios/lib/helpers/throttle.js","webpack://catchy/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://catchy/./node_modules/axios/lib/helpers/cookies.js","webpack://catchy/./node_modules/axios/lib/core/buildFullPath.js","webpack://catchy/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://catchy/./node_modules/axios/lib/helpers/combineURLs.js","webpack://catchy/./node_modules/axios/lib/core/mergeConfig.js","webpack://catchy/./node_modules/axios/lib/helpers/resolveConfig.js","webpack://catchy/./node_modules/axios/lib/adapters/xhr.js","webpack://catchy/./node_modules/axios/lib/helpers/parseProtocol.js","webpack://catchy/./node_modules/axios/lib/helpers/composeSignals.js","webpack://catchy/./node_modules/axios/lib/helpers/trackStream.js","webpack://catchy/./node_modules/axios/lib/adapters/fetch.js","webpack://catchy/./node_modules/axios/lib/adapters/adapters.js","webpack://catchy/./node_modules/axios/lib/helpers/null.js","webpack://catchy/./node_modules/axios/lib/core/dispatchRequest.js","webpack://catchy/./node_modules/axios/lib/env/data.js","webpack://catchy/./node_modules/axios/lib/helpers/validator.js","webpack://catchy/./node_modules/axios/lib/core/Axios.js","webpack://catchy/./node_modules/axios/lib/cancel/CancelToken.js","webpack://catchy/./node_modules/axios/lib/helpers/HttpStatusCode.js","webpack://catchy/./node_modules/axios/lib/axios.js","webpack://catchy/./node_modules/axios/lib/helpers/spread.js","webpack://catchy/./node_modules/axios/lib/helpers/isAxiosError.js","webpack://catchy/external node-commonjs \"https\"","webpack://catchy/external node-commonjs \"http\"","webpack://catchy/external node-commonjs \"events\"","webpack://catchy/./src/main/downloadEngine.ts","webpack://catchy/./src/main/downloadManager.ts","webpack://catchy/external node-commonjs \"url\"","webpack://catchy/external node-commonjs \"node:process\"","webpack://catchy/external node-commonjs \"node:path\"","webpack://catchy/external node-commonjs \"node:util\"","webpack://catchy/external node-commonjs \"node:fs\"","webpack://catchy/external node-commonjs \"node:crypto\"","webpack://catchy/external node-commonjs \"node:assert\"","webpack://catchy/./node_modules/dot-prop/index.js","webpack://catchy/external node-commonjs \"node:os\"","webpack://catchy/./node_modules/conf/node_modules/env-paths/index.js","webpack://catchy/./node_modules/stubborn-fs/dist/attemptify.js","webpack://catchy/./node_modules/stubborn-fs/dist/constants.js","webpack://catchy/./node_modules/stubborn-fs/dist/handlers.js","webpack://catchy/./node_modules/stubborn-fs/dist/retryify_queue.js","webpack://catchy/./node_modules/stubborn-fs/dist/retryify.js","webpack://catchy/./node_modules/stubborn-fs/dist/index.js","webpack://catchy/./node_modules/atomically/dist/constants.js","webpack://catchy/./node_modules/atomically/dist/utils/lang.js","webpack://catchy/./node_modules/when-exit/dist/node/constants.js","webpack://catchy/./node_modules/when-exit/dist/node/signals.js","webpack://catchy/./node_modules/when-exit/dist/node/index.js","webpack://catchy/./node_modules/when-exit/dist/node/interceptor.js","webpack://catchy/./node_modules/atomically/dist/utils/temp.js","webpack://catchy/./node_modules/atomically/dist/index.js","webpack://catchy/./node_modules/mimic-function/index.js","webpack://catchy/./node_modules/debounce-fn/index.js","webpack://catchy/./node_modules/uint8array-extras/index.js","webpack://catchy/./node_modules/conf/dist/source/index.js","webpack://catchy/./node_modules/electron-store/index.js","webpack://catchy/./src/main/main.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","'use strict'\n\nconst UUID_REG = /^[\\da-f]{8}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{12}$/iu\nconst URN_REG = /([\\da-z][\\d\\-a-z]{0,31}):((?:[\\w!$'()*+,\\-.:;=@]|%[\\da-f]{2})+)/iu\n\nfunction isSecure (wsComponents) {\n  return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === 'wss'\n}\n\nfunction httpParse (components) {\n  if (!components.host) {\n    components.error = components.error || 'HTTP URIs must have a host.'\n  }\n\n  return components\n}\n\nfunction httpSerialize (components) {\n  const secure = String(components.scheme).toLowerCase() === 'https'\n\n  // normalize the default port\n  if (components.port === (secure ? 443 : 80) || components.port === '') {\n    components.port = undefined\n  }\n\n  // normalize the empty path\n  if (!components.path) {\n    components.path = '/'\n  }\n\n  // NOTE: We do not parse query strings for HTTP URIs\n  // as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n  // and not the HTTP spec.\n\n  return components\n}\n\nfunction wsParse (wsComponents) {\n// indicate if the secure flag is set\n  wsComponents.secure = isSecure(wsComponents)\n\n  // construct resouce name\n  wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '')\n  wsComponents.path = undefined\n  wsComponents.query = undefined\n\n  return wsComponents\n}\n\nfunction wsSerialize (wsComponents) {\n// normalize the default port\n  if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === '') {\n    wsComponents.port = undefined\n  }\n\n  // ensure scheme matches secure flag\n  if (typeof wsComponents.secure === 'boolean') {\n    wsComponents.scheme = (wsComponents.secure ? 'wss' : 'ws')\n    wsComponents.secure = undefined\n  }\n\n  // reconstruct path from resource name\n  if (wsComponents.resourceName) {\n    const [path, query] = wsComponents.resourceName.split('?')\n    wsComponents.path = (path && path !== '/' ? path : undefined)\n    wsComponents.query = query\n    wsComponents.resourceName = undefined\n  }\n\n  // forbid fragment component\n  wsComponents.fragment = undefined\n\n  return wsComponents\n}\n\nfunction urnParse (urnComponents, options) {\n  if (!urnComponents.path) {\n    urnComponents.error = 'URN can not be parsed'\n    return urnComponents\n  }\n  const matches = urnComponents.path.match(URN_REG)\n  if (matches) {\n    const scheme = options.scheme || urnComponents.scheme || 'urn'\n    urnComponents.nid = matches[1].toLowerCase()\n    urnComponents.nss = matches[2]\n    const urnScheme = `${scheme}:${options.nid || urnComponents.nid}`\n    const schemeHandler = SCHEMES[urnScheme]\n    urnComponents.path = undefined\n\n    if (schemeHandler) {\n      urnComponents = schemeHandler.parse(urnComponents, options)\n    }\n  } else {\n    urnComponents.error = urnComponents.error || 'URN can not be parsed.'\n  }\n\n  return urnComponents\n}\n\nfunction urnSerialize (urnComponents, options) {\n  const scheme = options.scheme || urnComponents.scheme || 'urn'\n  const nid = urnComponents.nid.toLowerCase()\n  const urnScheme = `${scheme}:${options.nid || nid}`\n  const schemeHandler = SCHEMES[urnScheme]\n\n  if (schemeHandler) {\n    urnComponents = schemeHandler.serialize(urnComponents, options)\n  }\n\n  const uriComponents = urnComponents\n  const nss = urnComponents.nss\n  uriComponents.path = `${nid || options.nid}:${nss}`\n\n  options.skipEscape = true\n  return uriComponents\n}\n\nfunction urnuuidParse (urnComponents, options) {\n  const uuidComponents = urnComponents\n  uuidComponents.uuid = uuidComponents.nss\n  uuidComponents.nss = undefined\n\n  if (!options.tolerant && (!uuidComponents.uuid || !UUID_REG.test(uuidComponents.uuid))) {\n    uuidComponents.error = uuidComponents.error || 'UUID is not valid.'\n  }\n\n  return uuidComponents\n}\n\nfunction urnuuidSerialize (uuidComponents) {\n  const urnComponents = uuidComponents\n  // normalize UUID\n  urnComponents.nss = (uuidComponents.uuid || '').toLowerCase()\n  return urnComponents\n}\n\nconst http = {\n  scheme: 'http',\n  domainHost: true,\n  parse: httpParse,\n  serialize: httpSerialize\n}\n\nconst https = {\n  scheme: 'https',\n  domainHost: http.domainHost,\n  parse: httpParse,\n  serialize: httpSerialize\n}\n\nconst ws = {\n  scheme: 'ws',\n  domainHost: true,\n  parse: wsParse,\n  serialize: wsSerialize\n}\n\nconst wss = {\n  scheme: 'wss',\n  domainHost: ws.domainHost,\n  parse: ws.parse,\n  serialize: ws.serialize\n}\n\nconst urn = {\n  scheme: 'urn',\n  parse: urnParse,\n  serialize: urnSerialize,\n  skipNormalize: true\n}\n\nconst urnuuid = {\n  scheme: 'urn:uuid',\n  parse: urnuuidParse,\n  serialize: urnuuidSerialize,\n  skipNormalize: true\n}\n\nconst SCHEMES = {\n  http,\n  https,\n  ws,\n  wss,\n  urn,\n  'urn:uuid': urnuuid\n}\n\nmodule.exports = SCHEMES\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState || (exports.UsedValueState = UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"maxContains\", \"minContains\"],\n    type: \"array\",\n    schemaType: \"number\",\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.contains === undefined) {\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"contains\" is ignored`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitContains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"fast-uri\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dependencies_1 = require(\"./dependencies\");\nconst def = {\n    keyword: \"dependentSchemas\",\n    type: \"object\",\n    schemaType: \"object\",\n    code: (cxt) => (0, dependencies_1.validateSchemaDeps)(cxt),\n};\nexports.default = def;\n//# sourceMappingURL=dependentSchemas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatLimitDefinition = void 0;\nconst ajv_1 = require(\"ajv\");\nconst codegen_1 = require(\"ajv/dist/compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    formatMaximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    formatMinimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    formatExclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    formatExclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `should be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nexports.formatLimitDefinition = {\n    keyword: Object.keys(KWDs),\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, keyword, it } = cxt;\n        const { opts, self } = it;\n        if (!opts.validateFormats)\n            return;\n        const fCxt = new ajv_1.KeywordCxt(it, self.RULES.all.format.definition, \"format\");\n        if (fCxt.$data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fmt = gen.const(\"fmt\", (0, codegen_1._) `${fmts}[${fCxt.schemaCode}]`);\n            cxt.fail$data((0, codegen_1.or)((0, codegen_1._) `typeof ${fmt} != \"object\"`, (0, codegen_1._) `${fmt} instanceof RegExp`, (0, codegen_1._) `typeof ${fmt}.compare != \"function\"`, compareCode(fmt)));\n        }\n        function validateFormat() {\n            const format = fCxt.schema;\n            const fmtDef = self.formats[format];\n            if (!fmtDef || fmtDef === true)\n                return;\n            if (typeof fmtDef != \"object\" ||\n                fmtDef instanceof RegExp ||\n                typeof fmtDef.compare != \"function\") {\n                throw new Error(`\"${keyword}\": format \"${format}\" does not define \"compare\" function`);\n            }\n            const fmt = gen.scopeValue(\"formats\", {\n                key: format,\n                ref: fmtDef,\n                code: opts.code.formats ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(format)}` : undefined,\n            });\n            cxt.fail$data(compareCode(fmt));\n        }\n        function compareCode(fmt) {\n            return (0, codegen_1._) `${fmt}.compare(${data}, ${schemaCode}) ${KWDs[keyword].fail} 0`;\n        }\n    },\n    dependencies: [\"format\"],\n};\nconst formatLimitPlugin = (ajv) => {\n    ajv.addKeyword(exports.formatLimitDefinition);\n    return ajv;\n};\nexports.default = formatLimitPlugin;\n//# sourceMappingURL=limit.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError || (exports.DiscrError = DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"unevaluatedItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        const items = it.items || 0;\n        if (items === true)\n            return;\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        if (schema === false) {\n            cxt.setParams({ len: items });\n            cxt.fail((0, codegen_1._) `${len} > ${items}`);\n        }\n        else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n            const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items}`);\n            gen.if((0, codegen_1.not)(valid), () => validateItems(valid, items));\n            cxt.ok(valid);\n        }\n        it.items = true;\n        function validateItems(valid, from) {\n            gen.forRange(\"i\", from, len, (i) => {\n                cxt.subschema({ keyword: \"unevaluatedItems\", dataProp: i, dataPropType: util_1.Type.Num }, valid);\n                if (!it.allErrors)\n                    gen.if((0, codegen_1.not)(valid), () => gen.break());\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=unevaluatedItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType || (exports.DataType = DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\n// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst metaSchema = require(\"./schema.json\");\nconst applicator = require(\"./meta/applicator.json\");\nconst unevaluated = require(\"./meta/unevaluated.json\");\nconst content = require(\"./meta/content.json\");\nconst core = require(\"./meta/core.json\");\nconst format = require(\"./meta/format-annotation.json\");\nconst metadata = require(\"./meta/meta-data.json\");\nconst validation = require(\"./meta/validation.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nfunction addMetaSchema2020($data) {\n    ;\n    [\n        metaSchema,\n        applicator,\n        unevaluated,\n        content,\n        core,\n        with$data(this, format),\n        metadata,\n        with$data(this, validation),\n    ].forEach((sch) => this.addMetaSchema(sch, undefined, false));\n    return this;\n    function with$data(ajv, sch) {\n        return $data ? ajv.$dataMetaSchema(sch, META_SUPPORT_DATA) : sch;\n    }\n}\nexports.default = addMetaSchema2020;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = exports.Ajv2020 = void 0;\nconst core_1 = require(\"./core\");\nconst draft2020_1 = require(\"./vocabularies/draft2020\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst json_schema_2020_12_1 = require(\"./refs/json-schema-2020-12\");\nconst META_SCHEMA_ID = \"https://json-schema.org/draft/2020-12/schema\";\nclass Ajv2020 extends core_1.default {\n    constructor(opts = {}) {\n        super({\n            ...opts,\n            dynamicRef: true,\n            next: true,\n            unevaluated: true,\n        });\n    }\n    _addVocabularies() {\n        super._addVocabularies();\n        draft2020_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        const { $data, meta } = this.opts;\n        if (!meta)\n            return;\n        json_schema_2020_12_1.default.call(this, $data);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nexports.Ajv2020 = Ajv2020;\nmodule.exports = exports = Ajv2020;\nmodule.exports.Ajv2020 = Ajv2020;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv2020;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","module.exports = require(\"electron\");","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dynamicRef = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst ref_1 = require(\"../core/ref\");\nconst def = {\n    keyword: \"$dynamicRef\",\n    schemaType: \"string\",\n    code: (cxt) => dynamicRef(cxt, cxt.schema),\n};\nfunction dynamicRef(cxt, ref) {\n    const { gen, keyword, it } = cxt;\n    if (ref[0] !== \"#\")\n        throw new Error(`\"${keyword}\" only supports hash fragment reference`);\n    const anchor = ref.slice(1);\n    if (it.allErrors) {\n        _dynamicRef();\n    }\n    else {\n        const valid = gen.let(\"valid\", false);\n        _dynamicRef(valid);\n        cxt.ok(valid);\n    }\n    function _dynamicRef(valid) {\n        // TODO the assumption here is that `recursiveRef: #` always points to the root\n        // of the schema object, which is not correct, because there may be $id that\n        // makes # point to it, and the target schema may not contain dynamic/recursiveAnchor.\n        // Because of that 2 tests in recursiveRef.json fail.\n        // This is a similar problem to #815 (`$id` doesn't alter resolution scope for `{ \"$ref\": \"#\" }`).\n        // (This problem is not tested in JSON-Schema-Test-Suite)\n        if (it.schemaEnv.root.dynamicAnchors[anchor]) {\n            const v = gen.let(\"_v\", (0, codegen_1._) `${names_1.default.dynamicAnchors}${(0, codegen_1.getProperty)(anchor)}`);\n            gen.if(v, _callRef(v, valid), _callRef(it.validateName, valid));\n        }\n        else {\n            _callRef(it.validateName, valid)();\n        }\n    }\n    function _callRef(validate, valid) {\n        return valid\n            ? () => gen.block(() => {\n                (0, ref_1.callRef)(cxt, validate);\n                gen.let(valid, true);\n            })\n            : () => (0, ref_1.callRef)(cxt, validate);\n    }\n}\nexports.dynamicRef = dynamicRef;\nexports.default = def;\n//# sourceMappingURL=dynamicRef.js.map","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, safeSrc: src, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const r = new RegExp(`^${this.options.loose ? src[t.PRERELEASELOOSE] : src[t.PRERELEASE]}$`)\n        const match = `-${identifier}`.match(r)\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let innerBaseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            innerBaseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = innerBaseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(innerBaseId ? _resolve(innerBaseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    const ref = sch.$ref;\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                    if (sch === undefined)\n                        throw new ref_error_1.default(it.opts.uriResolver, it.baseId, ref);\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dynamicRef_1 = require(\"./dynamicRef\");\nconst def = {\n    keyword: \"$recursiveRef\",\n    schemaType: \"string\",\n    code: (cxt) => (0, dynamicRef_1.dynamicRef)(cxt, cxt.schema),\n};\nexports.default = def;\n//# sourceMappingURL=recursiveRef.js.map","'use strict'\n\nconst { HEX } = require('./scopedChars')\n\nconst IPV4_REG = /^(?:(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)$/u\n\nfunction normalizeIPv4 (host) {\n  if (findToken(host, '.') < 3) { return { host, isIPV4: false } }\n  const matches = host.match(IPV4_REG) || []\n  const [address] = matches\n  if (address) {\n    return { host: stripLeadingZeros(address, '.'), isIPV4: true }\n  } else {\n    return { host, isIPV4: false }\n  }\n}\n\n/**\n * @param {string[]} input\n * @param {boolean} [keepZero=false]\n * @returns {string|undefined}\n */\nfunction stringArrayToHexStripped (input, keepZero = false) {\n  let acc = ''\n  let strip = true\n  for (const c of input) {\n    if (HEX[c] === undefined) return undefined\n    if (c !== '0' && strip === true) strip = false\n    if (!strip) acc += c\n  }\n  if (keepZero && acc.length === 0) acc = '0'\n  return acc\n}\n\nfunction getIPV6 (input) {\n  let tokenCount = 0\n  const output = { error: false, address: '', zone: '' }\n  const address = []\n  const buffer = []\n  let isZone = false\n  let endipv6Encountered = false\n  let endIpv6 = false\n\n  function consume () {\n    if (buffer.length) {\n      if (isZone === false) {\n        const hex = stringArrayToHexStripped(buffer)\n        if (hex !== undefined) {\n          address.push(hex)\n        } else {\n          output.error = true\n          return false\n        }\n      }\n      buffer.length = 0\n    }\n    return true\n  }\n\n  for (let i = 0; i < input.length; i++) {\n    const cursor = input[i]\n    if (cursor === '[' || cursor === ']') { continue }\n    if (cursor === ':') {\n      if (endipv6Encountered === true) {\n        endIpv6 = true\n      }\n      if (!consume()) { break }\n      tokenCount++\n      address.push(':')\n      if (tokenCount > 7) {\n        // not valid\n        output.error = true\n        break\n      }\n      if (i - 1 >= 0 && input[i - 1] === ':') {\n        endipv6Encountered = true\n      }\n      continue\n    } else if (cursor === '%') {\n      if (!consume()) { break }\n      // switch to zone detection\n      isZone = true\n    } else {\n      buffer.push(cursor)\n      continue\n    }\n  }\n  if (buffer.length) {\n    if (isZone) {\n      output.zone = buffer.join('')\n    } else if (endIpv6) {\n      address.push(buffer.join(''))\n    } else {\n      address.push(stringArrayToHexStripped(buffer))\n    }\n  }\n  output.address = address.join('')\n  return output\n}\n\nfunction normalizeIPv6 (host) {\n  if (findToken(host, ':') < 2) { return { host, isIPV6: false } }\n  const ipv6 = getIPV6(host)\n\n  if (!ipv6.error) {\n    let newHost = ipv6.address\n    let escapedHost = ipv6.address\n    if (ipv6.zone) {\n      newHost += '%' + ipv6.zone\n      escapedHost += '%25' + ipv6.zone\n    }\n    return { host: newHost, escapedHost, isIPV6: true }\n  } else {\n    return { host, isIPV6: false }\n  }\n}\n\nfunction stripLeadingZeros (str, token) {\n  let out = ''\n  let skip = true\n  const l = str.length\n  for (let i = 0; i < l; i++) {\n    const c = str[i]\n    if (c === '0' && skip) {\n      if ((i + 1 <= l && str[i + 1] === token) || i + 1 === l) {\n        out += c\n        skip = false\n      }\n    } else {\n      if (c === token) {\n        skip = true\n      } else {\n        skip = false\n      }\n      out += c\n    }\n  }\n  return out\n}\n\nfunction findToken (str, token) {\n  let ind = 0\n  for (let i = 0; i < str.length; i++) {\n    if (str[i] === token) ind++\n  }\n  return ind\n}\n\nconst RDS1 = /^\\.\\.?\\//u\nconst RDS2 = /^\\/\\.(?:\\/|$)/u\nconst RDS3 = /^\\/\\.\\.(?:\\/|$)/u\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/u\n\nfunction removeDotSegments (input) {\n  const output = []\n\n  while (input.length) {\n    if (input.match(RDS1)) {\n      input = input.replace(RDS1, '')\n    } else if (input.match(RDS2)) {\n      input = input.replace(RDS2, '/')\n    } else if (input.match(RDS3)) {\n      input = input.replace(RDS3, '/')\n      output.pop()\n    } else if (input === '.' || input === '..') {\n      input = ''\n    } else {\n      const im = input.match(RDS5)\n      if (im) {\n        const s = im[0]\n        input = input.slice(s.length)\n        output.push(s)\n      } else {\n        throw new Error('Unexpected dot segment condition')\n      }\n    }\n  }\n  return output.join('')\n}\n\nfunction normalizeComponentEncoding (components, esc) {\n  const func = esc !== true ? escape : unescape\n  if (components.scheme !== undefined) {\n    components.scheme = func(components.scheme)\n  }\n  if (components.userinfo !== undefined) {\n    components.userinfo = func(components.userinfo)\n  }\n  if (components.host !== undefined) {\n    components.host = func(components.host)\n  }\n  if (components.path !== undefined) {\n    components.path = func(components.path)\n  }\n  if (components.query !== undefined) {\n    components.query = func(components.query)\n  }\n  if (components.fragment !== undefined) {\n    components.fragment = func(components.fragment)\n  }\n  return components\n}\n\nfunction recomposeAuthority (components) {\n  const uriTokens = []\n\n  if (components.userinfo !== undefined) {\n    uriTokens.push(components.userinfo)\n    uriTokens.push('@')\n  }\n\n  if (components.host !== undefined) {\n    let host = unescape(components.host)\n    const ipV4res = normalizeIPv4(host)\n\n    if (ipV4res.isIPV4) {\n      host = ipV4res.host\n    } else {\n      const ipV6res = normalizeIPv6(ipV4res.host)\n      if (ipV6res.isIPV6 === true) {\n        host = `[${ipV6res.escapedHost}]`\n      } else {\n        host = components.host\n      }\n    }\n    uriTokens.push(host)\n  }\n\n  if (typeof components.port === 'number' || typeof components.port === 'string') {\n    uriTokens.push(':')\n    uriTokens.push(String(components.port))\n  }\n\n  return uriTokens.length ? uriTokens.join('') : undefined\n};\n\nmodule.exports = {\n  recomposeAuthority,\n  normalizeComponentEncoding,\n  removeDotSegments,\n  normalizeIPv4,\n  normalizeIPv6,\n  stringArrayToHexStripped\n}\n","'use strict'\n\nconst HEX = {\n  0: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  4: 4,\n  5: 5,\n  6: 6,\n  7: 7,\n  8: 8,\n  9: 9,\n  a: 10,\n  A: 10,\n  b: 11,\n  B: 11,\n  c: 12,\n  C: 12,\n  d: 13,\n  D: 13,\n  e: 14,\n  E: 14,\n  f: 15,\n  F: 15\n}\n\nmodule.exports = {\n  HEX\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type || (exports.Type = Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst formats_1 = require(\"./formats\");\nconst limit_1 = require(\"./limit\");\nconst codegen_1 = require(\"ajv/dist/compile/codegen\");\nconst fullName = new codegen_1.Name(\"fullFormats\");\nconst fastName = new codegen_1.Name(\"fastFormats\");\nconst formatsPlugin = (ajv, opts = { keywords: true }) => {\n    if (Array.isArray(opts)) {\n        addFormats(ajv, opts, formats_1.fullFormats, fullName);\n        return ajv;\n    }\n    const [formats, exportName] = opts.mode === \"fast\" ? [formats_1.fastFormats, fastName] : [formats_1.fullFormats, fullName];\n    const list = opts.formats || formats_1.formatNames;\n    addFormats(ajv, list, formats, exportName);\n    if (opts.keywords)\n        (0, limit_1.default)(ajv);\n    return ajv;\n};\nformatsPlugin.get = (name, mode = \"full\") => {\n    const formats = mode === \"fast\" ? formats_1.fastFormats : formats_1.fullFormats;\n    const f = formats[name];\n    if (!f)\n        throw new Error(`Unknown format \"${name}\"`);\n    return f;\n};\nfunction addFormats(ajv, list, fs, exportName) {\n    var _a;\n    var _b;\n    (_a = (_b = ajv.opts.code).formats) !== null && _a !== void 0 ? _a : (_b.formats = (0, codegen_1._) `require(\"ajv-formats/dist/formats\").${exportName}`);\n    for (const f of list)\n        ajv.addFormat(f, fs[f]);\n}\nmodule.exports = exports = formatsPlugin;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = formatsPlugin;\n//# sourceMappingURL=index.js.map","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dynamicAnchor_1 = require(\"./dynamicAnchor\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$recursiveAnchor\",\n    schemaType: \"boolean\",\n    code(cxt) {\n        if (cxt.schema)\n            (0, dynamicAnchor_1.dynamicAnchor)(cxt, \"\");\n        else\n            (0, util_1.checkStrictMode)(cxt.it, \"$recursiveAnchor: false is ignored\");\n    },\n};\nexports.default = def;\n//# sourceMappingURL=recursiveAnchor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil], // TODO can its length be used as dataLevel if nil is removed?\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nexports.default = Ajv;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dependentRequired_1 = require(\"./validation/dependentRequired\");\nconst dependentSchemas_1 = require(\"./applicator/dependentSchemas\");\nconst limitContains_1 = require(\"./validation/limitContains\");\nconst next = [dependentRequired_1.default, dependentSchemas_1.default, limitContains_1.default];\nexports.default = next;\n//# sourceMappingURL=next.js.map","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // If the main part has no difference\n    if (lowVersion.compareMain(highVersion) === 0) {\n      if (lowVersion.minor && !lowVersion.patch) {\n        return 'minor'\n      }\n      return 'patch'\n    }\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst unevaluatedProperties_1 = require(\"./unevaluatedProperties\");\nconst unevaluatedItems_1 = require(\"./unevaluatedItems\");\nconst unevaluated = [unevaluatedProperties_1.default, unevaluatedItems_1.default];\nexports.default = unevaluated;\n//# sourceMappingURL=index.js.map","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dynamicAnchor = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst ref_1 = require(\"../core/ref\");\nconst def = {\n    keyword: \"$dynamicAnchor\",\n    schemaType: \"string\",\n    code: (cxt) => dynamicAnchor(cxt, cxt.schema),\n};\nfunction dynamicAnchor(cxt, anchor) {\n    const { gen, it } = cxt;\n    it.schemaEnv.root.dynamicAnchors[anchor] = true;\n    const v = (0, codegen_1._) `${names_1.default.dynamicAnchors}${(0, codegen_1.getProperty)(anchor)}`;\n    const validate = it.errSchemaPath === \"#\" ? it.validateName : _getValidate(cxt);\n    gen.if((0, codegen_1._) `!${v}`, () => gen.assign(v, validate));\n}\nexports.dynamicAnchor = dynamicAnchor;\nfunction _getValidate(cxt) {\n    const { schemaEnv, schema, self } = cxt.it;\n    const { root, baseId, localRefs, meta } = schemaEnv.root;\n    const { schemaId } = self.opts;\n    const sch = new compile_1.SchemaEnv({ schema, schemaId, root, baseId, localRefs, meta });\n    compile_1.compileSchema.call(self, sch);\n    return (0, ref_1.getValidate)(cxt, sch);\n}\nexports.default = def;\n//# sourceMappingURL=dynamicAnchor.js.map","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst dynamic_1 = require(\"./dynamic\");\nconst next_1 = require(\"./next\");\nconst unevaluated_1 = require(\"./unevaluated\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft2020Vocabularies = [\n    dynamic_1.default,\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(true),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n    next_1.default,\n    unevaluated_1.default,\n];\nexports.default = draft2020Vocabularies;\n//# sourceMappingURL=draft2020.js.map","class LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"), // data passed to validation function\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"), // validation/data context - should not be used directly, it is destructured to the names below\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"), // root data - same as the data passed to the first/top validation function\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"), // used to support recursiveRef and dynamicRef\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"), // null or array of validation errors\n    errors: new codegen_1.Name(\"errors\"), // counter of validation errors\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst names_1 = require(\"../../compile/names\");\nconst error = {\n    message: \"must NOT have unevaluated properties\",\n    params: ({ params }) => (0, codegen_1._) `{unevaluatedProperty: ${params.unevaluatedProperty}}`,\n};\nconst def = {\n    keyword: \"unevaluatedProperties\",\n    type: \"object\",\n    schemaType: [\"boolean\", \"object\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, props } = it;\n        if (props instanceof codegen_1.Name) {\n            gen.if((0, codegen_1._) `${props} !== true`, () => gen.forIn(\"key\", data, (key) => gen.if(unevaluatedDynamic(props, key), () => unevaluatedPropCode(key))));\n        }\n        else if (props !== true) {\n            gen.forIn(\"key\", data, (key) => props === undefined\n                ? unevaluatedPropCode(key)\n                : gen.if(unevaluatedStatic(props, key), () => unevaluatedPropCode(key)));\n        }\n        it.props = true;\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function unevaluatedPropCode(key) {\n            if (schema === false) {\n                cxt.setParams({ unevaluatedProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (!(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                cxt.subschema({\n                    keyword: \"unevaluatedProperties\",\n                    dataProp: key,\n                    dataPropType: util_1.Type.Str,\n                }, valid);\n                if (!allErrors)\n                    gen.if((0, codegen_1.not)(valid), () => gen.break());\n            }\n        }\n        function unevaluatedDynamic(evaluatedProps, key) {\n            return (0, codegen_1._) `!${evaluatedProps} || !${evaluatedProps}[${key}]`;\n        }\n        function unevaluatedStatic(evaluatedProps, key) {\n            const ps = [];\n            for (const p in evaluatedProps) {\n                if (evaluatedProps[p] === true)\n                    ps.push((0, codegen_1._) `${key} !== ${p}`);\n            }\n            return (0, codegen_1.and)(...ps);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=unevaluatedProperties.js.map","const SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","'use strict'\n\nconst { normalizeIPv6, normalizeIPv4, removeDotSegments, recomposeAuthority, normalizeComponentEncoding } = require('./lib/utils')\nconst SCHEMES = require('./lib/schemes')\n\nfunction normalize (uri, options) {\n  if (typeof uri === 'string') {\n    uri = serialize(parse(uri, options), options)\n  } else if (typeof uri === 'object') {\n    uri = parse(serialize(uri, options), options)\n  }\n  return uri\n}\n\nfunction resolve (baseURI, relativeURI, options) {\n  const schemelessOptions = Object.assign({ scheme: 'null' }, options)\n  const resolved = resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true)\n  return serialize(resolved, { ...schemelessOptions, skipEscape: true })\n}\n\nfunction resolveComponents (base, relative, options, skipNormalization) {\n  const target = {}\n  if (!skipNormalization) {\n    base = parse(serialize(base, options), options) // normalize base components\n    relative = parse(serialize(relative, options), options) // normalize relative components\n  }\n  options = options || {}\n\n  if (!options.tolerant && relative.scheme) {\n    target.scheme = relative.scheme\n    // target.authority = relative.authority;\n    target.userinfo = relative.userinfo\n    target.host = relative.host\n    target.port = relative.port\n    target.path = removeDotSegments(relative.path || '')\n    target.query = relative.query\n  } else {\n    if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n      // target.authority = relative.authority;\n      target.userinfo = relative.userinfo\n      target.host = relative.host\n      target.port = relative.port\n      target.path = removeDotSegments(relative.path || '')\n      target.query = relative.query\n    } else {\n      if (!relative.path) {\n        target.path = base.path\n        if (relative.query !== undefined) {\n          target.query = relative.query\n        } else {\n          target.query = base.query\n        }\n      } else {\n        if (relative.path.charAt(0) === '/') {\n          target.path = removeDotSegments(relative.path)\n        } else {\n          if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n            target.path = '/' + relative.path\n          } else if (!base.path) {\n            target.path = relative.path\n          } else {\n            target.path = base.path.slice(0, base.path.lastIndexOf('/') + 1) + relative.path\n          }\n          target.path = removeDotSegments(target.path)\n        }\n        target.query = relative.query\n      }\n      // target.authority = base.authority;\n      target.userinfo = base.userinfo\n      target.host = base.host\n      target.port = base.port\n    }\n    target.scheme = base.scheme\n  }\n\n  target.fragment = relative.fragment\n\n  return target\n}\n\nfunction equal (uriA, uriB, options) {\n  if (typeof uriA === 'string') {\n    uriA = unescape(uriA)\n    uriA = serialize(normalizeComponentEncoding(parse(uriA, options), true), { ...options, skipEscape: true })\n  } else if (typeof uriA === 'object') {\n    uriA = serialize(normalizeComponentEncoding(uriA, true), { ...options, skipEscape: true })\n  }\n\n  if (typeof uriB === 'string') {\n    uriB = unescape(uriB)\n    uriB = serialize(normalizeComponentEncoding(parse(uriB, options), true), { ...options, skipEscape: true })\n  } else if (typeof uriB === 'object') {\n    uriB = serialize(normalizeComponentEncoding(uriB, true), { ...options, skipEscape: true })\n  }\n\n  return uriA.toLowerCase() === uriB.toLowerCase()\n}\n\nfunction serialize (cmpts, opts) {\n  const components = {\n    host: cmpts.host,\n    scheme: cmpts.scheme,\n    userinfo: cmpts.userinfo,\n    port: cmpts.port,\n    path: cmpts.path,\n    query: cmpts.query,\n    nid: cmpts.nid,\n    nss: cmpts.nss,\n    uuid: cmpts.uuid,\n    fragment: cmpts.fragment,\n    reference: cmpts.reference,\n    resourceName: cmpts.resourceName,\n    secure: cmpts.secure,\n    error: ''\n  }\n  const options = Object.assign({}, opts)\n  const uriTokens = []\n\n  // find scheme handler\n  const schemeHandler = SCHEMES[(options.scheme || components.scheme || '').toLowerCase()]\n\n  // perform scheme specific serialization\n  if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options)\n\n  if (components.path !== undefined) {\n    if (!options.skipEscape) {\n      components.path = escape(components.path)\n\n      if (components.scheme !== undefined) {\n        components.path = components.path.split('%3A').join(':')\n      }\n    } else {\n      components.path = unescape(components.path)\n    }\n  }\n\n  if (options.reference !== 'suffix' && components.scheme) {\n    uriTokens.push(components.scheme, ':')\n  }\n\n  const authority = recomposeAuthority(components)\n  if (authority !== undefined) {\n    if (options.reference !== 'suffix') {\n      uriTokens.push('//')\n    }\n\n    uriTokens.push(authority)\n\n    if (components.path && components.path.charAt(0) !== '/') {\n      uriTokens.push('/')\n    }\n  }\n  if (components.path !== undefined) {\n    let s = components.path\n\n    if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n      s = removeDotSegments(s)\n    }\n\n    if (authority === undefined) {\n      s = s.replace(/^\\/\\//u, '/%2F') // don't allow the path to start with \"//\"\n    }\n\n    uriTokens.push(s)\n  }\n\n  if (components.query !== undefined) {\n    uriTokens.push('?', components.query)\n  }\n\n  if (components.fragment !== undefined) {\n    uriTokens.push('#', components.fragment)\n  }\n  return uriTokens.join('')\n}\n\nconst hexLookUp = Array.from({ length: 127 }, (_v, k) => /[^!\"$&'()*+,\\-.;=_`a-z{}~]/u.test(String.fromCharCode(k)))\n\nfunction nonSimpleDomain (value) {\n  let code = 0\n  for (let i = 0, len = value.length; i < len; ++i) {\n    code = value.charCodeAt(i)\n    if (code > 126 || hexLookUp[code]) {\n      return true\n    }\n  }\n  return false\n}\n\nconst URI_PARSE = /^(?:([^#/:?]+):)?(?:\\/\\/((?:([^#/?@]*)@)?(\\[[^#/?\\]]+\\]|[^#/:?]*)(?::(\\d*))?))?([^#?]*)(?:\\?([^#]*))?(?:#((?:.|[\\n\\r])*))?/u\n\nfunction parse (uri, opts) {\n  const options = Object.assign({}, opts)\n  const parsed = {\n    scheme: undefined,\n    userinfo: undefined,\n    host: '',\n    port: undefined,\n    path: '',\n    query: undefined,\n    fragment: undefined\n  }\n  const gotEncoding = uri.indexOf('%') !== -1\n  let isIP = false\n  if (options.reference === 'suffix') uri = (options.scheme ? options.scheme + ':' : '') + '//' + uri\n\n  const matches = uri.match(URI_PARSE)\n\n  if (matches) {\n    // store each component\n    parsed.scheme = matches[1]\n    parsed.userinfo = matches[3]\n    parsed.host = matches[4]\n    parsed.port = parseInt(matches[5], 10)\n    parsed.path = matches[6] || ''\n    parsed.query = matches[7]\n    parsed.fragment = matches[8]\n\n    // fix port number\n    if (isNaN(parsed.port)) {\n      parsed.port = matches[5]\n    }\n    if (parsed.host) {\n      const ipv4result = normalizeIPv4(parsed.host)\n      if (ipv4result.isIPV4 === false) {\n        const ipv6result = normalizeIPv6(ipv4result.host)\n        parsed.host = ipv6result.host.toLowerCase()\n        isIP = ipv6result.isIPV6\n      } else {\n        parsed.host = ipv4result.host\n        isIP = true\n      }\n    }\n    if (parsed.scheme === undefined && parsed.userinfo === undefined && parsed.host === undefined && parsed.port === undefined && parsed.query === undefined && !parsed.path) {\n      parsed.reference = 'same-document'\n    } else if (parsed.scheme === undefined) {\n      parsed.reference = 'relative'\n    } else if (parsed.fragment === undefined) {\n      parsed.reference = 'absolute'\n    } else {\n      parsed.reference = 'uri'\n    }\n\n    // check for reference errors\n    if (options.reference && options.reference !== 'suffix' && options.reference !== parsed.reference) {\n      parsed.error = parsed.error || 'URI is not a ' + options.reference + ' reference.'\n    }\n\n    // find scheme handler\n    const schemeHandler = SCHEMES[(options.scheme || parsed.scheme || '').toLowerCase()]\n\n    // check if scheme can't handle IRIs\n    if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n      // if host component is a domain name\n      if (parsed.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost)) && isIP === false && nonSimpleDomain(parsed.host)) {\n        // convert Unicode IDN -> ASCII IDN\n        try {\n          parsed.host = URL.domainToASCII(parsed.host.toLowerCase())\n        } catch (e) {\n          parsed.error = parsed.error || \"Host's domain name can not be converted to ASCII: \" + e\n        }\n      }\n      // convert IRI -> URI\n    }\n\n    if (!schemeHandler || (schemeHandler && !schemeHandler.skipNormalize)) {\n      if (gotEncoding && parsed.scheme !== undefined) {\n        parsed.scheme = unescape(parsed.scheme)\n      }\n      if (gotEncoding && parsed.host !== undefined) {\n        parsed.host = unescape(parsed.host)\n      }\n      if (parsed.path) {\n        parsed.path = escape(unescape(parsed.path))\n      }\n      if (parsed.fragment) {\n        parsed.fragment = encodeURI(decodeURIComponent(parsed.fragment))\n      }\n    }\n\n    // perform scheme specific parsing\n    if (schemeHandler && schemeHandler.parse) {\n      schemeHandler.parse(parsed, options)\n    }\n  } else {\n    parsed.error = parsed.error || 'URI can not be parsed.'\n  }\n  return parsed\n}\n\nconst fastUri = {\n  SCHEMES,\n  normalize,\n  resolve,\n  resolveComponents,\n  equal,\n  serialize,\n  parse\n}\n\nmodule.exports = fastUri\nmodule.exports.default = fastUri\nmodule.exports.fastUri = fastUri\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    narrowSchemaTypes(it, types);\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction narrowSchemaTypes(it, withTypes) {\n    const ts = [];\n    for (const t of it.dataTypes) {\n        if (includesType(withTypes, t))\n            ts.push(t);\n        else if (withTypes.includes(\"integer\") && t === \"number\")\n            ts.push(\"integer\");\n    }\n    it.dataTypes = ts;\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dynamicAnchor_1 = require(\"./dynamicAnchor\");\nconst dynamicRef_1 = require(\"./dynamicRef\");\nconst recursiveAnchor_1 = require(\"./recursiveAnchor\");\nconst recursiveRef_1 = require(\"./recursiveRef\");\nconst dynamic = [dynamicAnchor_1.default, dynamicRef_1.default, recursiveAnchor_1.default, recursiveRef_1.default];\nexports.default = dynamic;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = exports.Ajv = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nexports.Ajv = Ajv;\nmodule.exports = exports = Ajv;\nmodule.exports.Ajv = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dependencies_1 = require(\"../applicator/dependencies\");\nconst def = {\n    keyword: \"dependentRequired\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: dependencies_1.error,\n    code: (cxt) => (0, dependencies_1.validatePropertyDeps)(cxt),\n};\nexports.default = def;\n//# sourceMappingURL=dependentRequired.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"), // also used in JTD errors\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatNames = exports.fastFormats = exports.fullFormats = void 0;\nfunction fmtDef(validate, compare) {\n    return { validate, compare };\n}\nexports.fullFormats = {\n    // date: http://tools.ietf.org/html/rfc3339#section-5.6\n    date: fmtDef(date, compareDate),\n    // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n    time: fmtDef(getTime(true), compareTime),\n    \"date-time\": fmtDef(getDateTime(true), compareDateTime),\n    \"iso-time\": fmtDef(getTime(), compareIsoTime),\n    \"iso-date-time\": fmtDef(getDateTime(), compareIsoDateTime),\n    // duration: https://tools.ietf.org/html/rfc3339#appendix-A\n    duration: /^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$/,\n    uri,\n    \"uri-reference\": /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n    // uri-template: https://tools.ietf.org/html/rfc6570\n    \"uri-template\": /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n    // For the source: https://gist.github.com/dperini/729294\n    // For test cases: https://mathiasbynens.be/demo/url-regex\n    url: /^(?:https?|ftp):\\/\\/(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)(?:\\.(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n    email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n    hostname: /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,\n    // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n    ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$/,\n    ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))$/i,\n    regex,\n    // uuid: http://tools.ietf.org/html/rfc4122\n    uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n    // JSON-pointer: https://tools.ietf.org/html/rfc6901\n    // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n    \"json-pointer\": /^(?:\\/(?:[^~/]|~0|~1)*)*$/,\n    \"json-pointer-uri-fragment\": /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n    // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n    \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n    // the following formats are used by the openapi specification: https://spec.openapis.org/oas/v3.0.0#data-types\n    // byte: https://github.com/miguelmota/is-base64\n    byte,\n    // signed 32 bit integer\n    int32: { type: \"number\", validate: validateInt32 },\n    // signed 64 bit integer\n    int64: { type: \"number\", validate: validateInt64 },\n    // C-type float\n    float: { type: \"number\", validate: validateNumber },\n    // C-type double\n    double: { type: \"number\", validate: validateNumber },\n    // hint to the UI to hide input strings\n    password: true,\n    // unchecked string payload\n    binary: true,\n};\nexports.fastFormats = {\n    ...exports.fullFormats,\n    date: fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/, compareDate),\n    time: fmtDef(/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i, compareTime),\n    \"date-time\": fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\dt(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i, compareDateTime),\n    \"iso-time\": fmtDef(/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i, compareIsoTime),\n    \"iso-date-time\": fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i, compareIsoDateTime),\n    // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n    uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n    \"uri-reference\": /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n    // email (sources from jsen validator):\n    // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n    // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'wilful violation')\n    email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n};\nexports.formatNames = Object.keys(exports.fullFormats);\nfunction isLeapYear(year) {\n    // https://tools.ietf.org/html/rfc3339#appendix-C\n    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\nconst DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nconst DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction date(str) {\n    // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n    const matches = DATE.exec(str);\n    if (!matches)\n        return false;\n    const year = +matches[1];\n    const month = +matches[2];\n    const day = +matches[3];\n    return (month >= 1 &&\n        month <= 12 &&\n        day >= 1 &&\n        day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month]));\n}\nfunction compareDate(d1, d2) {\n    if (!(d1 && d2))\n        return undefined;\n    if (d1 > d2)\n        return 1;\n    if (d1 < d2)\n        return -1;\n    return 0;\n}\nconst TIME = /^(\\d\\d):(\\d\\d):(\\d\\d(?:\\.\\d+)?)(z|([+-])(\\d\\d)(?::?(\\d\\d))?)?$/i;\nfunction getTime(strictTimeZone) {\n    return function time(str) {\n        const matches = TIME.exec(str);\n        if (!matches)\n            return false;\n        const hr = +matches[1];\n        const min = +matches[2];\n        const sec = +matches[3];\n        const tz = matches[4];\n        const tzSign = matches[5] === \"-\" ? -1 : 1;\n        const tzH = +(matches[6] || 0);\n        const tzM = +(matches[7] || 0);\n        if (tzH > 23 || tzM > 59 || (strictTimeZone && !tz))\n            return false;\n        if (hr <= 23 && min <= 59 && sec < 60)\n            return true;\n        // leap second\n        const utcMin = min - tzM * tzSign;\n        const utcHr = hr - tzH * tzSign - (utcMin < 0 ? 1 : 0);\n        return (utcHr === 23 || utcHr === -1) && (utcMin === 59 || utcMin === -1) && sec < 61;\n    };\n}\nfunction compareTime(s1, s2) {\n    if (!(s1 && s2))\n        return undefined;\n    const t1 = new Date(\"2020-01-01T\" + s1).valueOf();\n    const t2 = new Date(\"2020-01-01T\" + s2).valueOf();\n    if (!(t1 && t2))\n        return undefined;\n    return t1 - t2;\n}\nfunction compareIsoTime(t1, t2) {\n    if (!(t1 && t2))\n        return undefined;\n    const a1 = TIME.exec(t1);\n    const a2 = TIME.exec(t2);\n    if (!(a1 && a2))\n        return undefined;\n    t1 = a1[1] + a1[2] + a1[3];\n    t2 = a2[1] + a2[2] + a2[3];\n    if (t1 > t2)\n        return 1;\n    if (t1 < t2)\n        return -1;\n    return 0;\n}\nconst DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction getDateTime(strictTimeZone) {\n    const time = getTime(strictTimeZone);\n    return function date_time(str) {\n        // http://tools.ietf.org/html/rfc3339#section-5.6\n        const dateTime = str.split(DATE_TIME_SEPARATOR);\n        return dateTime.length === 2 && date(dateTime[0]) && time(dateTime[1]);\n    };\n}\nfunction compareDateTime(dt1, dt2) {\n    if (!(dt1 && dt2))\n        return undefined;\n    const d1 = new Date(dt1).valueOf();\n    const d2 = new Date(dt2).valueOf();\n    if (!(d1 && d2))\n        return undefined;\n    return d1 - d2;\n}\nfunction compareIsoDateTime(dt1, dt2) {\n    if (!(dt1 && dt2))\n        return undefined;\n    const [d1, t1] = dt1.split(DATE_TIME_SEPARATOR);\n    const [d2, t2] = dt2.split(DATE_TIME_SEPARATOR);\n    const res = compareDate(d1, d2);\n    if (res === undefined)\n        return undefined;\n    return res || compareTime(t1, t2);\n}\nconst NOT_URI_FRAGMENT = /\\/|:/;\nconst URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nfunction uri(str) {\n    // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n    return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\nconst BYTE = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;\nfunction byte(str) {\n    BYTE.lastIndex = 0;\n    return BYTE.test(str);\n}\nconst MIN_INT32 = -(2 ** 31);\nconst MAX_INT32 = 2 ** 31 - 1;\nfunction validateInt32(value) {\n    return Number.isInteger(value) && value <= MAX_INT32 && value >= MIN_INT32;\n}\nfunction validateInt64(value) {\n    // JSON and javascript max Int is 2**53, so any int that passes isInteger is valid for Int64\n    return Number.isInteger(value);\n}\nfunction validateNumber() {\n    return true;\n}\nconst Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n    if (Z_ANCHOR.test(str))\n        return false;\n    try {\n        new RegExp(str);\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n//# sourceMappingURL=formats.js.map","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","module.exports = require(\"fs\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"path\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"crypto\");","// Download state enum\r\nexport enum DownloadStatus {\r\n  QUEUED = 'queued',\r\n  DOWNLOADING = 'downloading',\r\n  PAUSED = 'paused',\r\n  COMPLETED = 'completed',\r\n  ERROR = 'error',\r\n}\r\n\r\n// Interface for a download item\r\nexport interface DownloadItem {\r\n  id: string;\r\n  url: string;\r\n  filename: string;\r\n  status: DownloadStatus;\r\n  progress: number;\r\n  speed: number;\r\n  size: number;\r\n  downloaded: number;\r\n  eta: number;\r\n  createdAt: Date | string;\r\n  segments: DownloadSegment[];\r\n  error?: string;\r\n  downloadFolder?: string;\r\n  options?: DownloadOptions;\r\n}\r\n\r\n// Interface for a download segment\r\nexport interface DownloadSegment {\r\n  id: number;\r\n  start: number;\r\n  end: number;\r\n  downloaded: number;\r\n  progress: number;\r\n  status: DownloadStatus;\r\n}\r\n\r\n// Interface for the application state\r\nexport interface AppState {\r\n  downloads: DownloadItem[];\r\n  activeDownloads: number;\r\n  maxConcurrent: number;\r\n  totalSpeed: number;\r\n}\r\n\r\n// Interface for application settings (e.g., saved in electron-store)\r\nexport interface AppSettings {\r\n    defaultDownloadPath: string;\r\n    maxConcurrentDownloads: number;\r\n    language?: string;\r\n    // Add other settings as needed\r\n}\r\n\r\n// Interface for the electronAPI exposed to the renderer\r\nexport interface ElectronAPI {\r\n  addDownload: (url: string, options?: DownloadOptions) => Promise<{ id: string, url: string, filename?: string, fileSize?: number, existsOnDisk?: boolean }>;\r\n  createNewDownload: (url: string, options?: DownloadOptions) => Promise<{ id: string, url: string, filename?: string, originalFilename?: string }>;\r\n  pauseDownload: (id: string) => Promise<void>;\r\n  resumeDownload: (id: string) => Promise<void>;\r\n  cancelDownload: (id: string) => Promise<void>;\r\n  removeDownload: (id: string) => Promise<void>;\r\n  onDownloadProgress: (callback: (progress: any) => void) => () => void;\r\n  onDownloadsLoaded: (callback: (downloads: DownloadItem[]) => void) => () => void;\r\n  onDownloadRemoved: (callback: (id: string) => void) => () => void;\r\n  onExtensionFileExists: (callback: (result: any) => void) => () => void;\r\n  offExtensionFileExists: (callback: (result: any) => void) => void;\r\n  onExtensionDuplicateUrl: (callback: (result: any) => void) => () => void;\r\n  offExtensionDuplicateUrl: (callback: (result: any) => void) => void;\r\n  onExtensionDownload: (callback: (request: { url: string, filename?: string, fileSize?: number }) => void) => () => void;\r\n  offExtensionDownload: (callback: (request: { url: string, filename?: string, fileSize?: number }) => void) => void;\r\n  selectFolder: () => Promise<{ canceled: boolean, filePaths: string[] }>;\r\n  openFile: (id: string) => Promise<boolean>;\r\n  showInFolder: (id: string) => Promise<boolean>;\r\n  rendererReady: () => void;\r\n  getCategories: () => Promise<string[]>;\r\n  addCategory: (category: string) => Promise<void>;\r\n  getDefaultPathForCategory: (category: string) => Promise<string>;\r\n  savePathForCategory: (category: string, path: string) => Promise<void>;\r\n}\r\n\r\n// Download options interface\r\nexport interface DownloadOptions {\r\n  connections?: number;\r\n  segmentSize?: number;\r\n  maxRetries?: number;\r\n  dynamicConnections?: boolean;\r\n  forceNewDownload?: boolean;\r\n  resumeExisting?: boolean;\r\n  downloadFolder?: string;\r\n  startPaused?: boolean;\r\n  customFilename?: string;\r\n  category?: string;\r\n  description?: string;\r\n  savePath?: string;\r\n} ","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.8.4\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"https\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"http\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"events\");","import axios from 'axios';\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\nimport * as https from 'https';\r\nimport * as http from 'http';\r\nimport { EventEmitter } from 'events';\r\nimport { DownloadItem, DownloadStatus, DownloadSegment } from '../common/types';\r\n\r\n// Number of concurrent connections per download\r\nconst DEFAULT_CONNECTIONS = 8;\r\n// Default segment size (5MB)\r\nconst DEFAULT_SEGMENT_SIZE = 5 * 1024 * 1024;\r\n// Minimum file size to use segmented download (1MB)\r\nconst MIN_SIZE_FOR_SEGMENTATION = 1 * 1024 * 1024;\r\n// Minimum speed to consider a connection healthy (10KB/s)\r\nconst MIN_HEALTHY_SPEED = 10 * 1024;\r\n// Maximum retries for failed segments\r\nconst MAX_SEGMENT_RETRIES = 3;\r\n// Interval to check connection health (5 seconds)\r\nconst CONNECTION_HEALTH_CHECK_INTERVAL = 5000;\r\n\r\ninterface DownloadOptions {\r\n  url: string;\r\n  filename: string;\r\n  directory: string;\r\n  connections?: number;\r\n  segmentSize?: number;\r\n  maxRetries?: number;\r\n  dynamicConnections?: boolean;\r\n}\r\n\r\nexport class DownloadEngine extends EventEmitter {\r\n  private activeDownloads: Map<string, DownloadTask>;\r\n\r\n  constructor() {\r\n    super();\r\n    this.activeDownloads = new Map();\r\n  }\r\n\r\n  /**\r\n   * Start a new download\r\n   */\r\n  public async startDownload(id: string, options: DownloadOptions): Promise<void> {\r\n    // Create a new download task\r\n    const task = new DownloadTask(id, options);\r\n    \r\n    // Add event listeners\r\n    task.on('progress', (progress) => {\r\n      this.emit('progress', { id, ...progress });\r\n    });\r\n    \r\n    task.on('complete', () => {\r\n      this.activeDownloads.delete(id);\r\n      this.emit('complete', { id });\r\n    });\r\n    \r\n    task.on('error', (error) => {\r\n      this.activeDownloads.delete(id);\r\n      this.emit('error', { id, error });\r\n    });\r\n    \r\n    // Start the download\r\n    this.activeDownloads.set(id, task);\r\n    task.start();\r\n  }\r\n\r\n  /**\r\n   * Start a new download with existing segment information\r\n   */\r\n  public async resumeDownloadWithSegments(id: string, options: DownloadOptions, savedData: any): Promise<void> {\r\n    // Create a new download task with saved data\r\n    const task = new DownloadTask(id, options);\r\n    \r\n    // Add event listeners\r\n    task.on('progress', (progress) => {\r\n      this.emit('progress', { id, ...progress });\r\n    });\r\n    \r\n    task.on('complete', () => {\r\n      this.activeDownloads.delete(id);\r\n      this.emit('complete', { id });\r\n    });\r\n    \r\n    task.on('error', (error) => {\r\n      this.activeDownloads.delete(id);\r\n      this.emit('error', { id, error });\r\n    });\r\n    \r\n    // Set the saved data\r\n    await task.restoreState(savedData);\r\n    \r\n    // Start the download\r\n    this.activeDownloads.set(id, task);\r\n    task.resume();\r\n  }\r\n\r\n  /**\r\n   * Pause a download\r\n   */\r\n  public pauseDownload(id: string, silent = false): boolean {\r\n    const task = this.activeDownloads.get(id);\r\n    if (!task) {\r\n      console.error(`Cannot pause download ${id}: not active`);\r\n      return false;\r\n    }\r\n    \r\n    return task.pause(silent);\r\n  }\r\n\r\n  /**\r\n   * Resume a download\r\n   */\r\n  public resumeDownload(id: string): boolean {\r\n    const task = this.activeDownloads.get(id);\r\n    if (!task) {\r\n      return false;\r\n    }\r\n    \r\n    return task.resume();\r\n  }\r\n\r\n  /**\r\n   * Cancel a download\r\n   */\r\n  public cancelDownload(id: string): boolean {\r\n    const task = this.activeDownloads.get(id);\r\n    if (!task) {\r\n      return false;\r\n    }\r\n    \r\n    task.cancel();\r\n    this.activeDownloads.delete(id);\r\n    return true;\r\n  }\r\n}\r\n\r\n/**\r\n * Manages a single download with multiple connections\r\n */\r\nclass DownloadTask extends EventEmitter {\r\n  private id: string;\r\n  private url: string;\r\n  private filename: string;\r\n  private directory: string;\r\n  private connections: number;\r\n  private segmentSize: number;\r\n  private fileSize: number;\r\n  private downloadedBytes: number;\r\n  private segments: DownloadSegment[];\r\n  private activeSegments: Set<number>;\r\n  private status: DownloadStatus;\r\n  private startTime: number;\r\n  private lastUpdateTime: number;\r\n  private lastDownloadedBytes: number;\r\n  private speed: number;\r\n  private tempDirectory: string;\r\n  private downloadRequests: http.ClientRequest[];\r\n  private downloadInterval: NodeJS.Timeout | null;\r\n  private healthCheckInterval: NodeJS.Timeout | null;\r\n  private maxRetries: number;\r\n  private segmentRetries: Map<number, number>;\r\n  private dynamicConnections: boolean;\r\n  private segmentSpeeds: Map<number, number>;\r\n\r\n  constructor(id: string, options: DownloadOptions) {\r\n    super();\r\n    this.id = id;\r\n    this.url = options.url;\r\n    this.filename = options.filename;\r\n    this.directory = options.directory;\r\n    this.connections = options.connections || DEFAULT_CONNECTIONS;\r\n    this.segmentSize = options.segmentSize || DEFAULT_SEGMENT_SIZE;\r\n    this.maxRetries = options.maxRetries || MAX_SEGMENT_RETRIES;\r\n    this.dynamicConnections = options.dynamicConnections !== undefined ? options.dynamicConnections : true;\r\n    this.fileSize = 0;\r\n    this.downloadedBytes = 0;\r\n    this.segments = [];\r\n    this.activeSegments = new Set();\r\n    this.status = DownloadStatus.QUEUED;\r\n    this.startTime = Date.now();\r\n    this.lastUpdateTime = this.startTime;\r\n    this.lastDownloadedBytes = 0;\r\n    this.speed = 0;\r\n    this.tempDirectory = path.join(this.directory, '.temp', this.id);\r\n    this.downloadRequests = [];\r\n    this.downloadInterval = null;\r\n    this.healthCheckInterval = null;\r\n    this.segmentRetries = new Map();\r\n    this.segmentSpeeds = new Map();\r\n    \r\n    // --- DIAGNOSTIC LOG --- \r\n    console.log(`[Task ${this.id}] Constructor called with options:`, JSON.stringify(options, null, 2));\r\n    console.log(`[Task ${this.id}] Save Directory set to: ${this.directory}`);\r\n    console.log(`[Task ${this.id}] Temp Directory set to: ${this.tempDirectory}`);\r\n    if (!this.directory) {\r\n        console.error(`[Task ${this.id}] CRITICAL: Directory is empty or undefined in constructor!`);\r\n    }\r\n    // --- END DIAGNOSTIC LOG --- \r\n  }\r\n\r\n  /**\r\n   * Restore download state from saved data\r\n   */\r\n  public async restoreState(savedData: any): Promise<void> {\r\n    // Restore file size and downloaded bytes\r\n    this.fileSize = savedData.size || 0;\r\n    this.downloadedBytes = savedData.downloaded || 0;\r\n    \r\n    // Restore segments if available\r\n    if (Array.isArray(savedData.segments) && savedData.segments.length > 0) {\r\n      this.segments = savedData.segments.map((segment: any) => ({\r\n        ...segment,\r\n        status: DownloadStatus.QUEUED // Mark as queued to download remaining parts\r\n      }));\r\n      \r\n      // Ensure temp directory exists\r\n      if (!fs.existsSync(this.tempDirectory)) {\r\n        fs.mkdirSync(this.tempDirectory, { recursive: true });\r\n      }\r\n      \r\n      // Check if segment files exist and verify their sizes\r\n      for (const segment of this.segments) {\r\n        const segmentPath = path.join(this.tempDirectory, `segment-${segment.id}`);\r\n        \r\n        // If the segment file doesn't exist, create an empty one\r\n        if (!fs.existsSync(segmentPath)) {\r\n          segment.downloaded = 0;\r\n          segment.progress = 0;\r\n          \r\n          // Create an empty placeholder file\r\n          try {\r\n            fs.writeFileSync(segmentPath, '');\r\n          } catch (error) {\r\n            console.error(`Error creating segment file: ${error}`);\r\n          }\r\n          continue;\r\n        }\r\n        \r\n        // Get the file size\r\n        try {\r\n          const stats = fs.statSync(segmentPath);\r\n          // Verify if the saved download amount matches the file size\r\n          if (stats.size !== segment.downloaded) {\r\n            // Update to the actual size\r\n            segment.downloaded = stats.size;\r\n            segment.progress = (stats.size / (segment.end - segment.start + 1)) * 100;\r\n            \r\n            // Update total downloaded bytes to match actual file size\r\n            this.downloadedBytes += (stats.size - segment.downloaded);\r\n          }\r\n          \r\n          // If the segment is 100% downloaded, mark it as completed\r\n          if (segment.downloaded >= (segment.end - segment.start + 1)) {\r\n            segment.status = DownloadStatus.COMPLETED;\r\n            segment.progress = 100;\r\n          }\r\n        } catch (error) {\r\n          // If there's an error, reset progress\r\n          segment.downloaded = 0;\r\n          segment.progress = 0;\r\n          \r\n          // Create an empty placeholder file\r\n          try {\r\n            fs.writeFileSync(segmentPath, '');\r\n          } catch (e) {\r\n            console.error(`Error creating segment file: ${e}`);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      // If no segments are available, create them\r\n      await this.getFileInfo();\r\n      this.createSegments();\r\n    }\r\n    \r\n    // Restore speed and timing information\r\n    this.startTime = Date.now();\r\n    this.lastUpdateTime = this.startTime;\r\n    this.lastDownloadedBytes = this.downloadedBytes;\r\n    this.speed = savedData.speed || 0;\r\n    \r\n    // Set status to paused so resume() can work properly\r\n    this.status = DownloadStatus.PAUSED;\r\n  }\r\n\r\n  /**\r\n   * Start the download process\r\n   */\r\n  public async start(): Promise<void> {\r\n    // --- DIAGNOSTIC LOG --- \r\n    console.log(`[Task ${this.id}] Entering start() method.`);\r\n    // --- END DIAGNOSTIC LOG --- \r\n    try {\r\n      // Ensure the main download directory exists\r\n      if (!fs.existsSync(this.directory)) {\r\n         console.log(`[Task ${this.id}] Creating main directory: ${this.directory}`);\r\n        fs.mkdirSync(this.directory, { recursive: true });\r\n      }\r\n      \r\n      // Ensure the temporary directory for this download exists\r\n      if (!fs.existsSync(this.tempDirectory)) {\r\n          console.log(`[Task ${this.id}] Creating temporary directory: ${this.tempDirectory}`);\r\n          fs.mkdirSync(this.tempDirectory, { recursive: true });\r\n      } else {\r\n          console.log(`[Task ${this.id}] Temporary directory already exists: ${this.tempDirectory}`);\r\n      }\r\n      \r\n      this.status = DownloadStatus.DOWNLOADING;\r\n      this.startTime = Date.now();\r\n      this.lastUpdateTime = this.startTime;\r\n      this.lastDownloadedBytes = 0;\r\n      \r\n      // Get file info (size, support for ranges)\r\n      await this.getFileInfo();\r\n      \r\n      // Now, create segments based on the file info obtained\r\n      this.createSegments();\r\n      \r\n      // Start downloading segments\r\n      this.downloadSegments();\r\n      \r\n      // Start progress reporting\r\n      this.startProgressReporting();\r\n      \r\n      // Start connection health check\r\n      this.startConnectionHealthCheck();\r\n\r\n    } catch (error: any) {\r\n      console.error(`Error starting download ${this.id}:`, error);\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Pause the download\r\n   */\r\n  public pause(silent = false): boolean {\r\n    // If not downloading, return\r\n    if (this.status !== DownloadStatus.DOWNLOADING) {\r\n      return false;\r\n    }\r\n    \r\n    console.log(`Pausing download with active requests: ${this.downloadRequests.length}`);\r\n    \r\n    // Set status to paused\r\n    this.status = DownloadStatus.PAUSED;\r\n    \r\n    // Mark requests as paused BEFORE aborting them\r\n    for (const request of this.downloadRequests) {\r\n      (request as any).isPaused = true;\r\n    }\r\n    \r\n    // Now safely abort the requests\r\n    for (const request of this.downloadRequests) {\r\n      try {\r\n        console.log(`Aborting request for paused segment`);\r\n        request.abort();\r\n      } catch (error: any) {\r\n        console.error(`Error aborting request: ${error.message}`);\r\n      }\r\n    }\r\n    \r\n    // Clear the stored requests array after attempting abort\r\n    this.downloadRequests = []; \r\n\r\n    // Mark active segments as PAUSED\r\n    for (const segmentId of this.activeSegments) {\r\n      const segment = this.segments.find(s => s.id === segmentId);\r\n      if (segment) {\r\n        console.log(`Marking segment ${segmentId} as paused`);\r\n        segment.status = DownloadStatus.PAUSED;\r\n      }\r\n    }\r\n    \r\n    // Stop progress reporting & health checks\r\n    this.stopProgressReporting();\r\n    this.stopConnectionHealthCheck();\r\n    \r\n    // Emit progress event if not silent\r\n    if (!silent) {\r\n      this.emitProgress();\r\n    }\r\n    \r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Resume the download\r\n   */\r\n  public resume(): boolean {\r\n    // If not paused, return\r\n    if (this.status !== DownloadStatus.PAUSED && this.status !== DownloadStatus.QUEUED) {\r\n      return false;\r\n    }\r\n    \r\n    console.log(`Resuming download, segments: ${this.segments.length}, active: ${this.activeSegments.size}`);\r\n    \r\n    // Set status to downloading\r\n    this.status = DownloadStatus.DOWNLOADING;\r\n    \r\n    // Reset timing information\r\n    this.startTime = Date.now();\r\n    this.lastUpdateTime = this.startTime;\r\n    this.lastDownloadedBytes = this.downloadedBytes;\r\n    \r\n    // Make sure all download requests are cleared\r\n    this.downloadRequests = [];\r\n    \r\n    // Mark paused segments as queued\r\n    for (const segment of this.segments) {\r\n      if (segment.status === DownloadStatus.PAUSED) {\r\n        segment.status = DownloadStatus.QUEUED;\r\n      }\r\n    }\r\n    \r\n    // Clear the activeSegments set to allow redownloading paused segments\r\n    this.activeSegments = new Set();\r\n    \r\n    // Start progress reporting\r\n    this.startProgressReporting();\r\n    \r\n    // Start connection health checks if dynamic connections enabled\r\n    if (this.dynamicConnections) {\r\n      this.startConnectionHealthCheck();\r\n    }\r\n    \r\n    // Resume downloading segments\r\n    this.downloadSegments();\r\n    \r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Cancel the download\r\n   */\r\n  public cancel(): boolean {\r\n    // Abort all active requests\r\n    this.downloadRequests.forEach(request => {\r\n      try {\r\n        request.abort();\r\n      } catch (error) {\r\n        console.error(`Error aborting download: ${error}`);\r\n      }\r\n    });\r\n    \r\n    // Clear the requests array\r\n    this.downloadRequests = [];\r\n    \r\n    // Stop progress reporting\r\n    this.stopProgressReporting();\r\n    \r\n    // Delete temp files\r\n    this.cleanupTempFiles();\r\n    \r\n    // Set status to error\r\n    this.status = DownloadStatus.ERROR;\r\n    \r\n    // Emit progress event\r\n    this.emitProgress();\r\n    \r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Get file information (size, etc.), letting Axios handle redirects.\r\n   */\r\n  private async getFileInfo(): Promise<void> {\r\n    const MAX_REDIRECTS = 5;\r\n    const TIMEOUT = 15000; // 15 seconds\r\n    const USER_AGENT = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36';\r\n\r\n    console.log(`Getting file info for ${this.url} (following redirects)`);\r\n    \r\n    try {\r\n      // First, try HEAD request, allowing redirects\r\n      try {\r\n        const headResponse = await axios.head(this.url, {\r\n          maxRedirects: MAX_REDIRECTS,\r\n          timeout: TIMEOUT,\r\n          headers: { 'User-Agent': USER_AGENT }\r\n        });\r\n        console.log(`getFileInfo HEAD request final URL: ${headResponse.request?.responseURL || this.url}`);\r\n        console.log(`getFileInfo HEAD response status: ${headResponse.status}`);\r\n\r\n        const contentLength = headResponse.headers['content-length'];\r\n        if (contentLength) {\r\n          this.fileSize = parseInt(contentLength, 10);\r\n          console.log(`HEAD success: File size ${this.fileSize} bytes.`);\r\n          return; // Size found\r\n        } else {\r\n             console.log('HEAD success but no content-length header found.');\r\n        }\r\n      } catch (headError: any) {\r\n        console.warn(`getFileInfo HEAD request failed: ${headError.message}. Status: ${headError.response?.status}`);\r\n        // Don't give up yet, try GET Range\r\n      }\r\n\r\n      // If HEAD failed or didn't give size, try GET with Range, allowing redirects\r\n      console.log('Trying GET with Range (following redirects)...');\r\n      try {\r\n        const rangeResponse = await axios.get(this.url, {\r\n          maxRedirects: MAX_REDIRECTS,\r\n          timeout: TIMEOUT,\r\n          headers: { \r\n              'Range': 'bytes=0-0',\r\n              'User-Agent': USER_AGENT\r\n          }\r\n        });\r\n        console.log(`getFileInfo GET Range request final URL: ${rangeResponse.request?.responseURL || this.url}`);\r\n        console.log(`getFileInfo GET Range response status: ${rangeResponse.status}`);\r\n\r\n        const contentRange = rangeResponse.headers['content-range'];\r\n        if (contentRange) {\r\n          const match = contentRange.match(/\\/(\\d+)/); // Look for */<size>\r\n          if (match && match[1]) {\r\n            this.fileSize = parseInt(match[1], 10);\r\n            console.log(`GET Range success: File size ${this.fileSize} bytes.`);\r\n            return; // Size found\r\n          }\r\n        }\r\n        console.log('GET Range success but no valid content-range header found.');\r\n\r\n        // Last resort: If GET Range worked but didn't have Content-Range,\r\n        // check if it returned Content-Length (some servers might do this\r\n        // even for range requests, ignoring the range)\r\n        const contentLength = rangeResponse.headers['content-length'];\r\n         if (contentLength) {\r\n             this.fileSize = parseInt(contentLength, 10);\r\n             console.log(`GET Range fallback: Found content-length: ${this.fileSize} bytes.`);\r\n             return; // Size found\r\n         }\r\n\r\n      } catch (rangeError: any) {\r\n         console.warn(`getFileInfo GET Range request failed: ${rangeError.message}. Status: ${rangeError.response?.status}`);\r\n      }\r\n\r\n      // If both failed after redirects, fallback\r\n      console.warn('Could not determine file size after HEAD/GET Range attempts (with redirects). Falling back.');\r\n      this.fileSize = 0;\r\n      this.connections = 1;\r\n      \r\n    } catch (error: any) {\r\n      // Catch any unexpected error during the process\r\n      console.error(`Unexpected error in getFileInfo for ${this.url}: ${error.message}`);\r\n      this.fileSize = 0;\r\n      this.connections = 1;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create segments for the download\r\n   */\r\n  private createSegments(): void {\r\n    // If we don't know the file size or it's small, use a single segment\r\n    if (this.fileSize === 0 || this.fileSize < MIN_SIZE_FOR_SEGMENTATION || this.connections === 1) {\r\n      this.segments = [{\r\n        id: 0,\r\n        start: 0,\r\n        end: this.fileSize > 0 ? this.fileSize - 1 : 0,\r\n        downloaded: 0,\r\n        progress: 0,\r\n        status: DownloadStatus.QUEUED\r\n      }];\r\n      return;\r\n    }\r\n    \r\n    // Calculate segment size based on file size and number of connections\r\n    const segmentSize = Math.min(this.segmentSize, Math.ceil(this.fileSize / this.connections));\r\n    \r\n    // Create segments\r\n    this.segments = [];\r\n    let segmentId = 0;\r\n    \r\n    for (let start = 0; start < this.fileSize; start += segmentSize) {\r\n      const end = Math.min(start + segmentSize - 1, this.fileSize - 1);\r\n      \r\n      this.segments.push({\r\n        id: segmentId++,\r\n        start,\r\n        end,\r\n        downloaded: 0,\r\n        progress: 0,\r\n        status: DownloadStatus.QUEUED\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Download segments\r\n   */\r\n  private async downloadSegments(): Promise<void> {\r\n    // If the download is no longer active, return\r\n    if (this.status !== DownloadStatus.DOWNLOADING) {\r\n      return;\r\n    }\r\n    \r\n    // Find segments that are not yet downloaded\r\n    const pendingSegments = this.segments.filter(segment => \r\n      segment.status !== DownloadStatus.COMPLETED && \r\n      !this.activeSegments.has(segment.id)\r\n    );\r\n    \r\n    // If there are no more segments to download, we're done\r\n    if (pendingSegments.length === 0 && this.activeSegments.size === 0) {\r\n      await this.finalizeDownload();\r\n      return;\r\n    }\r\n    \r\n    // Calculate how many more segments we can download concurrently\r\n    const availableSlots = this.connections - this.activeSegments.size;\r\n    \r\n    // Start downloading segments\r\n    for (let i = 0; i < Math.min(availableSlots, pendingSegments.length); i++) {\r\n      const segment = pendingSegments[i];\r\n      \r\n      // Mark the segment as active\r\n      this.activeSegments.add(segment.id);\r\n      \r\n      // Update segment status\r\n      segment.status = DownloadStatus.DOWNLOADING;\r\n      \r\n      // Start downloading the segment\r\n      this.downloadSegment(segment).then(() => {\r\n        // When the segment is done, remove it from active segments\r\n        this.activeSegments.delete(segment.id);\r\n        \r\n        // Check if we can download more segments\r\n        this.downloadSegments();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Download a single segment\r\n   */\r\n  private async downloadSegment(segment: DownloadSegment): Promise<void> {\r\n    // If the download is no longer active, return\r\n    if (this.status !== DownloadStatus.DOWNLOADING) {\r\n      console.log(`Download no longer active for segment ${segment.id}, status: ${this.status}`);\r\n      return;\r\n    }\r\n    \r\n    // Create a temp file path for the segment\r\n    const tempFile = path.join(this.tempDirectory, `segment-${segment.id}`);\r\n    \r\n    // --- DIAGNOSTIC LOGGING & PREEMPTIVE CHECK --- \r\n    console.log(`[Segment ${segment.id}] Attempting write stream.`);\r\n    console.log(`[Segment ${segment.id}] Temp Directory: ${this.tempDirectory}`);\r\n    console.log(`[Segment ${segment.id}] Temp File Path: ${tempFile}`);\r\n    try {\r\n        const dirExists = fs.existsSync(this.tempDirectory);\r\n        console.log(`[Segment ${segment.id}] Directory exists check: ${dirExists}`);\r\n        if (!dirExists) {\r\n            console.log(`[Segment ${segment.id}] PREEMPTIVE CHECK: Directory NOT found. Creating...`);\r\n            fs.mkdirSync(this.tempDirectory, { recursive: true });\r\n            console.log(`[Segment ${segment.id}] PREEMPTIVE CHECK: Directory created.`);\r\n        }\r\n    } catch (dirError) {\r\n        console.error(`[Segment ${segment.id}] Error during preemptive directory check/creation:`, dirError);\r\n        // Decide if we should throw or try to continue\r\n        this.handleError(new Error(`Failed to ensure temp directory for segment ${segment.id}: ${dirError.message}`));\r\n        return; // Stop processing this segment if directory fails\r\n    }\r\n    // --- END DIAGNOSTIC LOGGING & PREEMPTIVE CHECK --- \r\n\r\n    // Determine if we're appending to an existing file\r\n    const appendToExisting = segment.downloaded > 0 && fs.existsSync(tempFile);\r\n    \r\n    // Create a write stream - append if we already have data\r\n    let writeStream: fs.WriteStream;\r\n    try {\r\n      writeStream = fs.createWriteStream(tempFile, { \r\n        flags: appendToExisting ? 'a' : 'w' \r\n      });\r\n    } catch (streamError) {\r\n        console.error(`[Segment ${segment.id}] FAILED to create write stream for ${tempFile}:`, streamError);\r\n        this.handleError(new Error(`Failed create write stream for segment ${segment.id}: ${streamError.message}`));\r\n        return; // Stop processing this segment\r\n    }\r\n    \r\n    // Track segment download speed\r\n    let segmentStartTime = Date.now();\r\n    let segmentLastBytes = segment.downloaded;\r\n    let segmentLastTime = segmentStartTime;\r\n    let retryCount = 0;\r\n    const maxRetries = this.maxRetries;\r\n    \r\n    const downloadWithRetry = async (currentUrl: string = this.url, redirectCount: number = 0): Promise<void> => {\r\n      // Check if the download is no longer active\r\n      // @ts-ignore - Linter doesn't account for async status change during await\r\n      if (this.status !== DownloadStatus.DOWNLOADING) {\r\n        console.log(`Download is no longer active (${this.status}) for segment ${segment.id}, not starting request`);\r\n        return;\r\n      }\r\n\r\n      // Prevent infinite redirects\r\n      const MAX_REDIRECTS = 5;\r\n      if (redirectCount > MAX_REDIRECTS) {\r\n          throw new Error(`Maximum redirects (${MAX_REDIRECTS}) exceeded for segment ${segment.id}`);\r\n      }\r\n\r\n      // If we've exceeded the retry limit for the *original* URL attempt\r\n      if (retryCount >= maxRetries) {\r\n        console.error(`Maximum retries (${maxRetries}) exceeded for segment ${segment.id}`);\r\n        throw new Error(`Maximum retries exceeded for segment ${segment.id}`);\r\n      }\r\n      \r\n      // Exponential backoff for retries (only if it's a retry, not a redirect)\r\n      if (retryCount > 0 && redirectCount === 0) { \r\n        console.log(`Retry ${retryCount}/${maxRetries} for segment ${segment.id}`);\r\n        await new Promise(resolve => setTimeout(resolve, Math.min(1000 * Math.pow(2, retryCount), 10000)));\r\n      }\r\n      \r\n      let request: http.ClientRequest | null = null; // Keep track of the request for potential abort\r\n      \r\n      try {\r\n        console.log(`Attempting segment ${segment.id} from ${currentUrl} (redirect ${redirectCount}, retry ${retryCount})`);\r\n        \r\n        const isHttps = currentUrl.startsWith('https://');\r\n        const httpModule = isHttps ? https : http;\r\n        const urlObj = new URL(currentUrl);\r\n        \r\n        const options: http.RequestOptions = {\r\n          hostname: urlObj.hostname,\r\n          port: urlObj.port || (isHttps ? 443 : 80),\r\n          path: urlObj.pathname + urlObj.search,\r\n          method: 'GET',\r\n          headers: {\r\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\r\n          },\r\n          timeout: 30000 \r\n        };\r\n        \r\n        if (this.fileSize > 0 && this.connections > 1) {\r\n          const startByte = segment.start + segment.downloaded;\r\n          const endByte = segment.end;\r\n          options.headers['Range'] = `bytes=${startByte}-${endByte}`;\r\n          console.log(`Using range request: bytes=${startByte}-${endByte}`);\r\n        }\r\n        \r\n        await new Promise<void>((resolve, reject) => {\r\n          request = httpModule.request(options, (response) => {\r\n             console.log(`Response status: ${response.statusCode} for segment ${segment.id}`);\r\n             \r\n             // Handle Redirects (301, 302, 307, 308)\r\n             if (response.statusCode && [301, 302, 307, 308].includes(response.statusCode)) {\r\n                 const location = response.headers.location;\r\n                 if (location) {\r\n                     console.log(`Redirecting segment ${segment.id} to: ${location}`);\r\n                     response.resume(); // Consume response data to free up memory\r\n                     // Recursively call with new URL and incremented redirect count\r\n                     downloadWithRetry(location, redirectCount + 1).then(resolve).catch(reject);\r\n                     return; // Stop processing this response\r\n                 } else {\r\n                     reject(new Error(`Redirect status ${response.statusCode} received without Location header.`));\r\n                     return;\r\n                 }\r\n             }\r\n\r\n             // Handle Non-Successful Status Codes (other than redirects and 200/206)\r\n             if (response.statusCode !== 200 && response.statusCode !== 206) {\r\n                response.resume(); // Consume response data\r\n                reject(new Error(`Server responded with status code ${response.statusCode}`));\r\n                return;\r\n             }\r\n\r\n             // *** Successful Response (200 or 206) - Start Stream Handling ***\r\n\r\n             // Add request to list for potential pause/cancel\r\n             if (request) {\r\n                this.downloadRequests.push(request);\r\n                // Clean up request from list when it's truly finished (on 'end' or 'error')\r\n                const cleanupRequest = () => {\r\n                    this.downloadRequests = this.downloadRequests.filter(r => r !== request);\r\n                };\r\n                response.on('end', cleanupRequest);\r\n                response.on('error', cleanupRequest);\r\n                request.on('error', cleanupRequest);\r\n             }\r\n\r\n             let streamClosed = false; // Flag to prevent double handling\r\n\r\n             response.on('data', (chunk: Buffer) => {\r\n                if (streamClosed) return;\r\n                // Check status before writing\r\n                // @ts-ignore - Linter doesn't account for async status change during await\r\n                if (this.status !== DownloadStatus.DOWNLOADING) {\r\n                    if (request && !(request as any).isPaused) {\r\n                        console.log('Status changed during download, aborting request for segment', segment.id);\r\n                        (request as any).isPaused = true; // Mark as paused\r\n                        request.abort(); \r\n                    }\r\n                    return;\r\n                }\r\n                try {\r\n                    writeStream.write(chunk);\r\n                    segment.downloaded += chunk.length;\r\n                    segment.progress = Math.min(100, (segment.downloaded / (segment.end - segment.start + 1)) * 100);\r\n                    this.downloadedBytes += chunk.length;\r\n                    // Speed calculation logic\r\n                    const now = Date.now();\r\n                    const timeDiff = now - segmentLastTime;\r\n                    if (timeDiff >= 1000) {\r\n                        const bytesDiff = segment.downloaded - segmentLastBytes;\r\n                        const segmentSpeed = bytesDiff / (timeDiff / 1000);\r\n                        this.segmentSpeeds.set(segment.id, segmentSpeed);\r\n                        segmentLastBytes = segment.downloaded;\r\n                        segmentLastTime = now;\r\n                    }\r\n                } catch (writeError) {\r\n                    if (streamClosed) return;\r\n                    streamClosed = true;\r\n                    const errorMsg = String(writeError);\r\n                    console.error(`Error writing chunk for segment ${segment.id}:`, errorMsg);\r\n                    if (request) request.abort(); // Abort request on write error\r\n                    reject(writeError);\r\n                }\r\n            });\r\n\r\n            response.on('end', () => {\r\n                if (streamClosed) return;\r\n                streamClosed = true;\r\n                writeStream.end(() => {\r\n                    // @ts-ignore\r\n                    if ((request as any)?.isPaused || this.status !== DownloadStatus.DOWNLOADING) {\r\n                       console.log(`Download end ignored due to pause/status change for segment ${segment.id}`);\r\n                    } else {\r\n                       console.log(`Segment ${segment.id} downloaded successfully`);\r\n                       segment.status = DownloadStatus.COMPLETED;\r\n                       segment.progress = 100;\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n\r\n            response.on('error', (error: Error) => {\r\n                if (streamClosed) return;\r\n                streamClosed = true;\r\n                writeStream.end();\r\n                // @ts-ignore\r\n                if ((request as any)?.isPaused) {\r\n                   console.log(`Response stream error ignored for paused segment ${segment.id}: ${String(error)}`);\r\n                   resolve(); // Resolve as pause is handled\r\n                   return;\r\n                }\r\n                console.error(`Response stream error for segment ${segment.id}: ${String(error)}`);\r\n                reject(error);\r\n            });\r\n          });\r\n\r\n          // Handle initial request errors (DNS, connection refused, etc.)\r\n          request.on('error', (error: NodeJS.ErrnoException) => {\r\n              // @ts-ignore\r\n              if ((request as any)?.isPaused) {\r\n                 console.log(`Initial request error ignored for paused segment ${segment.id}: ${String(error)}`);\r\n                 resolve(); // Resolve as pause is handled\r\n                 return;\r\n              }\r\n              console.error(`Initial request error for segment ${segment.id}: ${error.code || 'UnknownCode'} ${String(error)}`);\r\n              reject(error);\r\n          });\r\n\r\n          // Handle request timeout\r\n          request.on('timeout', () => {\r\n              request?.abort(); // Abort on timeout\r\n              reject(new Error(`Request timeout for segment ${segment.id}`));\r\n          });\r\n\r\n          // End the request (send it)\r\n          request.end();\r\n        });\r\n      } catch (error: any) { // Catch errors from Promise reject or initial setup errors\r\n         if (request && !request.destroyed) {\r\n             request.abort(); // Ensure request is aborted on outer catch\r\n         }\r\n         if (!writeStream.destroyed) {\r\n             writeStream.end();\r\n         }\r\n\r\n         console.error(`Caught error during downloadWithRetry segment ${segment.id}: ${String(error)}`);\r\n\r\n         // Check if it was pause/abort related before retrying\r\n         // @ts-ignore\r\n         if ((request as any)?.isPaused || this.status !== DownloadStatus.DOWNLOADING) {\r\n            console.log(`Download not in downloading state or was paused for segment ${segment.id}`);\r\n            return; // Do not retry\r\n         }\r\n\r\n         retryCount++; // Increment retry count for the original URL attempt\r\n         console.log(`Attempting retry ${retryCount}/${maxRetries} for segment ${segment.id}`);\r\n         // Recursively call with the *original* URL to retry\r\n         return downloadWithRetry(this.url, 0); \r\n      }\r\n    }; // End of downloadWithRetry definition\r\n    \r\n    try {\r\n      await downloadWithRetry();\r\n    } catch (error) {\r\n      // **Revised Fix v2**: Prioritize checking the overall task status.\r\n      // @ts-ignore - Linter doesn't account for async status change during await\r\n      if (this.status === DownloadStatus.PAUSED) {\r\n        console.error(`Segment ${segment.id} failure handling called while task is PAUSED. Ignoring error: ${error?.message}`);\r\n        segment.status = DownloadStatus.PAUSED; // Ensure segment reflects pause\r\n        return;\r\n      }\r\n\r\n      // Also check for explicit abort message\r\n      if (error?.message === 'aborted') {\r\n        console.error(`Segment ${segment.id} explicit 'aborted' error in failure handler. Ignoring.`);\r\n        // Don't change segment status here, outer catch should handle it if task is paused.\r\n        return;\r\n      }\r\n      \r\n      // If neither paused nor aborted, proceed with retry logic\r\n      console.error(`Handling potentially real error for segment ${segment.id}: ${error?.message}`);\r\n      const currentRetries = this.segmentRetries.get(segment.id) || 0;\r\n      if (currentRetries < this.maxRetries) {\r\n        console.log(`Retrying segment ${segment.id} (attempt ${currentRetries + 1}/${this.maxRetries})`);\r\n        this.segmentRetries.set(segment.id, currentRetries + 1);\r\n        segment.status = DownloadStatus.QUEUED;\r\n        // Ensure this segment is picked up again by the main loop\r\n        this.downloadSegments();\r\n      } else {\r\n        console.error(`Max retries reached for segment ${segment.id}, marking segment as error`);\r\n        segment.status = DownloadStatus.ERROR;\r\n        // Check if ALL segments are completed or errored to determine overall task status\r\n        this.checkOverallCompletion();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Finalize the download by merging segments\r\n   */\r\n  private async finalizeDownload(): Promise<void> {\r\n    try {\r\n      // Stop progress reporting\r\n      this.stopProgressReporting();\r\n      \r\n      // Create output directory if it doesn't exist\r\n      if (!fs.existsSync(this.directory)) {\r\n        fs.mkdirSync(this.directory, { recursive: true });\r\n      }\r\n      \r\n      // Create the output file\r\n      const outputPath = path.join(this.directory, this.filename);\r\n      \r\n      // Check if file already exists\r\n      let fileAlreadyExists = false;\r\n      try {\r\n        if (fs.existsSync(outputPath)) {\r\n          const stats = fs.statSync(outputPath);\r\n          fileAlreadyExists = stats.isFile() && stats.size > 0;\r\n        }\r\n      } catch (error) {\r\n        console.error(`Error checking output file: ${error}`);\r\n      }\r\n      \r\n      // If file exists, add a number suffix to avoid overwriting\r\n      let finalOutputPath = outputPath;\r\n      if (fileAlreadyExists) {\r\n        console.log(`File already exists at ${outputPath}, checking if it's the same file...`);\r\n        \r\n        // Check if the file content is the same by comparing some segments\r\n        // If it's the same size, we assume it's the same file\r\n        const existingSize = fs.statSync(outputPath).size;\r\n        \r\n        if (existingSize === this.fileSize) {\r\n          console.log('Existing file has the same size, assuming it\\'s the same file');\r\n          \r\n          // Clean up temp files\r\n          this.cleanupTempFiles();\r\n          \r\n          // Set status to completed\r\n          this.status = DownloadStatus.COMPLETED;\r\n          \r\n          // Emit progress event\r\n          this.emitProgress();\r\n          \r\n          // Emit complete event\r\n          this.emit('complete');\r\n          \r\n          return;\r\n        }\r\n        \r\n        // Otherwise, generate a new filename with a number suffix\r\n        const extIndex = this.filename.lastIndexOf('.');\r\n        let basename: string, extension: string;\r\n        \r\n        if (extIndex > 0) {\r\n          basename = this.filename.substring(0, extIndex);\r\n          extension = this.filename.substring(extIndex);\r\n        } else {\r\n          basename = this.filename;\r\n          extension = '';\r\n        }\r\n        \r\n        let counter = 1;\r\n        do {\r\n          finalOutputPath = path.join(this.directory, `${basename} (${counter})${extension}`);\r\n          counter++;\r\n        } while (fs.existsSync(finalOutputPath));\r\n        \r\n        console.log(`Using alternative filename to avoid overwriting: ${finalOutputPath}`);\r\n      }\r\n      \r\n      // Create a write stream for the final output\r\n      const outputStream = fs.createWriteStream(finalOutputPath);\r\n      \r\n      // Merge segments\r\n      for (const segment of this.segments) {\r\n        const segmentPath = path.join(this.tempDirectory, `segment-${segment.id}`);\r\n        \r\n        if (!fs.existsSync(segmentPath)) {\r\n          throw new Error(`Segment file not found: ${segmentPath}`);\r\n        }\r\n        \r\n        // Read the segment file\r\n        const segmentData = fs.readFileSync(segmentPath);\r\n        \r\n        // Write the segment data to the output file\r\n        outputStream.write(segmentData);\r\n      }\r\n      \r\n      // Close the output stream\r\n      outputStream.end();\r\n      \r\n      // Wait for the stream to finish\r\n      await new Promise<void>((resolve, reject) => {\r\n        outputStream.on('finish', resolve);\r\n        outputStream.on('error', reject);\r\n      });\r\n      \r\n      // Clean up temp files\r\n      this.cleanupTempFiles();\r\n      \r\n      // Set status to completed\r\n      this.status = DownloadStatus.COMPLETED;\r\n      \r\n      // Emit progress event\r\n      this.emitProgress();\r\n      \r\n      // Emit complete event\r\n      this.emit('complete');\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start progress reporting\r\n   */\r\n  private startProgressReporting(): void {\r\n    // Clear any existing interval\r\n    this.stopProgressReporting();\r\n    \r\n    // Start a new interval\r\n    this.downloadInterval = setInterval(() => {\r\n      this.updateSpeed();\r\n      this.emitProgress();\r\n    }, 1000);\r\n  }\r\n\r\n  /**\r\n   * Stop progress reporting\r\n   */\r\n  private stopProgressReporting(): void {\r\n    if (this.downloadInterval) {\r\n      clearInterval(this.downloadInterval);\r\n      this.downloadInterval = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update download speed\r\n   */\r\n  private updateSpeed(): void {\r\n    const now = Date.now();\r\n    const timeDiff = (now - this.lastUpdateTime) / 1000; // Convert to seconds\r\n    \r\n    if (timeDiff > 0) {\r\n      const byteDiff = this.downloadedBytes - this.lastDownloadedBytes;\r\n      this.speed = byteDiff / timeDiff; // Bytes per second\r\n      \r\n      this.lastUpdateTime = now;\r\n      this.lastDownloadedBytes = this.downloadedBytes;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emit progress event\r\n   */\r\n  private emitProgress(): void {\r\n    // Calculate overall progress\r\n    const progress = this.fileSize > 0 ? (this.downloadedBytes / this.fileSize) * 100 : 0;\r\n    \r\n    // Calculate ETA\r\n    let eta = 0;\r\n    if (this.speed > 0 && this.fileSize > this.downloadedBytes) {\r\n      eta = (this.fileSize - this.downloadedBytes) / this.speed;\r\n    }\r\n    \r\n    // Emit progress event\r\n    this.emit('progress', {\r\n      progress,\r\n      speed: this.speed,\r\n      downloaded: this.downloadedBytes,\r\n      size: this.fileSize,\r\n      eta,\r\n      status: this.status,\r\n      segments: this.segments\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle errors\r\n   */\r\n  private handleError(error: any): void {\r\n    console.error(`Download error: ${error}`);\r\n    \r\n    // Set status to error\r\n    this.status = DownloadStatus.ERROR;\r\n    \r\n    // Stop progress reporting\r\n    this.stopProgressReporting();\r\n    \r\n    // Emit progress event\r\n    this.emitProgress();\r\n    \r\n    // Emit error event\r\n    this.emit('error', error.toString());\r\n  }\r\n\r\n  /**\r\n   * Clean up temporary files\r\n   */\r\n  private cleanupTempFiles(): void {\r\n    try {\r\n      // Delete each segment file\r\n      for (const segment of this.segments) {\r\n        const segmentPath = path.join(this.tempDirectory, `segment-${segment.id}`);\r\n        \r\n        if (fs.existsSync(segmentPath)) {\r\n          fs.unlinkSync(segmentPath);\r\n        }\r\n      }\r\n      \r\n      // Delete the temp directory\r\n      if (fs.existsSync(this.tempDirectory)) {\r\n        fs.rmdirSync(this.tempDirectory, { recursive: true });\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error cleaning up temp files: ${error}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start connection health check\r\n   */\r\n  private startConnectionHealthCheck(): void {\r\n    // Clear any existing interval\r\n    if (this.healthCheckInterval) {\r\n      clearInterval(this.healthCheckInterval);\r\n    }\r\n    \r\n    // Create a new interval\r\n    this.healthCheckInterval = setInterval(() => {\r\n      this.checkConnectionHealth();\r\n    }, CONNECTION_HEALTH_CHECK_INTERVAL);\r\n  }\r\n\r\n  /**\r\n   * Stop connection health check\r\n   */\r\n  private stopConnectionHealthCheck(): void {\r\n    if (this.healthCheckInterval) {\r\n      clearInterval(this.healthCheckInterval);\r\n      this.healthCheckInterval = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check connection health and adjust number of connections\r\n   */\r\n  private checkConnectionHealth(): void {\r\n    // Only check if we're downloading\r\n    if (this.status !== DownloadStatus.DOWNLOADING) {\r\n      return;\r\n    }\r\n    \r\n    // Calculate average speed per connection\r\n    let totalActiveSpeed = 0;\r\n    let activeConnectionCount = 0;\r\n    \r\n    for (const segmentId of this.activeSegments) {\r\n      const speed = this.segmentSpeeds.get(segmentId) || 0;\r\n      if (speed > 0) {\r\n        totalActiveSpeed += speed;\r\n        activeConnectionCount++;\r\n      }\r\n    }\r\n    \r\n    // If we have active connections\r\n    if (activeConnectionCount > 0) {\r\n      const avgSpeed = totalActiveSpeed / activeConnectionCount;\r\n      \r\n      // If average speed is good, try adding more connections\r\n      if (avgSpeed > MIN_HEALTHY_SPEED && this.connections < 16) {\r\n        this.connections++;\r\n        console.log(`Increasing connections to ${this.connections} for download ${this.id}`);\r\n      }\r\n      // If average speed is poor, reduce connections\r\n      else if (avgSpeed < MIN_HEALTHY_SPEED / 2 && this.connections > 1) {\r\n        this.connections--;\r\n        console.log(`Decreasing connections to ${this.connections} for download ${this.id}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks if all segments are finished (completed or error) and updates task status.\r\n   */\r\n  private checkOverallCompletion(): void {\r\n    const allSegmentsFinished = this.segments.every(\r\n      s => s.status === DownloadStatus.COMPLETED || s.status === DownloadStatus.ERROR\r\n    );\r\n\r\n    if (allSegmentsFinished) {\r\n      const hasErrors = this.segments.some(s => s.status === DownloadStatus.ERROR);\r\n      if (hasErrors) {\r\n        this.handleError(new Error('Download failed due to segment errors.'));\r\n      } else {\r\n        // This case should ideally be handled by finalizeDownload, but adding a check here.\r\n        console.log('All segments appear completed, attempting finalization.');\r\n        this.finalizeDownload(); \r\n      }\r\n    }\r\n  }\r\n} ","import { BrowserWindow } from 'electron';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as path from 'path';\nimport * as crypto from 'crypto';\nimport * as fs from 'fs';\nimport { app } from 'electron';\nimport { DownloadItem, DownloadStatus, DownloadSegment, AppSettings } from '../common/types';\nimport { DownloadEngine } from './downloadEngine';\nimport { ipcMain } from 'electron';\nimport ElectronStore from 'electron-store';\nimport Store from 'electron-store';\nimport { shell } from 'electron';\n\n// Constants for download settings\nconst DEFAULT_SEGMENT_SIZE = 5 * 1024 * 1024; // 5MB\nconst DEFAULT_MAX_CONCURRENT = 3;\nconst DEFAULT_MAX_RETRIES = 3;\n\n// Replace the current UUID generation\nconst generateUUID = (): string => {\n  // Simple UUID v4 implementation without crypto\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = Math.floor(Math.random() * 16);\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\n\n// Keep simple StoreSchema definition\ninterface StoreSchema {\n    defaultDownloadPath?: string; \n    maxConcurrentDownloads?: number; \n    categories?: string[];\n    categoryPaths?: Record<string, string>;\n}\n\nexport class DownloadManager {\n  private downloads: Map<string, DownloadItem>;\n  private activeDownloads: Set<string>;\n  private maxConcurrentDownloads: number;\n  private mainWindow: BrowserWindow | null;\n  private downloadFolder: string;\n  private downloadEngine: DownloadEngine;\n  private persistencePath: string;\n  private isRendererReady: boolean;\n\n  constructor(mainWindow: BrowserWindow) {\n    this.downloads = new Map();\n    this.activeDownloads = new Set();\n    this.maxConcurrentDownloads = DEFAULT_MAX_CONCURRENT;\n    this.mainWindow = mainWindow;\n    this.isRendererReady = false; // Initialize renderer ready flag\n    \n    // Set defaults directly\n    this.downloadFolder = app.getPath('downloads');\n    this.maxConcurrentDownloads = DEFAULT_MAX_CONCURRENT;\n\n    console.log(`[DownloadManager] Initialized. Default folder: ${this.downloadFolder}, Max concurrent: ${this.maxConcurrentDownloads}`);\n    \n    this.downloadEngine = new DownloadEngine();\n    this.persistencePath = path.join(app.getPath('userData'), 'downloads.json');\n\n    // Listen for the renderer ready signal\n    ipcMain.on('renderer-ready', () => {\n      console.log('Received renderer-ready signal.');\n      this.isRendererReady = true;\n      // Send downloads now if they have already been loaded\n      if (this.downloads.size > 0) { \n        this.sendSavedDownloadsToRenderer();\n      }\n    });\n\n    // Load saved downloads (but don't send them immediately)\n    this.loadDownloads();\n\n    // Set up download engine event listeners\n    this.downloadEngine.on('progress', (data) => {\n      const { id, ...progress } = data;\n      const download = this.downloads.get(id);\n      if (download) {\n        Object.assign(download, progress);\n        this.updateDownloadProgress(download);\n      }\n    });\n\n    this.downloadEngine.on('complete', ({ id }) => {\n      const download = this.downloads.get(id);\n      if (download) {\n        console.log(`[DownloadManager] Download completed: ${id} (${download.filename})`);\n        download.status = DownloadStatus.COMPLETED;\n        download.progress = 100;\n        download.speed = 0;\n        download.eta = 0;\n\n        this.activeDownloads.delete(id);\n        this.updateDownloadProgress(download);\n        this.processQueue();\n      }\n    });\n\n    this.downloadEngine.on('error', ({ id, error }) => {\n      const download = this.downloads.get(id);\n      if (download) {\n        console.error(`[DownloadManager] Download error: ${id} (${download.filename}) - ${error}`);\n        download.status = DownloadStatus.ERROR;\n        download.error = error;\n\n        this.activeDownloads.delete(id);\n        this.updateDownloadProgress(download);\n        this.processQueue();\n      }\n    });\n\n    // Periodically save download state\n    setInterval(() => this.saveDownloads(), 30000); // Save every 30 seconds\n  }\n\n  /**\n   * Normalize a URL for comparison (e.g., remove query strings, maybe www)\n   */\n  private normalizeUrl(url: string): string {\n    try {\n      const parsed = new URL(url);\n      let essentialPath = parsed.pathname;\n      \n      // Decode the path for comparison\n      try {\n          essentialPath = decodeURIComponent(essentialPath);\n      } catch (decodeError) {\n          console.warn(`[Normalize URL] Could not decode path: ${essentialPath}`, decodeError);\n      }\n      \n      // Remove trailing slash if path is more than just '/'\n      if (essentialPath.length > 1 && essentialPath.endsWith('/')) {\n        essentialPath = essentialPath.slice(0, -1);\n      }\n\n      // Extract the very last part (likely filename) for comparison focus\n      const pathSegments = essentialPath.split('/');\n      const lastSegment = pathSegments[pathSegments.length - 1] || '';\n\n      // Construct a simplified representation: protocol + origin + last path segment\n      // This ignores variable intermediate paths and query strings\n      const normalized = `${parsed.protocol}//${parsed.hostname}/${lastSegment}`.toLowerCase();\n      \n      return normalized;\n    } catch (e) {\n      console.warn(`[Normalize URL] Failed to parse/normalize URL: ${url}`, e);\n      return url.toLowerCase().trim();\n    }\n  }\n  \n  /**\n   * Check if a URL is already being actively downloaded or queued/paused\n   */\n  public isUrlBeingDownloaded(url: string): boolean {\n    const normalizedUrlToCheck = this.normalizeUrl(url);\n    for (const download of this.downloads.values()) {\n      const normalizedItemUrl = this.normalizeUrl(download.url);\n      if (normalizedItemUrl === normalizedUrlToCheck) {\n        if (download.status === DownloadStatus.DOWNLOADING || \n            download.status === DownloadStatus.QUEUED || \n            download.status === DownloadStatus.PAUSED) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Add a download\n   */\n  public async addDownload(url: string, options?: any): Promise<any> {\n    console.warn(`[DownloadManager] Deprecated addDownload called for URL: ${url}`);\n    return { warning: 'Deprecated addDownload method used.', duplicate: this.isUrlBeingDownloaded(url) };\n  }\n\n  /**\n   * Starts a specific download using the DownloadEngine\n   */\n  private async startIndividualDownload(id: string): Promise<void> {\n    const download = this.downloads.get(id);\n    if (!download) {\n      console.error(`Cannot start download ${id}: Download item not found.`);\n      return;\n    }\n\n    // Retrieve stored options or use defaults\n    const savedOptions = download.options; // Use the options stored on the item\n    const downloadFolder = download.downloadFolder || this.downloadFolder;\n\n    const downloadOptions = {\n      url: download.url,\n      filename: download.filename, // Use the (decoded) filename from the download item\n      directory: downloadFolder,\n      connections: savedOptions?.connections || DEFAULT_MAX_CONCURRENT,\n      segmentSize: savedOptions?.segmentSize || DEFAULT_SEGMENT_SIZE,\n      maxRetries: savedOptions?.maxRetries || DEFAULT_MAX_RETRIES,\n      dynamicConnections: savedOptions?.dynamicConnections !== undefined ? savedOptions.dynamicConnections : true,\n    };\n    \n    console.log(`[Manager] Starting individual download ${id} with filename '${downloadOptions.filename}' in directory '${downloadOptions.directory}'`);\n    if (!downloadOptions.directory) {\n        console.error(`[Manager] CRITICAL: Directory is missing for download ${id}!`);\n    }\n\n    download.status = DownloadStatus.DOWNLOADING;\n    this.updateDownloadProgress(download);\n\n    try {\n      await this.downloadEngine.startDownload(id, downloadOptions);\n    } catch (error) {\n      console.error(`Error starting download ${id} via engine:`, error);\n      download.status = DownloadStatus.ERROR;\n      download.error = String(error);\n      this.updateDownloadProgress(download);\n      this.activeDownloads.delete(id); // Remove from active if start failed\n      this.processQueue(); // Try next download if this one failed to start\n    }\n  }\n\n  // Pause a download\n  public pauseDownload(id: string) {\n    const download = this.downloads.get(id);\n    if (!download) {\n      console.error(`Download with ID ${id} not found`);\n      return;\n    }\n    \n    if (download.status === DownloadStatus.DOWNLOADING) {\n      console.log(`Pausing download ${id}`);\n      if (this.downloadEngine.pauseDownload(id)) {\n        download.status = DownloadStatus.PAUSED;\n        this.activeDownloads.delete(id);\n        this.updateDownloadProgress(download);\n        this.processQueue();\n      }\n    }\n  }\n\n  // Resume a download\n  public resumeDownload(id: string) {\n    const download = this.downloads.get(id);\n    if (!download) {\n      console.error(`Download with ID ${id} not found`);\n      return;\n    }\n    \n    if (download.status === DownloadStatus.PAUSED) {\n      console.log(`Resuming download ${id}`);\n      if (this.activeDownloads.size < this.maxConcurrentDownloads) {\n        // Try to resume the existing download task\n        if (this.downloadEngine.resumeDownload(id)) {\n          download.status = DownloadStatus.DOWNLOADING;\n          this.activeDownloads.add(id);\n          this.updateDownloadProgress(download);\n        } else {\n          // If resumeDownload failed, try to resume with the saved segment information\n          console.log(`Regular resume failed, trying to resume with saved segments for ${id}`);\n          try {\n            // Create options from the saved download\n            const options = {\n              url: download.url,\n              filename: download.filename,\n              directory: this.downloadFolder\n            };\n            \n            // Start the download with saved segment information\n            this.downloadEngine.resumeDownloadWithSegments(id, options, download);\n            \n            // Update status\n            download.status = DownloadStatus.DOWNLOADING;\n            this.activeDownloads.add(id);\n            this.updateDownloadProgress(download);\n          } catch (error) {\n            // If all else fails, try to restart the download\n            console.log(`Resume with segments failed, restarting download ${id}`);\n            this.startIndividualDownload(id);\n          }\n        }\n      } else {\n        download.status = DownloadStatus.QUEUED;\n        this.updateDownloadProgress(download);\n      }\n    }\n  }\n\n  // Cancel a download\n  public cancelDownload(id: string, notifyRenderer: boolean = false) {\n    const download = this.downloads.get(id);\n    if (!download) {\n      console.error(`Download with ID ${id} not found`);\n      return false;\n    }\n    \n    console.log(`Cancelling download ${id}`);\n    if (this.downloadEngine.cancelDownload(id)) {\n      download.status = DownloadStatus.ERROR;\n      download.error = 'Cancelled by user';\n      this.activeDownloads.delete(id);\n      this.updateDownloadProgress(download);\n      this.processQueue();\n      \n      if (notifyRenderer && this.mainWindow && !this.mainWindow.isDestroyed()) {\n        this.mainWindow.webContents.send('download-removed', id);\n      }\n      \n      return true;\n    }\n    \n    return false;\n  }\n\n  // Get the full path to the temporary directory for a download\n  private getTempDirectory(id: string): string {\n    // Assumption: Temp dir is relative to the *final* save location's parent directory\n    // We need the download item to determine the final save location\n    const download = this.downloads.get(id);\n    \n    // Determine base directory: Use download's specific folder or the general default\n    let baseDirectory = this.downloadFolder; \n    if(download && download.downloadFolder) {\n        baseDirectory = download.downloadFolder;\n    } else {\n        // If download or its folder isn't found, maybe log a warning or use a fallback\n        console.warn(`[getTempDirectory] Could not determine specific download folder for ${id}, using default.`);\n    }\n\n    // Construct path: <baseDirectory>/.temp/<downloadId>\n    return path.join(baseDirectory, '.temp', id);\n  }\n\n  // Remove a download\n  public removeDownload(id: string): boolean {\n    const download = this.downloads.get(id);\n    if (!download) {\n      console.error(`[removeDownload] Download with ID ${id} not found for removal.`);\n      return false; // Not found\n    }\n    \n    console.log(`[removeDownload] Attempting to remove download ${id} (Status: ${download.status})`);\n\n    // Always try to cancel/cleanup the engine task first\n    try {\n      console.log(`[removeDownload] Requesting cancellation/cleanup via engine for ${id}`);\n      const cancelled = this.downloadEngine.cancelDownload(id); // Assuming cancel also cleans up resources\n      console.log(`[removeDownload] Engine cancel/cleanup result for ${id}: ${cancelled}`);\n    } catch(engineError) {\n        console.error(`[removeDownload] Error during engine cancel/cleanup for ${id}:`, engineError);\n        // Continue with removal even if engine cleanup fails\n    }\n\n    // Ensure it's removed from the active set\n    this.activeDownloads.delete(id);\n    \n    // Delete associated temporary directory\n    const tempDir = this.getTempDirectory(id);\n    try {\n      if (fs.existsSync(tempDir)) {\n        console.log(`[removeDownload] Deleting temporary directory: ${tempDir}`);\n        fs.rmSync(tempDir, { recursive: true, force: true });\n      } else {\n          console.log(`[removeDownload] No temporary directory found to delete at: ${tempDir}`);\n      }\n    } catch (error) {\n      console.error(`[removeDownload] Failed to delete temporary directory ${tempDir}:`, error);\n      // Log error but continue removal from map\n    }\n\n    // Finally, remove from the internal map\n    const deleted = this.downloads.delete(id);\n    if (deleted) {\n        console.log(`[removeDownload] Successfully removed download ${id} from internal map.`);\n        // Notify renderer AFTER successful removal from map\n        if (this.mainWindow && !this.mainWindow.isDestroyed()) {\n             console.log(`[removeDownload] Sending download-removed notification to renderer for ${id}`);\n             this.mainWindow.webContents.send('download-removed', id);\n        }\n        this.saveDownloads(); // Save state after removal\n        this.processQueue(); // Check if a new download can start now\n        return true; // Indicate success\n    } else {\n        // This case should ideally not happen if the item was found initially\n        console.warn(`[removeDownload] Failed to remove download ${id} from internal map (was it already removed concurrently?)`);\n        this.processQueue(); // Still process queue just in case\n        return false; // Indicate failure\n    }\n  }\n\n  // Process queue to start new downloads when slots become available\n  private processQueue() {\n    if (this.activeDownloads.size >= this.maxConcurrentDownloads) {\n      return;\n    }\n    \n    // Find queued downloads\n    for (const [id, download] of this.downloads.entries()) {\n      if (download.status === DownloadStatus.QUEUED) {\n        console.log(`Starting queued download: ${id} (${download.filename})`);\n        this.startIndividualDownload(id);\n        \n        if (this.activeDownloads.size >= this.maxConcurrentDownloads) {\n          break;\n        }\n      }\n    }\n  }\n\n  // Update download progress in the renderer\n  private updateDownloadProgress(download: DownloadItem): void {\n    if (this.mainWindow && !this.mainWindow.isDestroyed()) {\n      try {\n        this.mainWindow.webContents.send('download-progress', {\n          ...download,\n          id: download.id,\n          url: download.url,\n          filename: download.filename,\n          status: download.status\n        });\n      } catch (error) {\n        console.error('Error sending download progress update:', error);\n      }\n    }\n  }\n\n  // Save downloads to persistent storage\n  private saveDownloads(): void {\n    try {\n      const downloadsArray = Array.from(this.downloads.values()).map(download => {\n        // Create a clean copy without circular references\n        const cleanDownload = { ...download };\n        \n        // Convert dates to strings\n        if (cleanDownload.createdAt instanceof Date) {\n          cleanDownload.createdAt = cleanDownload.createdAt.toISOString();\n        }\n        \n        return cleanDownload;\n      });\n      \n      fs.writeFileSync(this.persistencePath, JSON.stringify(downloadsArray, null, 2), 'utf8');\n      console.log(`Saved ${downloadsArray.length} downloads to ${this.persistencePath}`);\n    } catch (error) {\n      console.error('Error saving downloads:', error);\n    }\n  }\n\n  // Load downloads from persistent storage\n  private loadDownloads(): void {\n    console.log(\">>> Persistence path:\", this.persistencePath);\n    try {\n      if (fs.existsSync(this.persistencePath)) {\n        const data = fs.readFileSync(this.persistencePath, 'utf8');\n        const savedDownloads = JSON.parse(data);\n        \n        // Clear existing downloads before loading\n        this.downloads.clear();\n        \n        let loadedCount = 0;\n        for (const item of savedDownloads) {\n          // Basic validation\n          if (item && item.id && item.url && item.filename && item.status) {\n            // Convert createdAt string back to Date object if necessary\n            if (typeof item.createdAt === 'string') {\n              item.createdAt = new Date(item.createdAt);\n            }\n            \n            // Ensure necessary properties exist\n            item.progress = item.progress ?? 0;\n            item.speed = item.speed ?? 0;\n            item.size = item.size ?? 0;\n            item.downloaded = item.downloaded ?? 0;\n            item.eta = item.eta ?? 0;\n            item.segments = item.segments ?? [];\n            item.error = item.error ?? undefined; // Restore error message\n            \n            // Log the status BEFORE any potential changes\n            console.log(`[LoadDownloads] Loading item ${item.id} - Original Status: ${item.status}`);\n\n            // Reset status for incomplete downloads\n            if (item.status === DownloadStatus.DOWNLOADING) {\n              console.log(`Setting status for previously downloading item ${item.id} to PAUSED.`);\n              item.status = DownloadStatus.PAUSED; // Set to PAUSED, not QUEUED\n            } else if (item.status === DownloadStatus.PAUSED) {\n              console.log(`Keeping status for paused item ${item.id} as PAUSED.`);\n              // Keep status as PAUSED\n            } else if (item.status === DownloadStatus.QUEUED) {\n               console.log(`Keeping status for queued item ${item.id} as QUEUED.`);\n               // Keep status as QUEUED\n            }\n            \n            // Restore download options AND downloadFolder if saved\n            item.options = item.options ?? {};\n            item.downloadFolder = item.downloadFolder ?? this.downloadFolder;\n            \n            this.downloads.set(item.id, item); // Add item with potentially decoded filename\n            loadedCount++;\n          } else {\n            console.warn('Skipping invalid download item during load:', item);\n          }\n        }\n        console.log(`Loaded ${loadedCount} downloads from ${this.persistencePath}`);\n        \n        // Send the complete list to the renderer *only if it's ready*\n        if (this.isRendererReady) {\n            this.sendSavedDownloadsToRenderer();\n        }\n        \n      } else {\n        console.log('No saved downloads file found.');\n      }\n    } catch (error) {\n      console.error('Error loading downloads:', error);\n      // If loading fails, start with an empty map\n      this.downloads.clear();\n    }\n  }\n\n  // Save downloads before app exit\n  public saveAndCleanup(): void {\n    console.log('[saveAndCleanup] Starting cleanup and save process...');\n    try {\n      // Pause all active downloads without trying to update the UI\n      for (const id of this.activeDownloads) {\n        const download = this.downloads.get(id);\n        if (download && download.status === DownloadStatus.DOWNLOADING) {\n          // Just update the status in our data structure\n          this.downloadEngine.pauseDownload(id, true); // Use silent mode\n          download.status = DownloadStatus.PAUSED;\n        }\n      }\n      \n      // Save downloads without trying to access potentially destroyed objects\n      console.log('[saveAndCleanup] Attempting synchronous save...');\n      this.saveDownloadsSync();\n      console.log('[saveAndCleanup] Synchronous save completed.');\n    } catch (error) {\n      console.error('[saveAndCleanup] Error during cleanup and save:', error);\n    }\n    console.log('[saveAndCleanup] Cleanup and save process finished.');\n  }\n  \n  // Synchronous version of saveDownloads that doesn't try to update the UI\n  private saveDownloadsSync(): void {\n    try {\n      const downloadsArray = Array.from(this.downloads.values()).map(download => {\n        // Create a clean copy without circular references\n        const cleanDownload = { ...download };\n        \n        // Convert dates to strings\n        if (cleanDownload.createdAt instanceof Date) {\n          cleanDownload.createdAt = cleanDownload.createdAt.toISOString();\n        }\n        \n        return cleanDownload;\n      });\n      \n      fs.writeFileSync(this.persistencePath, JSON.stringify(downloadsArray, null, 2), 'utf8');\n      console.log(`Saved ${downloadsArray.length} downloads to ${this.persistencePath}`);\n    } catch (error) {\n      console.error('Error saving downloads:', error);\n    }\n  }\n\n  /**\n   * Sends the current list of downloads to the renderer.\n   */\n  public sendSavedDownloadsToRenderer(): void {\n    if (this.mainWindow && !this.mainWindow.isDestroyed()) {\n      const downloadsArray = Array.from(this.downloads.values());\n      console.log(`Sending ${downloadsArray.length} loaded downloads to renderer.`);\n      this.mainWindow.webContents.send('downloads-loaded', downloadsArray);\n    } else {\n      console.warn('Cannot send saved downloads to renderer: mainWindow is not available.');\n    }\n  }\n\n  /**\n   * Get the full path to the downloaded file\n   */\n  public getDownloadPath(id: string): string | null {\n    const download = this.downloads.get(id);\n    if (!download) {\n      return null;\n    }\n    \n    // Use stored custom folder if available\n    const downloadFolder = (download as any).downloadFolder || this.downloadFolder;\n    return path.join(downloadFolder, download.filename);\n  }\n\n  /**\n   * Check if the download exists and is completed\n   */\n  public isDownloadCompleted(id: string): boolean {\n    const download = this.downloads.get(id);\n    return !!download && download.status === DownloadStatus.COMPLETED;\n  }\n\n  /**\n   * Creates a fresh new download, deleting any existing ones with the same URL\n   */\n  public async createNewDownload(url: string, options?: any): Promise<any> {\n    console.log(`[DownloadManager] createNewDownload requested for URL: ${url}`, options);\n    \n    // Declare removedDownloads here to ensure it's in scope for the return\n    let removedDownloads: { id: string, filename: string }[] = [];\n    \n    try {\n      // Extract filename from URL\n      let filename = '';\n      \n      // Check if a custom filename was provided in options\n      if (options && options.customFilename) {\n        filename = options.customFilename;\n        console.log(`Using custom filename from options: ${filename}`);\n      } else {\n        try {\n          const urlObj = new URL(url);\n          // Get the last part of the path\n          const pathParts = urlObj.pathname.split('/');\n          filename = pathParts[pathParts.length - 1];\n          \n          // If filename is empty or doesn't have an extension, use a default name\n          if (!filename || filename.indexOf('.') === -1) {\n            // Use a more deterministic default name based on the URL\n            const hash = crypto.createHash('md5').update(url).digest('hex').substring(0, 8);\n            filename = `download-${hash}.bin`;\n          }\n          \n          // Decode URL-encoded characters in the filename\n          filename = decodeURIComponent(filename);\n        } catch (error) {\n          console.error('Error extracting filename from URL:', error);\n          const hash = crypto.createHash('md5').update(url).digest('hex').substring(0, 8);\n          filename = `download-${hash}.bin`;\n        }\n      }\n      \n      console.log(`Final filename: ${filename}`);\n      \n      // Use custom download folder if provided\n      let downloadFolder = this.downloadFolder;\n      if (options && options.downloadFolder) {\n        downloadFolder = options.downloadFolder;\n      }\n      \n      // Check if URL is already being downloaded\n      if (this.isUrlBeingDownloaded(url)) {\n        console.log(`Duplicate detected for ${url}. Checking options...`);\n        const existingDownload = this.findDownloadByUrl(url); \n        if (options?.forceNewDownload) {\n            console.log(`ForceNewDownload=true. Removing existing download ID: ${existingDownload?.id}`);\n            this.removeDownload(existingDownload.id);\n        } else if (options?.resumeExisting && existingDownload?.status === DownloadStatus.PAUSED) {\n            console.log(`Resuming existing download ID: ${existingDownload.id}`);\n            this.resumeDownload(existingDownload.id);\n            return existingDownload;\n        } else {\n            console.warn(`Duplicate found for ${url}, but no force/resume option provided. Aborting.`);\n            throw new Error('Duplicate download exists. Use overwrite or resume.');\n        }\n      }\n      \n      // Check if file exists on disk and create a unique filename if it does (when not resuming)\n      const originalFilename = filename;\n      let filePath = path.join(downloadFolder, filename);\n      let fileExists = false;\n      let counter = 1;\n      \n      try {\n        // If forceNewDownload is true but we want to avoid overwriting existing files,\n        // we'll create a numbered version\n        while (fs.existsSync(filePath)) {\n          const stats = fs.statSync(filePath);\n          fileExists = stats.isFile();\n          \n          if (fileExists) {\n            console.log(`File exists at ${filePath}, creating a numbered version`);\n            \n            // Parse filename to create a numbered version\n            const lastDotIndex = originalFilename.lastIndexOf('.');\n            if (lastDotIndex !== -1) {\n              // File has extension\n              const nameWithoutExt = originalFilename.substring(0, lastDotIndex);\n              const extension = originalFilename.substring(lastDotIndex);\n              filename = `${nameWithoutExt} (${counter})${extension}`;\n            } else {\n              // File has no extension\n              filename = `${originalFilename} (${counter})`;\n            }\n            \n            filePath = path.join(downloadFolder, filename);\n            counter++;\n          } else {\n            // Path exists but is not a file (maybe directory), break to avoid infinite loop\n            break;\n          }\n        }\n        \n        console.log(`Final filename for download: ${filename}`);\n      } catch (error) {\n        console.error(`Error checking if file exists: ${error}`);\n      }\n      \n      // Create new download item\n      const newDownload: DownloadItem = {\n        id: generateUUID(),\n        url,\n        filename: filename, // Store the final, DECODED, potentially numbered filename\n        status: options?.startPaused ? DownloadStatus.PAUSED : DownloadStatus.QUEUED,\n        progress: 0,\n        speed: 0,\n        size: 0,\n        downloaded: 0,\n        eta: 0,\n        createdAt: new Date(),\n        segments: [],\n        downloadFolder: downloadFolder, // Store the final download folder path\n        options: { ...options, customFilename: filename } // Store final filename in options too?\n      };\n\n      this.downloads.set(newDownload.id, newDownload);\n      this.updateDownloadProgress(newDownload); // Notify renderer immediately\n      this.saveDownloads();\n\n      // Use finalFilename (decoded) when logging and passing to engine\n      console.log(`[DownloadManager] Creating item ${newDownload.id} with filename: ${filename}, folder: ${downloadFolder}`);\n      \n      // Process queue if not starting paused\n      if (!options?.startPaused) {\n          this.processQueue();\n      }\n      \n      return newDownload;\n    } catch (error) {\n      console.error('Error creating new download:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Find an active/paused/queued download by its URL\n   */\n  public findDownloadByUrl(url: string): DownloadItem | undefined {\n    const normalizedUrl = this.normalizeUrl(url);\n    for (const download of this.downloads.values()) {\n      const normalizedItemUrl = this.normalizeUrl(download.url);\n      if (normalizedItemUrl === normalizedUrl) {\n        if (download.status === DownloadStatus.DOWNLOADING || \n            download.status === DownloadStatus.QUEUED || \n            download.status === DownloadStatus.PAUSED) {\n          return download;\n        }\n      }\n    }\n    return undefined;\n  }\n  \n  /**\n   * Get the default download folder\n   */\n  public getDefaultDownloadFolder(): string {\n    return this.downloadFolder;\n  }\n\n  // Add setRendererReady method\n  setRendererReady(): void {\n    this.isRendererReady = true;\n    console.log('[DownloadManager] Renderer is ready.');\n    this.sendSavedDownloadsToRenderer(); \n  }\n\n  // Method to send the full download list to the renderer\n  private sendDownloadsToRenderer(): void {\n    if (this.mainWindow && !this.mainWindow.isDestroyed() && this.isRendererReady) {\n      const downloadsArray = Array.from(this.downloads.values());\n      console.log('[DownloadManager] Sending current downloads to renderer:', downloadsArray.length);\n      this.mainWindow.webContents.send('downloads-loaded', downloadsArray);\n    } else {\n        console.log('[DownloadManager] Cannot send downloads - Main window or renderer not ready.');\n    }\n  }\n\n  // Add openFile method\n  async openFile(id: string): Promise<boolean> {\n    const download = this.downloads.get(id);\n    if (!download) {\n        console.error(`[openFile] Download not found for ID: ${id}`);\n        throw new Error('Download not found');\n    }\n    if (download.status !== DownloadStatus.COMPLETED) {\n        console.warn(`[openFile] Attempted to open non-completed download: ${id} (${download.status})`);\n        throw new Error('Download is not completed');\n    }\n\n    const filePath = this.getDownloadPath(id); // Use existing helper\n    if (!filePath) {\n        console.error(`[openFile] Could not determine file path for ID: ${id}`);\n        throw new Error('File path not found');\n    }\n\n    try {\n        console.log(`[openFile] Opening file: ${filePath}`);\n        await shell.openPath(filePath);\n        return true;\n    } catch (error) {\n        console.error(`[openFile] Error opening file ${filePath}:`, error);\n        throw new Error(`Failed to open file: ${error.message || 'Unknown error'}`);\n    }\n  }\n\n  // Add showInFolder method\n  async showInFolder(id: string): Promise<boolean> {\n      const download = this.downloads.get(id);\n      if (!download) {\n          console.error(`[showInFolder] Download not found for ID: ${id}`);\n          throw new Error('Download not found');\n      }\n      \n      const filePath = this.getDownloadPath(id); // Use existing helper\n      if (!filePath) {\n          console.error(`[showInFolder] Could not determine file path for ID: ${id}`);\n          throw new Error('File path not found');\n      }\n\n      try {\n          console.log(`[showInFolder] Showing item in folder: ${filePath}`);\n          await shell.showItemInFolder(filePath);\n          return true;\n      } catch (error) {\n          console.error(`[showInFolder] Error showing item ${filePath}:`, error);\n          throw new Error(`Failed to show item in folder: ${error.message || 'Unknown error'}`);\n      }\n  }\n} ","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"url\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:process\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:path\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:util\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:fs\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:crypto\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:assert\");","const isObject = value => {\n\tconst type = typeof value;\n\treturn value !== null && (type === 'object' || type === 'function');\n};\n\nconst isEmptyObject = value => isObject(value) && Object.keys(value).length === 0;\n\nconst disallowedKeys = new Set([\n\t'__proto__',\n\t'prototype',\n\t'constructor',\n]);\n\nconst digits = new Set('0123456789');\n\nfunction getPathSegments(path) {\n\tconst parts = [];\n\tlet currentSegment = '';\n\tlet currentPart = 'start';\n\tlet isIgnoring = false;\n\n\tfor (const character of path) {\n\t\tswitch (character) {\n\t\t\tcase '\\\\': {\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t}\n\n\t\t\t\tcurrentPart = 'property';\n\t\t\t\tisIgnoring = !isIgnoring;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase '.': {\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tcurrentPart = 'property';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tparts.push(currentSegment);\n\t\t\t\tcurrentSegment = '';\n\t\t\t\tcurrentPart = 'property';\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase '[': {\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tcurrentPart = 'index';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'property') {\n\t\t\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\n\t\t\t\t\tparts.push(currentSegment);\n\t\t\t\t\tcurrentSegment = '';\n\t\t\t\t}\n\n\t\t\t\tcurrentPart = 'index';\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase ']': {\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tparts.push(Number.parseInt(currentSegment, 10));\n\t\t\t\t\tcurrentSegment = '';\n\t\t\t\t\tcurrentPart = 'indexEnd';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\t// Falls through\n\t\t\t}\n\n\t\t\tdefault: {\n\t\t\t\tif (currentPart === 'index' && !digits.has(character)) {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'start') {\n\t\t\t\t\tcurrentPart = 'property';\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += '\\\\';\n\t\t\t\t}\n\n\t\t\t\tcurrentSegment += character;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (isIgnoring) {\n\t\tcurrentSegment += '\\\\';\n\t}\n\n\tswitch (currentPart) {\n\t\tcase 'property': {\n\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tparts.push(currentSegment);\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'index': {\n\t\t\tthrow new Error('Index was not closed');\n\t\t}\n\n\t\tcase 'start': {\n\t\t\tparts.push('');\n\n\t\t\tbreak;\n\t\t}\n\t\t// No default\n\t}\n\n\treturn parts;\n}\n\nfunction isStringIndex(object, key) {\n\tif (typeof key !== 'number' && Array.isArray(object)) {\n\t\tconst index = Number.parseInt(key, 10);\n\t\treturn Number.isInteger(index) && object[index] === object[key];\n\t}\n\n\treturn false;\n}\n\nfunction assertNotStringIndex(object, key) {\n\tif (isStringIndex(object, key)) {\n\t\tthrow new Error('Cannot use string index');\n\t}\n}\n\nexport function getProperty(object, path, value) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn value === undefined ? object : value;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\tif (pathArray.length === 0) {\n\t\treturn value;\n\t}\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tif (isStringIndex(object, key)) {\n\t\t\tobject = index === pathArray.length - 1 ? undefined : null;\n\t\t} else {\n\t\t\tobject = object[key];\n\t\t}\n\n\t\tif (object === undefined || object === null) {\n\t\t\t// `object` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t// if this is not the last bit of the path, and\n\t\t\t// if it didn't return `undefined`\n\t\t\t// it would return `null` if `object` is `null`\n\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\tif (index !== pathArray.length - 1) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn object === undefined ? value : object;\n}\n\nexport function setProperty(object, path, value) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn object;\n\t}\n\n\tconst root = object;\n\tconst pathArray = getPathSegments(path);\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tassertNotStringIndex(object, key);\n\n\t\tif (index === pathArray.length - 1) {\n\t\t\tobject[key] = value;\n\t\t} else if (!isObject(object[key])) {\n\t\t\tobject[key] = typeof pathArray[index + 1] === 'number' ? [] : {};\n\t\t}\n\n\t\tobject = object[key];\n\t}\n\n\treturn root;\n}\n\nexport function deleteProperty(object, path) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn false;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tassertNotStringIndex(object, key);\n\n\t\tif (index === pathArray.length - 1) {\n\t\t\tdelete object[key];\n\t\t\treturn true;\n\t\t}\n\n\t\tobject = object[key];\n\n\t\tif (!isObject(object)) {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport function hasProperty(object, path) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn false;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\tif (pathArray.length === 0) {\n\t\treturn false;\n\t}\n\n\tfor (const key of pathArray) {\n\t\tif (!isObject(object) || !(key in object) || isStringIndex(object, key)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tobject = object[key];\n\t}\n\n\treturn true;\n}\n\n// TODO: Backslashes with no effect should not be escaped\nexport function escapePath(path) {\n\tif (typeof path !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn path.replaceAll(/[\\\\.[]/g, '\\\\$&');\n}\n\n// The keys returned by Object.entries() for arrays are strings\nfunction entries(value) {\n\tconst result = Object.entries(value);\n\tif (Array.isArray(value)) {\n\t\treturn result.map(([key, value]) => [Number(key), value]);\n\t}\n\n\treturn result;\n}\n\nfunction stringifyPath(pathSegments) {\n\tlet result = '';\n\n\tfor (let [index, segment] of entries(pathSegments)) {\n\t\tif (typeof segment === 'number') {\n\t\t\tresult += `[${segment}]`;\n\t\t} else {\n\t\t\tsegment = escapePath(segment);\n\t\t\tresult += index === 0 ? segment : `.${segment}`;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction * deepKeysIterator(object, currentPath = []) {\n\tif (!isObject(object) || isEmptyObject(object)) {\n\t\tif (currentPath.length > 0) {\n\t\t\tyield stringifyPath(currentPath);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tfor (const [key, value] of entries(object)) {\n\t\tyield * deepKeysIterator(value, [...currentPath, key]);\n\t}\n}\n\nexport function deepKeys(object) {\n\treturn [...deepKeysIterator(object)];\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:os\");","import path from 'node:path';\nimport os from 'node:os';\nimport process from 'node:process';\n\nconst homedir = os.homedir();\nconst tmpdir = os.tmpdir();\nconst {env} = process;\n\nconst macos = name => {\n\tconst library = path.join(homedir, 'Library');\n\n\treturn {\n\t\tdata: path.join(library, 'Application Support', name),\n\t\tconfig: path.join(library, 'Preferences', name),\n\t\tcache: path.join(library, 'Caches', name),\n\t\tlog: path.join(library, 'Logs', name),\n\t\ttemp: path.join(tmpdir, name),\n\t};\n};\n\nconst windows = name => {\n\tconst appData = env.APPDATA || path.join(homedir, 'AppData', 'Roaming');\n\tconst localAppData = env.LOCALAPPDATA || path.join(homedir, 'AppData', 'Local');\n\n\treturn {\n\t\t// Data/config/cache/log are invented by me as Windows isn't opinionated about this\n\t\tdata: path.join(localAppData, name, 'Data'),\n\t\tconfig: path.join(appData, name, 'Config'),\n\t\tcache: path.join(localAppData, name, 'Cache'),\n\t\tlog: path.join(localAppData, name, 'Log'),\n\t\ttemp: path.join(tmpdir, name),\n\t};\n};\n\n// https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html\nconst linux = name => {\n\tconst username = path.basename(homedir);\n\n\treturn {\n\t\tdata: path.join(env.XDG_DATA_HOME || path.join(homedir, '.local', 'share'), name),\n\t\tconfig: path.join(env.XDG_CONFIG_HOME || path.join(homedir, '.config'), name),\n\t\tcache: path.join(env.XDG_CACHE_HOME || path.join(homedir, '.cache'), name),\n\t\t// https://wiki.debian.org/XDGBaseDirectorySpecification#state\n\t\tlog: path.join(env.XDG_STATE_HOME || path.join(homedir, '.local', 'state'), name),\n\t\ttemp: path.join(tmpdir, username, name),\n\t};\n};\n\nexport default function envPaths(name, {suffix = 'nodejs'} = {}) {\n\tif (typeof name !== 'string') {\n\t\tthrow new TypeError(`Expected a string, got ${typeof name}`);\n\t}\n\n\tif (suffix) {\n\t\t// Add suffix to prevent possible conflict with native apps\n\t\tname += `-${suffix}`;\n\t}\n\n\tif (process.platform === 'darwin') {\n\t\treturn macos(name);\n\t}\n\n\tif (process.platform === 'win32') {\n\t\treturn windows(name);\n\t}\n\n\treturn linux(name);\n}\n","/* MAIN */\n//FIXME: The return type of these functions is wrong, it doesn't account for returning \"undefined\", but a correct type cannot be written because generics cannot be extended properly, it seems\nconst attemptifyAsync = (fn, onError) => {\n    return function attemptified(...args) {\n        return fn.apply(undefined, args).catch(onError);\n    };\n};\nconst attemptifySync = (fn, onError) => {\n    return function attemptified(...args) {\n        try {\n            return fn.apply(undefined, args);\n        }\n        catch (error) {\n            return onError(error);\n        }\n    };\n};\n/* EXPORT */\nexport { attemptifyAsync, attemptifySync };\n","/* IMPORT */\nimport process from 'node:process';\n/* MAIN */\nconst IS_USER_ROOT = process.getuid ? !process.getuid() : false;\nconst LIMIT_FILES_DESCRIPTORS = 10000; //TODO: Fetch the real limit from the filesystem, somehow\nconst NOOP = () => undefined;\n/* EXPORT */\nexport { IS_USER_ROOT, LIMIT_FILES_DESCRIPTORS, NOOP };\n","/* IMPORT */\nimport { IS_USER_ROOT } from './constants.js';\n/* MAIN */\nconst Handlers = {\n    /* API */\n    isChangeErrorOk: (error) => {\n        if (!Handlers.isNodeError(error))\n            return false;\n        const { code } = error;\n        if (code === 'ENOSYS')\n            return true;\n        if (!IS_USER_ROOT && (code === 'EINVAL' || code === 'EPERM'))\n            return true;\n        return false;\n    },\n    isNodeError: (error) => {\n        return (error instanceof Error);\n    },\n    isRetriableError: (error) => {\n        if (!Handlers.isNodeError(error))\n            return false;\n        const { code } = error;\n        if (code === 'EMFILE' || code === 'ENFILE' || code === 'EAGAIN' || code === 'EBUSY' || code === 'EACCESS' || code === 'EACCES' || code === 'EACCS' || code === 'EPERM')\n            return true;\n        return false;\n    },\n    onChangeError: (error) => {\n        if (!Handlers.isNodeError(error))\n            throw error;\n        if (Handlers.isChangeErrorOk(error))\n            return;\n        throw error;\n    }\n};\n/* EXPORT */\nexport default Handlers;\n","/* IMPORT */\nimport { LIMIT_FILES_DESCRIPTORS } from './constants.js';\n/* MAIN */\nclass RetryfyQueue {\n    constructor() {\n        /* VARIABLES */\n        this.interval = 25;\n        this.intervalId = undefined;\n        this.limit = LIMIT_FILES_DESCRIPTORS;\n        this.queueActive = new Set();\n        this.queueWaiting = new Set();\n        /* LIFECYCLE API */\n        this.init = () => {\n            if (this.intervalId)\n                return;\n            this.intervalId = setInterval(this.tick, this.interval);\n        };\n        this.reset = () => {\n            if (!this.intervalId)\n                return;\n            clearInterval(this.intervalId);\n            delete this.intervalId;\n        };\n        /* API */\n        this.add = (fn) => {\n            this.queueWaiting.add(fn);\n            if (this.queueActive.size < (this.limit / 2)) { // Active queue not under preassure, executing immediately\n                this.tick();\n            }\n            else {\n                this.init();\n            }\n        };\n        this.remove = (fn) => {\n            this.queueWaiting.delete(fn);\n            this.queueActive.delete(fn);\n        };\n        this.schedule = () => {\n            return new Promise(resolve => {\n                const cleanup = () => this.remove(resolver);\n                const resolver = () => resolve(cleanup);\n                this.add(resolver);\n            });\n        };\n        this.tick = () => {\n            if (this.queueActive.size >= this.limit)\n                return;\n            if (!this.queueWaiting.size)\n                return this.reset();\n            for (const fn of this.queueWaiting) {\n                if (this.queueActive.size >= this.limit)\n                    break;\n                this.queueWaiting.delete(fn);\n                this.queueActive.add(fn);\n                fn();\n            }\n        };\n    }\n}\n;\n/* EXPORT */\nexport default new RetryfyQueue();\n","/* IMPORT */\nimport RetryfyQueue from './retryify_queue.js';\n/* MAIN */\n//FIXME: There are a boatload of anys here, but apparently generics cannot be extended properly, so...\nconst retryifyAsync = (fn, isRetriableError) => {\n    return function retrified(timestamp) {\n        return function attempt(...args) {\n            return RetryfyQueue.schedule().then(cleanup => {\n                const onResolve = (result) => {\n                    cleanup();\n                    return result;\n                };\n                const onReject = (error) => {\n                    cleanup();\n                    if (Date.now() >= timestamp)\n                        throw error;\n                    if (isRetriableError(error)) {\n                        const delay = Math.round(100 * Math.random());\n                        const delayPromise = new Promise(resolve => setTimeout(resolve, delay));\n                        return delayPromise.then(() => attempt.apply(undefined, args));\n                    }\n                    throw error;\n                };\n                return fn.apply(undefined, args).then(onResolve, onReject);\n            });\n        };\n    };\n};\nconst retryifySync = (fn, isRetriableError) => {\n    return function retrified(timestamp) {\n        return function attempt(...args) {\n            try {\n                return fn.apply(undefined, args);\n            }\n            catch (error) {\n                if (Date.now() > timestamp)\n                    throw error;\n                if (isRetriableError(error))\n                    return attempt.apply(undefined, args);\n                throw error;\n            }\n        };\n    };\n};\n/* EXPORT */\nexport { retryifyAsync, retryifySync };\n","/* IMPORT */\nimport fs from 'node:fs';\nimport { promisify } from 'node:util';\nimport { attemptifyAsync, attemptifySync } from './attemptify.js';\nimport { NOOP } from './constants.js';\nimport Handlers from './handlers.js';\nimport { retryifyAsync, retryifySync } from './retryify.js';\n/* MAIN */\nconst FS = {\n    attempt: {\n        /* ASYNC */\n        chmod: attemptifyAsync(promisify(fs.chmod), Handlers.onChangeError),\n        chown: attemptifyAsync(promisify(fs.chown), Handlers.onChangeError),\n        close: attemptifyAsync(promisify(fs.close), NOOP),\n        fsync: attemptifyAsync(promisify(fs.fsync), NOOP),\n        mkdir: attemptifyAsync(promisify(fs.mkdir), NOOP),\n        realpath: attemptifyAsync(promisify(fs.realpath), NOOP),\n        stat: attemptifyAsync(promisify(fs.stat), NOOP),\n        unlink: attemptifyAsync(promisify(fs.unlink), NOOP),\n        /* SYNC */\n        chmodSync: attemptifySync(fs.chmodSync, Handlers.onChangeError),\n        chownSync: attemptifySync(fs.chownSync, Handlers.onChangeError),\n        closeSync: attemptifySync(fs.closeSync, NOOP),\n        existsSync: attemptifySync(fs.existsSync, NOOP),\n        fsyncSync: attemptifySync(fs.fsync, NOOP),\n        mkdirSync: attemptifySync(fs.mkdirSync, NOOP),\n        realpathSync: attemptifySync(fs.realpathSync, NOOP),\n        statSync: attemptifySync(fs.statSync, NOOP),\n        unlinkSync: attemptifySync(fs.unlinkSync, NOOP)\n    },\n    retry: {\n        /* ASYNC */\n        close: retryifyAsync(promisify(fs.close), Handlers.isRetriableError),\n        fsync: retryifyAsync(promisify(fs.fsync), Handlers.isRetriableError),\n        open: retryifyAsync(promisify(fs.open), Handlers.isRetriableError),\n        readFile: retryifyAsync(promisify(fs.readFile), Handlers.isRetriableError),\n        rename: retryifyAsync(promisify(fs.rename), Handlers.isRetriableError),\n        stat: retryifyAsync(promisify(fs.stat), Handlers.isRetriableError),\n        write: retryifyAsync(promisify(fs.write), Handlers.isRetriableError),\n        writeFile: retryifyAsync(promisify(fs.writeFile), Handlers.isRetriableError),\n        /* SYNC */\n        closeSync: retryifySync(fs.closeSync, Handlers.isRetriableError),\n        fsyncSync: retryifySync(fs.fsyncSync, Handlers.isRetriableError),\n        openSync: retryifySync(fs.openSync, Handlers.isRetriableError),\n        readFileSync: retryifySync(fs.readFileSync, Handlers.isRetriableError),\n        renameSync: retryifySync(fs.renameSync, Handlers.isRetriableError),\n        statSync: retryifySync(fs.statSync, Handlers.isRetriableError),\n        writeSync: retryifySync(fs.writeSync, Handlers.isRetriableError),\n        writeFileSync: retryifySync(fs.writeFileSync, Handlers.isRetriableError)\n    }\n};\n/* EXPORT */\nexport default FS;\n","/* IMPORT */\nimport os from 'node:os';\nimport process from 'node:process';\n/* MAIN */\nconst DEFAULT_ENCODING = 'utf8';\nconst DEFAULT_FILE_MODE = 0o666;\nconst DEFAULT_FOLDER_MODE = 0o777;\nconst DEFAULT_READ_OPTIONS = {};\nconst DEFAULT_WRITE_OPTIONS = {};\nconst DEFAULT_USER_UID = os.userInfo().uid;\nconst DEFAULT_USER_GID = os.userInfo().gid;\nconst DEFAULT_TIMEOUT_ASYNC = 7500;\nconst DEFAULT_TIMEOUT_SYNC = 1000;\nconst IS_POSIX = !!process.getuid;\nconst IS_USER_ROOT = process.getuid ? !process.getuid() : false;\nconst LIMIT_BASENAME_LENGTH = 128; //TODO: Fetch the real limit from the filesystem //TODO: Fetch the whole-path length limit too\nconst LIMIT_FILES_DESCRIPTORS = 10000; //TODO: Fetch the real limit from the filesystem\nconst NOOP = () => { };\n/* EXPORT */\nexport { DEFAULT_ENCODING, DEFAULT_FILE_MODE, DEFAULT_FOLDER_MODE, DEFAULT_READ_OPTIONS, DEFAULT_WRITE_OPTIONS, DEFAULT_USER_UID, DEFAULT_USER_GID, DEFAULT_TIMEOUT_ASYNC, DEFAULT_TIMEOUT_SYNC, IS_POSIX, IS_USER_ROOT, LIMIT_BASENAME_LENGTH, LIMIT_FILES_DESCRIPTORS, NOOP };\n","/* IMPORT */\n/* MAIN */\nconst isException = (value) => {\n    return (value instanceof Error) && ('code' in value);\n};\nconst isFunction = (value) => {\n    return (typeof value === 'function');\n};\nconst isString = (value) => {\n    return (typeof value === 'string');\n};\nconst isUndefined = (value) => {\n    return (value === undefined);\n};\n/* EXPORT */\nexport { isException, isFunction, isString, isUndefined };\n","/* IMPORT */\nimport process from 'node:process';\n/* MAIN */\nconst IS_LINUX = (process.platform === 'linux');\nconst IS_WINDOWS = (process.platform === 'win32');\n/* EXPORT */\nexport { IS_LINUX, IS_WINDOWS };\n","/* IMPORT */\nimport { IS_LINUX, IS_WINDOWS } from './constants.js';\n/* MAIN */\n//URL: https://github.com/tapjs/signal-exit/blob/03dd77a96caa309c6a02c59274d58c812a2dce45/signals.js\nconst Signals = ['SIGABRT', 'SIGALRM', 'SIGHUP', 'SIGINT', 'SIGTERM'];\nif (!IS_WINDOWS) {\n    Signals.push('SIGVTALRM', 'SIGXCPU', 'SIGXFSZ', 'SIGUSR2', 'SIGTRAP', 'SIGSYS', 'SIGQUIT', 'SIGIOT');\n}\nif (IS_LINUX) {\n    Signals.push('SIGIO', 'SIGPOLL', 'SIGPWR', 'SIGSTKFLT', 'SIGUNUSED');\n}\n/* EXPORT */\nexport default Signals;\n","/* IMPORT */\nimport Interceptor from './interceptor.js';\n/* MAIN */\nconst whenExit = Interceptor.register;\n/* EXPORT */\nexport default whenExit;\n","/* IMPORT */\nimport process from 'node:process';\nimport { IS_WINDOWS } from './constants.js';\nimport Signals from './signals.js';\n/* MAIN */\nclass Interceptor {\n    /* CONSTRUCTOR */\n    constructor() {\n        /* VARIABLES */\n        this.callbacks = new Set();\n        this.exited = false;\n        /* API */\n        this.exit = (signal) => {\n            if (this.exited)\n                return;\n            this.exited = true;\n            for (const callback of this.callbacks) {\n                callback();\n            }\n            if (signal) {\n                if (IS_WINDOWS && (signal !== 'SIGINT' && signal !== 'SIGTERM' && signal !== 'SIGKILL')) { // Windows doesn't support POSIX signals, but Node emulates these 3 signals for us\n                    process.kill(process.pid, 'SIGTERM');\n                }\n                else {\n                    process.kill(process.pid, signal);\n                }\n            }\n        };\n        this.hook = () => {\n            process.once('exit', () => this.exit());\n            for (const signal of Signals) {\n                try {\n                    process.once(signal, () => this.exit(signal));\n                }\n                catch {\n                    // Sometimes \"process.once\" can throw...\n                }\n            }\n        };\n        this.register = (callback) => {\n            this.callbacks.add(callback);\n            return () => {\n                this.callbacks.delete(callback);\n            };\n        };\n        this.hook();\n    }\n}\n/* EXPORT */\nexport default new Interceptor();\n","/* IMPORT */\nimport path from 'node:path';\nimport fs from 'stubborn-fs';\nimport whenExit from 'when-exit';\nimport { LIMIT_BASENAME_LENGTH } from '../constants.js';\n/* MAIN */\n//TODO: Maybe publish this as a standalone package\nconst Temp = {\n    /* VARIABLES */\n    store: {},\n    /* API */\n    create: (filePath) => {\n        const randomness = `000000${Math.floor(Math.random() * 16777215).toString(16)}`.slice(-6); // 6 random-enough hex characters\n        const timestamp = Date.now().toString().slice(-10); // 10 precise timestamp digits\n        const prefix = 'tmp-';\n        const suffix = `.${prefix}${timestamp}${randomness}`;\n        const tempPath = `${filePath}${suffix}`;\n        return tempPath;\n    },\n    get: (filePath, creator, purge = true) => {\n        const tempPath = Temp.truncate(creator(filePath));\n        if (tempPath in Temp.store)\n            return Temp.get(filePath, creator, purge); // Collision found, try again\n        Temp.store[tempPath] = purge;\n        const disposer = () => delete Temp.store[tempPath];\n        return [tempPath, disposer];\n    },\n    purge: (filePath) => {\n        if (!Temp.store[filePath])\n            return;\n        delete Temp.store[filePath];\n        fs.attempt.unlink(filePath);\n    },\n    purgeSync: (filePath) => {\n        if (!Temp.store[filePath])\n            return;\n        delete Temp.store[filePath];\n        fs.attempt.unlinkSync(filePath);\n    },\n    purgeSyncAll: () => {\n        for (const filePath in Temp.store) {\n            Temp.purgeSync(filePath);\n        }\n    },\n    truncate: (filePath) => {\n        const basename = path.basename(filePath);\n        if (basename.length <= LIMIT_BASENAME_LENGTH)\n            return filePath; //FIXME: Rough and quick attempt at detecting ok lengths\n        const truncable = /^(\\.?)(.*?)((?:\\.[^.]+)?(?:\\.tmp-\\d{10}[a-f0-9]{6})?)$/.exec(basename);\n        if (!truncable)\n            return filePath; //FIXME: No truncable part detected, can't really do much without also changing the parent path, which is unsafe, hoping for the best here\n        const truncationLength = basename.length - LIMIT_BASENAME_LENGTH;\n        return `${filePath.slice(0, -basename.length)}${truncable[1]}${truncable[2].slice(0, -truncationLength)}${truncable[3]}`; //FIXME: The truncable part might be shorter than needed here\n    }\n};\n/* INIT */\nwhenExit(Temp.purgeSyncAll); // Ensuring purgeable temp files are purged on exit\n/* EXPORT */\nexport default Temp;\n","/* IMPORT */\nimport path from 'node:path';\nimport fs from 'stubborn-fs';\nimport { DEFAULT_ENCODING, DEFAULT_FILE_MODE, DEFAULT_FOLDER_MODE, DEFAULT_READ_OPTIONS, DEFAULT_WRITE_OPTIONS, DEFAULT_USER_UID, DEFAULT_USER_GID, DEFAULT_TIMEOUT_ASYNC, DEFAULT_TIMEOUT_SYNC, IS_POSIX } from './constants.js';\nimport { isException, isFunction, isString, isUndefined } from './utils/lang.js';\nimport Scheduler from './utils/scheduler.js';\nimport Temp from './utils/temp.js';\nfunction readFile(filePath, options = DEFAULT_READ_OPTIONS) {\n    if (isString(options))\n        return readFile(filePath, { encoding: options });\n    const timeout = Date.now() + ((options.timeout ?? DEFAULT_TIMEOUT_ASYNC) || -1);\n    return fs.retry.readFile(timeout)(filePath, options);\n}\nfunction readFileSync(filePath, options = DEFAULT_READ_OPTIONS) {\n    if (isString(options))\n        return readFileSync(filePath, { encoding: options });\n    const timeout = Date.now() + ((options.timeout ?? DEFAULT_TIMEOUT_SYNC) || -1);\n    return fs.retry.readFileSync(timeout)(filePath, options);\n}\nfunction writeFile(filePath, data, options, callback) {\n    if (isFunction(options))\n        return writeFile(filePath, data, DEFAULT_WRITE_OPTIONS, options);\n    const promise = writeFileAsync(filePath, data, options);\n    if (callback)\n        promise.then(callback, callback);\n    return promise;\n}\nasync function writeFileAsync(filePath, data, options = DEFAULT_WRITE_OPTIONS) {\n    if (isString(options))\n        return writeFileAsync(filePath, data, { encoding: options });\n    const timeout = Date.now() + ((options.timeout ?? DEFAULT_TIMEOUT_ASYNC) || -1);\n    let schedulerCustomDisposer = null;\n    let schedulerDisposer = null;\n    let tempDisposer = null;\n    let tempPath = null;\n    let fd = null;\n    try {\n        if (options.schedule)\n            schedulerCustomDisposer = await options.schedule(filePath);\n        schedulerDisposer = await Scheduler.schedule(filePath);\n        const filePathReal = await fs.attempt.realpath(filePath);\n        const filePathExists = !!filePathReal;\n        filePath = filePathReal || filePath;\n        [tempPath, tempDisposer] = Temp.get(filePath, options.tmpCreate || Temp.create, !(options.tmpPurge === false));\n        const useStatChown = IS_POSIX && isUndefined(options.chown);\n        const useStatMode = isUndefined(options.mode);\n        if (filePathExists && (useStatChown || useStatMode)) {\n            const stats = await fs.attempt.stat(filePath);\n            if (stats) {\n                options = { ...options };\n                if (useStatChown) {\n                    options.chown = { uid: stats.uid, gid: stats.gid };\n                }\n                if (useStatMode) {\n                    options.mode = stats.mode;\n                }\n            }\n        }\n        if (!filePathExists) {\n            const parentPath = path.dirname(filePath);\n            await fs.attempt.mkdir(parentPath, {\n                mode: DEFAULT_FOLDER_MODE,\n                recursive: true\n            });\n        }\n        fd = await fs.retry.open(timeout)(tempPath, 'w', options.mode || DEFAULT_FILE_MODE);\n        if (options.tmpCreated) {\n            options.tmpCreated(tempPath);\n        }\n        if (isString(data)) {\n            await fs.retry.write(timeout)(fd, data, 0, options.encoding || DEFAULT_ENCODING);\n        }\n        else if (!isUndefined(data)) {\n            await fs.retry.write(timeout)(fd, data, 0, data.length, 0);\n        }\n        if (options.fsync !== false) {\n            if (options.fsyncWait !== false) {\n                await fs.retry.fsync(timeout)(fd);\n            }\n            else {\n                fs.attempt.fsync(fd);\n            }\n        }\n        await fs.retry.close(timeout)(fd);\n        fd = null;\n        if (options.chown && (options.chown.uid !== DEFAULT_USER_UID || options.chown.gid !== DEFAULT_USER_GID)) {\n            await fs.attempt.chown(tempPath, options.chown.uid, options.chown.gid);\n        }\n        if (options.mode && options.mode !== DEFAULT_FILE_MODE) {\n            await fs.attempt.chmod(tempPath, options.mode);\n        }\n        try {\n            await fs.retry.rename(timeout)(tempPath, filePath);\n        }\n        catch (error) {\n            if (!isException(error))\n                throw error;\n            if (error.code !== 'ENAMETOOLONG')\n                throw error;\n            await fs.retry.rename(timeout)(tempPath, Temp.truncate(filePath));\n        }\n        tempDisposer();\n        tempPath = null;\n    }\n    finally {\n        if (fd)\n            await fs.attempt.close(fd);\n        if (tempPath)\n            Temp.purge(tempPath);\n        if (schedulerCustomDisposer)\n            schedulerCustomDisposer();\n        if (schedulerDisposer)\n            schedulerDisposer();\n    }\n}\nfunction writeFileSync(filePath, data, options = DEFAULT_WRITE_OPTIONS) {\n    if (isString(options))\n        return writeFileSync(filePath, data, { encoding: options });\n    const timeout = Date.now() + ((options.timeout ?? DEFAULT_TIMEOUT_SYNC) || -1);\n    let tempDisposer = null;\n    let tempPath = null;\n    let fd = null;\n    try {\n        const filePathReal = fs.attempt.realpathSync(filePath);\n        const filePathExists = !!filePathReal;\n        filePath = filePathReal || filePath;\n        [tempPath, tempDisposer] = Temp.get(filePath, options.tmpCreate || Temp.create, !(options.tmpPurge === false));\n        const useStatChown = IS_POSIX && isUndefined(options.chown);\n        const useStatMode = isUndefined(options.mode);\n        if (filePathExists && (useStatChown || useStatMode)) {\n            const stats = fs.attempt.statSync(filePath);\n            if (stats) {\n                options = { ...options };\n                if (useStatChown) {\n                    options.chown = { uid: stats.uid, gid: stats.gid };\n                }\n                if (useStatMode) {\n                    options.mode = stats.mode;\n                }\n            }\n        }\n        if (!filePathExists) {\n            const parentPath = path.dirname(filePath);\n            fs.attempt.mkdirSync(parentPath, {\n                mode: DEFAULT_FOLDER_MODE,\n                recursive: true\n            });\n        }\n        fd = fs.retry.openSync(timeout)(tempPath, 'w', options.mode || DEFAULT_FILE_MODE);\n        if (options.tmpCreated) {\n            options.tmpCreated(tempPath);\n        }\n        if (isString(data)) {\n            fs.retry.writeSync(timeout)(fd, data, 0, options.encoding || DEFAULT_ENCODING);\n        }\n        else if (!isUndefined(data)) {\n            fs.retry.writeSync(timeout)(fd, data, 0, data.length, 0);\n        }\n        if (options.fsync !== false) {\n            if (options.fsyncWait !== false) {\n                fs.retry.fsyncSync(timeout)(fd);\n            }\n            else {\n                fs.attempt.fsync(fd);\n            }\n        }\n        fs.retry.closeSync(timeout)(fd);\n        fd = null;\n        if (options.chown && (options.chown.uid !== DEFAULT_USER_UID || options.chown.gid !== DEFAULT_USER_GID)) {\n            fs.attempt.chownSync(tempPath, options.chown.uid, options.chown.gid);\n        }\n        if (options.mode && options.mode !== DEFAULT_FILE_MODE) {\n            fs.attempt.chmodSync(tempPath, options.mode);\n        }\n        try {\n            fs.retry.renameSync(timeout)(tempPath, filePath);\n        }\n        catch (error) {\n            if (!isException(error))\n                throw error;\n            if (error.code !== 'ENAMETOOLONG')\n                throw error;\n            fs.retry.renameSync(timeout)(tempPath, Temp.truncate(filePath));\n        }\n        tempDisposer();\n        tempPath = null;\n    }\n    finally {\n        if (fd)\n            fs.attempt.closeSync(fd);\n        if (tempPath)\n            Temp.purge(tempPath);\n    }\n}\n/* EXPORT */\nexport { readFile, readFileSync, writeFile, writeFileSync };\n","const copyProperty = (to, from, property, ignoreNonConfigurable) => {\n\t// `Function#length` should reflect the parameters of `to` not `from` since we keep its body.\n\t// `Function#prototype` is non-writable and non-configurable so can never be modified.\n\tif (property === 'length' || property === 'prototype') {\n\t\treturn;\n\t}\n\n\t// `Function#arguments` and `Function#caller` should not be copied. They were reported to be present in `Reflect.ownKeys` for some devices in React Native (#41), so we explicitly ignore them here.\n\tif (property === 'arguments' || property === 'caller') {\n\t\treturn;\n\t}\n\n\tconst toDescriptor = Object.getOwnPropertyDescriptor(to, property);\n\tconst fromDescriptor = Object.getOwnPropertyDescriptor(from, property);\n\n\tif (!canCopyProperty(toDescriptor, fromDescriptor) && ignoreNonConfigurable) {\n\t\treturn;\n\t}\n\n\tObject.defineProperty(to, property, fromDescriptor);\n};\n\n// `Object.defineProperty()` throws if the property exists, is not configurable and either:\n// - one its descriptors is changed\n// - it is non-writable and its value is changed\nconst canCopyProperty = function (toDescriptor, fromDescriptor) {\n\treturn toDescriptor === undefined || toDescriptor.configurable || (\n\t\ttoDescriptor.writable === fromDescriptor.writable\n\t\t&& toDescriptor.enumerable === fromDescriptor.enumerable\n\t\t&& toDescriptor.configurable === fromDescriptor.configurable\n\t\t&& (toDescriptor.writable || toDescriptor.value === fromDescriptor.value)\n\t);\n};\n\nconst changePrototype = (to, from) => {\n\tconst fromPrototype = Object.getPrototypeOf(from);\n\tif (fromPrototype === Object.getPrototypeOf(to)) {\n\t\treturn;\n\t}\n\n\tObject.setPrototypeOf(to, fromPrototype);\n};\n\nconst wrappedToString = (withName, fromBody) => `/* Wrapped ${withName}*/\\n${fromBody}`;\n\nconst toStringDescriptor = Object.getOwnPropertyDescriptor(Function.prototype, 'toString');\nconst toStringName = Object.getOwnPropertyDescriptor(Function.prototype.toString, 'name');\n\n// We call `from.toString()` early (not lazily) to ensure `from` can be garbage collected.\n// We use `bind()` instead of a closure for the same reason.\n// Calling `from.toString()` early also allows caching it in case `to.toString()` is called several times.\nconst changeToString = (to, from, name) => {\n\tconst withName = name === '' ? '' : `with ${name.trim()}() `;\n\tconst newToString = wrappedToString.bind(null, withName, from.toString());\n\t// Ensure `to.toString.toString` is non-enumerable and has the same `same`\n\tObject.defineProperty(newToString, 'name', toStringName);\n\tconst {writable, enumerable, configurable} = toStringDescriptor; // We destructue to avoid a potential `get` descriptor.\n\tObject.defineProperty(to, 'toString', {value: newToString, writable, enumerable, configurable});\n};\n\nexport default function mimicFunction(to, from, {ignoreNonConfigurable = false} = {}) {\n\tconst {name} = to;\n\n\tfor (const property of Reflect.ownKeys(from)) {\n\t\tcopyProperty(to, from, property, ignoreNonConfigurable);\n\t}\n\n\tchangePrototype(to, from);\n\tchangeToString(to, from, name);\n\n\treturn to;\n}\n","import mimicFunction from 'mimic-function';\n\nconst debounceFunction = (inputFunction, options = {}) => {\n\tif (typeof inputFunction !== 'function') {\n\t\tthrow new TypeError(`Expected the first argument to be a function, got \\`${typeof inputFunction}\\``);\n\t}\n\n\tconst {\n\t\twait = 0,\n\t\tmaxWait = Number.POSITIVE_INFINITY,\n\t\tbefore = false,\n\t\tafter = true,\n\t} = options;\n\n\tif (wait < 0 || maxWait < 0) {\n\t\tthrow new RangeError('`wait` and `maxWait` must not be negative.');\n\t}\n\n\tif (!before && !after) {\n\t\tthrow new Error('Both `before` and `after` are false, function wouldn\\'t be called.');\n\t}\n\n\tlet timeout;\n\tlet maxTimeout;\n\tlet result;\n\n\tconst debouncedFunction = function (...arguments_) {\n\t\tconst context = this; // eslint-disable-line unicorn/no-this-assignment\n\n\t\tconst later = () => {\n\t\t\ttimeout = undefined;\n\n\t\t\tif (maxTimeout) {\n\t\t\t\tclearTimeout(maxTimeout);\n\t\t\t\tmaxTimeout = undefined;\n\t\t\t}\n\n\t\t\tif (after) {\n\t\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t\t}\n\t\t};\n\n\t\tconst maxLater = () => {\n\t\t\tmaxTimeout = undefined;\n\n\t\t\tif (timeout) {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\ttimeout = undefined;\n\t\t\t}\n\n\t\t\tif (after) {\n\t\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t\t}\n\t\t};\n\n\t\tconst shouldCallNow = before && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (maxWait > 0 && maxWait !== Number.POSITIVE_INFINITY && !maxTimeout) {\n\t\t\tmaxTimeout = setTimeout(maxLater, maxWait);\n\t\t}\n\n\t\tif (shouldCallNow) {\n\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tmimicFunction(debouncedFunction, inputFunction);\n\n\tdebouncedFunction.cancel = () => {\n\t\tif (timeout) {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = undefined;\n\t\t}\n\n\t\tif (maxTimeout) {\n\t\t\tclearTimeout(maxTimeout);\n\t\t\tmaxTimeout = undefined;\n\t\t}\n\t};\n\n\treturn debouncedFunction;\n};\n\nexport default debounceFunction;\n","const objectToString = Object.prototype.toString;\nconst uint8ArrayStringified = '[object Uint8Array]';\nconst arrayBufferStringified = '[object ArrayBuffer]';\n\nfunction isType(value, typeConstructor, typeStringified) {\n\tif (!value) {\n\t\treturn false;\n\t}\n\n\tif (value.constructor === typeConstructor) {\n\t\treturn true;\n\t}\n\n\treturn objectToString.call(value) === typeStringified;\n}\n\nexport function isUint8Array(value) {\n\treturn isType(value, Uint8Array, uint8ArrayStringified);\n}\n\nfunction isArrayBuffer(value) {\n\treturn isType(value, ArrayBuffer, arrayBufferStringified);\n}\n\nfunction isUint8ArrayOrArrayBuffer(value) {\n\treturn isUint8Array(value) || isArrayBuffer(value);\n}\n\nexport function assertUint8Array(value) {\n\tif (!isUint8Array(value)) {\n\t\tthrow new TypeError(`Expected \\`Uint8Array\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nexport function assertUint8ArrayOrArrayBuffer(value) {\n\tif (!isUint8ArrayOrArrayBuffer(value)) {\n\t\tthrow new TypeError(`Expected \\`Uint8Array\\` or \\`ArrayBuffer\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nexport function toUint8Array(value) {\n\tif (value instanceof ArrayBuffer) {\n\t\treturn new Uint8Array(value);\n\t}\n\n\tif (ArrayBuffer.isView(value)) {\n\t\treturn new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n\t}\n\n\tthrow new TypeError(`Unsupported value, got \\`${typeof value}\\`.`);\n}\n\nexport function concatUint8Arrays(arrays, totalLength) {\n\tif (arrays.length === 0) {\n\t\treturn new Uint8Array(0);\n\t}\n\n\ttotalLength ??= arrays.reduce((accumulator, currentValue) => accumulator + currentValue.length, 0);\n\n\tconst returnValue = new Uint8Array(totalLength);\n\n\tlet offset = 0;\n\tfor (const array of arrays) {\n\t\tassertUint8Array(array);\n\t\treturnValue.set(array, offset);\n\t\toffset += array.length;\n\t}\n\n\treturn returnValue;\n}\n\nexport function areUint8ArraysEqual(a, b) {\n\tassertUint8Array(a);\n\tassertUint8Array(b);\n\n\tif (a === b) {\n\t\treturn true;\n\t}\n\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\n\t// eslint-disable-next-line unicorn/no-for-loop\n\tfor (let index = 0; index < a.length; index++) {\n\t\tif (a[index] !== b[index]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport function compareUint8Arrays(a, b) {\n\tassertUint8Array(a);\n\tassertUint8Array(b);\n\n\tconst length = Math.min(a.length, b.length);\n\n\tfor (let index = 0; index < length; index++) {\n\t\tconst diff = a[index] - b[index];\n\t\tif (diff !== 0) {\n\t\t\treturn Math.sign(diff);\n\t\t}\n\t}\n\n\t// At this point, all the compared elements are equal.\n\t// The shorter array should come first if the arrays are of different lengths.\n\treturn Math.sign(a.length - b.length);\n}\n\nconst cachedDecoders = {\n\tutf8: new globalThis.TextDecoder('utf8'),\n};\n\nexport function uint8ArrayToString(array, encoding = 'utf8') {\n\tassertUint8ArrayOrArrayBuffer(array);\n\tcachedDecoders[encoding] ??= new globalThis.TextDecoder(encoding);\n\treturn cachedDecoders[encoding].decode(array);\n}\n\nfunction assertString(value) {\n\tif (typeof value !== 'string') {\n\t\tthrow new TypeError(`Expected \\`string\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nconst cachedEncoder = new globalThis.TextEncoder();\n\nexport function stringToUint8Array(string) {\n\tassertString(string);\n\treturn cachedEncoder.encode(string);\n}\n\nfunction base64ToBase64Url(base64) {\n\treturn base64.replaceAll('+', '-').replaceAll('/', '_').replace(/=+$/, '');\n}\n\nfunction base64UrlToBase64(base64url) {\n\treturn base64url.replaceAll('-', '+').replaceAll('_', '/');\n}\n\n// Reference: https://phuoc.ng/collection/this-vs-that/concat-vs-push/\nconst MAX_BLOCK_SIZE = 65_535;\n\nexport function uint8ArrayToBase64(array, {urlSafe = false} = {}) {\n\tassertUint8Array(array);\n\n\tlet base64;\n\n\tif (array.length < MAX_BLOCK_SIZE) {\n\t// Required as `btoa` and `atob` don't properly support Unicode: https://developer.mozilla.org/en-US/docs/Glossary/Base64#the_unicode_problem\n\t\tbase64 = globalThis.btoa(String.fromCodePoint.apply(this, array));\n\t} else {\n\t\tbase64 = '';\n\t\tfor (const value of array) {\n\t\t\tbase64 += String.fromCodePoint(value);\n\t\t}\n\n\t\tbase64 = globalThis.btoa(base64);\n\t}\n\n\treturn urlSafe ? base64ToBase64Url(base64) : base64;\n}\n\nexport function base64ToUint8Array(base64String) {\n\tassertString(base64String);\n\treturn Uint8Array.from(globalThis.atob(base64UrlToBase64(base64String)), x => x.codePointAt(0));\n}\n\nexport function stringToBase64(string, {urlSafe = false} = {}) {\n\tassertString(string);\n\treturn uint8ArrayToBase64(stringToUint8Array(string), {urlSafe});\n}\n\nexport function base64ToString(base64String) {\n\tassertString(base64String);\n\treturn uint8ArrayToString(base64ToUint8Array(base64String));\n}\n\nconst byteToHexLookupTable = Array.from({length: 256}, (_, index) => index.toString(16).padStart(2, '0'));\n\nexport function uint8ArrayToHex(array) {\n\tassertUint8Array(array);\n\n\t// Concatenating a string is faster than using an array.\n\tlet hexString = '';\n\n\t// eslint-disable-next-line unicorn/no-for-loop -- Max performance is critical.\n\tfor (let index = 0; index < array.length; index++) {\n\t\thexString += byteToHexLookupTable[array[index]];\n\t}\n\n\treturn hexString;\n}\n\nconst hexToDecimalLookupTable = {\n\t0: 0,\n\t1: 1,\n\t2: 2,\n\t3: 3,\n\t4: 4,\n\t5: 5,\n\t6: 6,\n\t7: 7,\n\t8: 8,\n\t9: 9,\n\ta: 10,\n\tb: 11,\n\tc: 12,\n\td: 13,\n\te: 14,\n\tf: 15,\n\tA: 10,\n\tB: 11,\n\tC: 12,\n\tD: 13,\n\tE: 14,\n\tF: 15,\n};\n\nexport function hexToUint8Array(hexString) {\n\tassertString(hexString);\n\n\tif (hexString.length % 2 !== 0) {\n\t\tthrow new Error('Invalid Hex string length.');\n\t}\n\n\tconst resultLength = hexString.length / 2;\n\tconst bytes = new Uint8Array(resultLength);\n\n\tfor (let index = 0; index < resultLength; index++) {\n\t\tconst highNibble = hexToDecimalLookupTable[hexString[index * 2]];\n\t\tconst lowNibble = hexToDecimalLookupTable[hexString[(index * 2) + 1]];\n\n\t\tif (highNibble === undefined || lowNibble === undefined) {\n\t\t\tthrow new Error(`Invalid Hex character encountered at position ${index * 2}`);\n\t\t}\n\n\t\tbytes[index] = (highNibble << 4) | lowNibble; // eslint-disable-line no-bitwise\n\t}\n\n\treturn bytes;\n}\n\n/**\n@param {DataView} view\n@returns {number}\n*/\nexport function getUintBE(view) {\n\tconst {byteLength} = view;\n\n\tif (byteLength === 6) {\n\t\treturn (view.getUint16(0) * (2 ** 32)) + view.getUint32(2);\n\t}\n\n\tif (byteLength === 5) {\n\t\treturn (view.getUint8(0) * (2 ** 32)) + view.getUint32(1);\n\t}\n\n\tif (byteLength === 4) {\n\t\treturn view.getUint32(0);\n\t}\n\n\tif (byteLength === 3) {\n\t\treturn (view.getUint8(0) * (2 ** 16)) + view.getUint16(1);\n\t}\n\n\tif (byteLength === 2) {\n\t\treturn view.getUint16(0);\n\t}\n\n\tif (byteLength === 1) {\n\t\treturn view.getUint8(0);\n\t}\n}\n\n/**\n@param {Uint8Array} array\n@param {Uint8Array} value\n@returns {number}\n*/\nexport function indexOf(array, value) {\n\tconst arrayLength = array.length;\n\tconst valueLength = value.length;\n\n\tif (valueLength === 0) {\n\t\treturn -1;\n\t}\n\n\tif (valueLength > arrayLength) {\n\t\treturn -1;\n\t}\n\n\tconst validOffsetLength = arrayLength - valueLength;\n\n\tfor (let index = 0; index <= validOffsetLength; index++) {\n\t\tlet isMatch = true;\n\t\tfor (let index2 = 0; index2 < valueLength; index2++) {\n\t\t\tif (array[index + index2] !== value[index2]) {\n\t\t\t\tisMatch = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (isMatch) {\n\t\t\treturn index;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\n/**\n@param {Uint8Array} array\n@param {Uint8Array} value\n@returns {boolean}\n*/\nexport function includes(array, value) {\n\treturn indexOf(array, value) !== -1;\n}\n","/* eslint-disable @typescript-eslint/naming-convention, @typescript-eslint/no-unsafe-return */\nimport { isDeepStrictEqual } from 'node:util';\nimport process from 'node:process';\nimport fs from 'node:fs';\nimport path from 'node:path';\nimport crypto from 'node:crypto';\nimport assert from 'node:assert';\nimport { getProperty, hasProperty, setProperty, deleteProperty, } from 'dot-prop';\nimport envPaths from 'env-paths';\nimport { writeFileSync as atomicWriteFileSync } from 'atomically';\nimport { Ajv2020 as Ajv } from 'ajv/dist/2020.js';\nimport ajvFormatsModule from 'ajv-formats';\nimport debounceFn from 'debounce-fn';\nimport semver from 'semver';\nimport { concatUint8Arrays, stringToUint8Array, uint8ArrayToString, } from 'uint8array-extras';\n// FIXME: https://github.com/ajv-validator/ajv/issues/2047\nconst ajvFormats = ajvFormatsModule.default;\nconst encryptionAlgorithm = 'aes-256-cbc';\nconst createPlainObject = () => Object.create(null);\nconst isExist = (data) => data !== undefined && data !== null;\nconst checkValueType = (key, value) => {\n    const nonJsonTypes = new Set([\n        'undefined',\n        'symbol',\n        'function',\n    ]);\n    const type = typeof value;\n    if (nonJsonTypes.has(type)) {\n        throw new TypeError(`Setting a value of type \\`${type}\\` for key \\`${key}\\` is not allowed as it's not supported by JSON`);\n    }\n};\nconst INTERNAL_KEY = '__internal__';\nconst MIGRATION_KEY = `${INTERNAL_KEY}.migrations.version`;\nexport default class Conf {\n    path;\n    events;\n    #validator;\n    #encryptionKey;\n    #options;\n    #defaultValues = {};\n    constructor(partialOptions = {}) {\n        const options = {\n            configName: 'config',\n            fileExtension: 'json',\n            projectSuffix: 'nodejs',\n            clearInvalidConfig: false,\n            accessPropertiesByDotNotation: true,\n            configFileMode: 0o666,\n            ...partialOptions,\n        };\n        if (!options.cwd) {\n            if (!options.projectName) {\n                throw new Error('Please specify the `projectName` option.');\n            }\n            options.cwd = envPaths(options.projectName, { suffix: options.projectSuffix }).config;\n        }\n        this.#options = options;\n        if (options.schema ?? options.ajvOptions ?? options.rootSchema) {\n            if (options.schema && typeof options.schema !== 'object') {\n                throw new TypeError('The `schema` option must be an object.');\n            }\n            const ajv = new Ajv({\n                allErrors: true,\n                useDefaults: true,\n                ...options.ajvOptions,\n            });\n            ajvFormats(ajv);\n            const schema = {\n                ...options.rootSchema,\n                type: 'object',\n                properties: options.schema,\n            };\n            this.#validator = ajv.compile(schema);\n            for (const [key, value] of Object.entries(options.schema ?? {})) { // TODO: Remove the `as any`.\n                if (value?.default) {\n                    this.#defaultValues[key] = value.default; // eslint-disable-line @typescript-eslint/no-unsafe-assignment\n                }\n            }\n        }\n        if (options.defaults) {\n            this.#defaultValues = {\n                ...this.#defaultValues,\n                ...options.defaults,\n            };\n        }\n        if (options.serialize) {\n            this._serialize = options.serialize;\n        }\n        if (options.deserialize) {\n            this._deserialize = options.deserialize;\n        }\n        this.events = new EventTarget();\n        this.#encryptionKey = options.encryptionKey;\n        const fileExtension = options.fileExtension ? `.${options.fileExtension}` : '';\n        this.path = path.resolve(options.cwd, `${options.configName ?? 'config'}${fileExtension}`);\n        const fileStore = this.store;\n        const store = Object.assign(createPlainObject(), options.defaults, fileStore);\n        if (options.migrations) {\n            if (!options.projectVersion) {\n                throw new Error('Please specify the `projectVersion` option.');\n            }\n            this._migrate(options.migrations, options.projectVersion, options.beforeEachMigration);\n        }\n        // We defer validation until after migrations are applied so that the store can be updated to the current schema.\n        this._validate(store);\n        try {\n            assert.deepEqual(fileStore, store);\n        }\n        catch {\n            this.store = store;\n        }\n        if (options.watch) {\n            this._watch();\n        }\n    }\n    get(key, defaultValue) {\n        if (this.#options.accessPropertiesByDotNotation) {\n            return this._get(key, defaultValue);\n        }\n        const { store } = this;\n        return key in store ? store[key] : defaultValue;\n    }\n    set(key, value) {\n        if (typeof key !== 'string' && typeof key !== 'object') {\n            throw new TypeError(`Expected \\`key\\` to be of type \\`string\\` or \\`object\\`, got ${typeof key}`);\n        }\n        if (typeof key !== 'object' && value === undefined) {\n            throw new TypeError('Use `delete()` to clear values');\n        }\n        if (this._containsReservedKey(key)) {\n            throw new TypeError(`Please don't use the ${INTERNAL_KEY} key, as it's used to manage this module internal operations.`);\n        }\n        const { store } = this;\n        const set = (key, value) => {\n            checkValueType(key, value);\n            if (this.#options.accessPropertiesByDotNotation) {\n                setProperty(store, key, value);\n            }\n            else {\n                store[key] = value;\n            }\n        };\n        if (typeof key === 'object') {\n            const object = key;\n            for (const [key, value] of Object.entries(object)) {\n                set(key, value);\n            }\n        }\n        else {\n            set(key, value);\n        }\n        this.store = store;\n    }\n    /**\n    Check if an item exists.\n\n    @param key - The key of the item to check.\n    */\n    has(key) {\n        if (this.#options.accessPropertiesByDotNotation) {\n            return hasProperty(this.store, key);\n        }\n        return key in this.store;\n    }\n    /**\n    Reset items to their default values, as defined by the `defaults` or `schema` option.\n\n    @see `clear()` to reset all items.\n\n    @param keys - The keys of the items to reset.\n    */\n    reset(...keys) {\n        for (const key of keys) {\n            if (isExist(this.#defaultValues[key])) {\n                this.set(key, this.#defaultValues[key]);\n            }\n        }\n    }\n    delete(key) {\n        const { store } = this;\n        if (this.#options.accessPropertiesByDotNotation) {\n            deleteProperty(store, key);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete store[key];\n        }\n        this.store = store;\n    }\n    /**\n    Delete all items.\n\n    This resets known items to their default values, if defined by the `defaults` or `schema` option.\n    */\n    clear() {\n        this.store = createPlainObject();\n        for (const key of Object.keys(this.#defaultValues)) {\n            this.reset(key);\n        }\n    }\n    /**\n    Watches the given `key`, calling `callback` on any changes.\n\n    @param key - The key to watch.\n    @param callback - A callback function that is called on any changes. When a `key` is first set `oldValue` will be `undefined`, and when a key is deleted `newValue` will be `undefined`.\n    @returns A function, that when called, will unsubscribe.\n    */\n    onDidChange(key, callback) {\n        if (typeof key !== 'string') {\n            throw new TypeError(`Expected \\`key\\` to be of type \\`string\\`, got ${typeof key}`);\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(`Expected \\`callback\\` to be of type \\`function\\`, got ${typeof callback}`);\n        }\n        return this._handleChange(() => this.get(key), callback);\n    }\n    /**\n    Watches the whole config object, calling `callback` on any changes.\n\n    @param callback - A callback function that is called on any changes. When a `key` is first set `oldValue` will be `undefined`, and when a key is deleted `newValue` will be `undefined`.\n    @returns A function, that when called, will unsubscribe.\n    */\n    onDidAnyChange(callback) {\n        if (typeof callback !== 'function') {\n            throw new TypeError(`Expected \\`callback\\` to be of type \\`function\\`, got ${typeof callback}`);\n        }\n        return this._handleChange(() => this.store, callback);\n    }\n    get size() {\n        return Object.keys(this.store).length;\n    }\n    get store() {\n        try {\n            const data = fs.readFileSync(this.path, this.#encryptionKey ? null : 'utf8');\n            const dataString = this._encryptData(data);\n            const deserializedData = this._deserialize(dataString);\n            this._validate(deserializedData);\n            return Object.assign(createPlainObject(), deserializedData);\n        }\n        catch (error) {\n            if (error?.code === 'ENOENT') {\n                this._ensureDirectory();\n                return createPlainObject();\n            }\n            if (this.#options.clearInvalidConfig && error.name === 'SyntaxError') {\n                return createPlainObject();\n            }\n            throw error;\n        }\n    }\n    set store(value) {\n        this._ensureDirectory();\n        this._validate(value);\n        this._write(value);\n        this.events.dispatchEvent(new Event('change'));\n    }\n    *[Symbol.iterator]() {\n        for (const [key, value] of Object.entries(this.store)) {\n            yield [key, value];\n        }\n    }\n    _encryptData(data) {\n        if (!this.#encryptionKey) {\n            return typeof data === 'string' ? data : uint8ArrayToString(data);\n        }\n        // Check if an initialization vector has been used to encrypt the data.\n        try {\n            const initializationVector = data.slice(0, 16);\n            const password = crypto.pbkdf2Sync(this.#encryptionKey, initializationVector.toString(), 10_000, 32, 'sha512');\n            const decipher = crypto.createDecipheriv(encryptionAlgorithm, password, initializationVector);\n            const slice = data.slice(17);\n            const dataUpdate = typeof slice === 'string' ? stringToUint8Array(slice) : slice;\n            return uint8ArrayToString(concatUint8Arrays([decipher.update(dataUpdate), decipher.final()]));\n        }\n        catch { }\n        return data.toString();\n    }\n    _handleChange(getter, callback) {\n        let currentValue = getter();\n        const onChange = () => {\n            const oldValue = currentValue;\n            const newValue = getter();\n            if (isDeepStrictEqual(newValue, oldValue)) {\n                return;\n            }\n            currentValue = newValue;\n            callback.call(this, newValue, oldValue);\n        };\n        this.events.addEventListener('change', onChange);\n        return () => {\n            this.events.removeEventListener('change', onChange);\n        };\n    }\n    _deserialize = value => JSON.parse(value);\n    _serialize = value => JSON.stringify(value, undefined, '\\t');\n    _validate(data) {\n        if (!this.#validator) {\n            return;\n        }\n        const valid = this.#validator(data);\n        if (valid || !this.#validator.errors) {\n            return;\n        }\n        const errors = this.#validator.errors\n            .map(({ instancePath, message = '' }) => `\\`${instancePath.slice(1)}\\` ${message}`);\n        throw new Error('Config schema violation: ' + errors.join('; '));\n    }\n    _ensureDirectory() {\n        // Ensure the directory exists as it could have been deleted in the meantime.\n        fs.mkdirSync(path.dirname(this.path), { recursive: true });\n    }\n    _write(value) {\n        let data = this._serialize(value);\n        if (this.#encryptionKey) {\n            const initializationVector = crypto.randomBytes(16);\n            const password = crypto.pbkdf2Sync(this.#encryptionKey, initializationVector.toString(), 10_000, 32, 'sha512');\n            const cipher = crypto.createCipheriv(encryptionAlgorithm, password, initializationVector);\n            data = concatUint8Arrays([initializationVector, stringToUint8Array(':'), cipher.update(stringToUint8Array(data)), cipher.final()]);\n        }\n        // Temporary workaround for Conf being packaged in a Ubuntu Snap app.\n        // See https://github.com/sindresorhus/conf/pull/82\n        if (process.env.SNAP) {\n            fs.writeFileSync(this.path, data, { mode: this.#options.configFileMode });\n        }\n        else {\n            try {\n                atomicWriteFileSync(this.path, data, { mode: this.#options.configFileMode });\n            }\n            catch (error) {\n                // Fix for https://github.com/sindresorhus/electron-store/issues/106\n                // Sometimes on Windows, we will get an EXDEV error when atomic writing\n                // (even though to the same directory), so we fall back to non atomic write\n                if (error?.code === 'EXDEV') {\n                    fs.writeFileSync(this.path, data, { mode: this.#options.configFileMode });\n                    return;\n                }\n                throw error;\n            }\n        }\n    }\n    _watch() {\n        this._ensureDirectory();\n        if (!fs.existsSync(this.path)) {\n            this._write(createPlainObject());\n        }\n        if (process.platform === 'win32') {\n            fs.watch(this.path, { persistent: false }, debounceFn(() => {\n                // On Linux and Windows, writing to the config file emits a `rename` event, so we skip checking the event type.\n                this.events.dispatchEvent(new Event('change'));\n            }, { wait: 100 }));\n        }\n        else {\n            fs.watchFile(this.path, { persistent: false }, debounceFn(() => {\n                this.events.dispatchEvent(new Event('change'));\n            }, { wait: 5000 }));\n        }\n    }\n    _migrate(migrations, versionToMigrate, beforeEachMigration) {\n        let previousMigratedVersion = this._get(MIGRATION_KEY, '0.0.0');\n        const newerVersions = Object.keys(migrations)\n            .filter(candidateVersion => this._shouldPerformMigration(candidateVersion, previousMigratedVersion, versionToMigrate));\n        let storeBackup = { ...this.store };\n        for (const version of newerVersions) {\n            try {\n                if (beforeEachMigration) {\n                    beforeEachMigration(this, {\n                        fromVersion: previousMigratedVersion,\n                        toVersion: version,\n                        finalVersion: versionToMigrate,\n                        versions: newerVersions,\n                    });\n                }\n                const migration = migrations[version];\n                migration?.(this);\n                this._set(MIGRATION_KEY, version);\n                previousMigratedVersion = version;\n                storeBackup = { ...this.store };\n            }\n            catch (error) {\n                this.store = storeBackup;\n                throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${error}`);\n            }\n        }\n        if (this._isVersionInRangeFormat(previousMigratedVersion) || !semver.eq(previousMigratedVersion, versionToMigrate)) {\n            this._set(MIGRATION_KEY, versionToMigrate);\n        }\n    }\n    _containsReservedKey(key) {\n        if (typeof key === 'object') {\n            const firsKey = Object.keys(key)[0];\n            if (firsKey === INTERNAL_KEY) {\n                return true;\n            }\n        }\n        if (typeof key !== 'string') {\n            return false;\n        }\n        if (this.#options.accessPropertiesByDotNotation) {\n            if (key.startsWith(`${INTERNAL_KEY}.`)) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    }\n    _isVersionInRangeFormat(version) {\n        return semver.clean(version) === null;\n    }\n    _shouldPerformMigration(candidateVersion, previousMigratedVersion, versionToMigrate) {\n        if (this._isVersionInRangeFormat(candidateVersion)) {\n            if (previousMigratedVersion !== '0.0.0' && semver.satisfies(previousMigratedVersion, candidateVersion)) {\n                return false;\n            }\n            return semver.satisfies(versionToMigrate, candidateVersion);\n        }\n        if (semver.lte(candidateVersion, previousMigratedVersion)) {\n            return false;\n        }\n        if (semver.gt(candidateVersion, versionToMigrate)) {\n            return false;\n        }\n        return true;\n    }\n    _get(key, defaultValue) {\n        return getProperty(this.store, key, defaultValue);\n    }\n    _set(key, value) {\n        const { store } = this;\n        setProperty(store, key, value);\n        this.store = store;\n    }\n}\n","import process from 'node:process';\nimport path from 'node:path';\nimport electron from 'electron';\nimport Conf from 'conf';\n\nconst {app, ipcMain, shell} = electron;\n\nlet isInitialized = false;\n\n// Set up the `ipcMain` handler for communication between renderer and main process.\nconst initDataListener = () => {\n\tif (!ipcMain || !app) {\n\t\tthrow new Error('Electron Store: You need to call `.initRenderer()` from the main process.');\n\t}\n\n\tconst appData = {\n\t\tdefaultCwd: app.getPath('userData'),\n\t\tappVersion: app.getVersion(),\n\t};\n\n\tif (isInitialized) {\n\t\treturn appData;\n\t}\n\n\tipcMain.on('electron-store-get-data', event => {\n\t\tevent.returnValue = appData;\n\t});\n\n\tisInitialized = true;\n\n\treturn appData;\n};\n\nexport default class ElectronStore extends Conf {\n\tconstructor(options) {\n\t\tlet defaultCwd;\n\t\tlet appVersion;\n\n\t\t// If we are in the renderer process, we communicate with the main process\n\t\t// to get the required data for the module otherwise, we pull from the main process.\n\t\tif (process.type === 'renderer') {\n\t\t\tconst appData = electron.ipcRenderer.sendSync('electron-store-get-data');\n\n\t\t\tif (!appData) {\n\t\t\t\tthrow new Error('Electron Store: You need to call `.initRenderer()` from the main process.');\n\t\t\t}\n\n\t\t\t({defaultCwd, appVersion} = appData);\n\t\t} else if (ipcMain && app) {\n\t\t\t({defaultCwd, appVersion} = initDataListener());\n\t\t}\n\n\t\toptions = {\n\t\t\tname: 'config',\n\t\t\t...options,\n\t\t};\n\n\t\toptions.projectVersion ||= appVersion;\n\n\t\tif (options.cwd) {\n\t\t\toptions.cwd = path.isAbsolute(options.cwd) ? options.cwd : path.join(defaultCwd, options.cwd);\n\t\t} else {\n\t\t\toptions.cwd = defaultCwd;\n\t\t}\n\n\t\toptions.configName = options.name;\n\t\tdelete options.name;\n\n\t\tsuper(options);\n\t}\n\n\tstatic initRenderer() {\n\t\tinitDataListener();\n\t}\n\n\tasync openInEditor() {\n\t\tconst error = await shell.openPath(this.path);\n\n\t\tif (error) {\n\t\t\tthrow new Error(error);\n\t\t}\n\t}\n}\n","import { app, BrowserWindow, ipcMain, dialog, shell } from 'electron';\nimport * as path from 'path';\nimport { DownloadManager } from './downloadManager';\nimport { DownloadOptions, AppSettings } from '../common/types';\nimport * as http from 'http';\nimport * as url from 'url';\nimport Store from 'electron-store';\nimport * as fs from 'fs';\nimport fsPromises from 'node:fs'; // Import fsPromises\n\n// Define the schema matching AppSettings and other stored data\ninterface StoreSchema {\n    // Make properties optional if they might not exist initially or rely on defaults\n    defaultDownloadPath?: string; \n    maxConcurrentDownloads?: number; \n    language?: string; // Add language property\n    categories?: string[]; // Keep optional if using defaults\n    categoryPaths?: Record<string, string>; // Keep optional if using defaults\n}\n\n// Keep store initialized globally for now\nconst store = new Store<StoreSchema>({\n    defaults: {\n        categories: ['General'],\n        categoryPaths: {}\n    }\n});\n\n// --- Global References --- \nlet mainWindow: BrowserWindow | null = null;\nlet downloadManager: DownloadManager;\n\n// --- Simple File Logger ---\nconst logFilePath = path.join(app.getPath('userData'), 'catchy-startup-log.txt');\nconst logStream = fs.createWriteStream(logFilePath, { flags: 'a' });\nconst logToFile = (message: string, ...optionalParams: any[]) => {\n  const timestamp = new Date().toISOString();\n  const formattedMessage = `${timestamp} - ${message} ${optionalParams.map(p => JSON.stringify(p)).join(' ')}\\n`;\n  console.log(message, ...optionalParams); // Log to console too\n  logStream.write(formattedMessage);\n};\nlogToFile('--- Application Starting --- ');\nlogToFile('app.getAppPath():', app.getAppPath()); // <-- Log app path\n// ------------------------\n\nfunction createWindow() {\n  logToFile('createWindow: Creating BrowserWindow...');\n  \n  const preloadPath = path.join(__dirname, 'preload.js'); \n  logToFile('createWindow: Calculated preload path (using __dirname):', preloadPath);\n\n  mainWindow = new BrowserWindow({\n    width: 1200,\n    height: 800,\n    webPreferences: {\n      nodeIntegration: false,\n      contextIsolation: true,\n      preload: preloadPath,\n      webSecurity: false\n    }\n  });\n  logToFile('createWindow: BrowserWindow created.');\n\n  const htmlPath = path.join(__dirname, 'renderer/index.html'); \n  const htmlUrl = url.format({\n      pathname: htmlPath,\n      protocol: 'file:',\n      slashes: true\n  });\n  logToFile('createWindow: Loading URL (standard pathing):', htmlUrl); \n  mainWindow.loadURL(htmlUrl);\n  \n  // Open DevTools only if in development (not packaged)\n  if (!app.isPackaged) { \n    logToFile('createWindow: Opening DevTools (not packaged).');\n    mainWindow.webContents.openDevTools(); \n  }\n\n  mainWindow.on('closed', () => {\n    logToFile('createWindow: Main window closed event.');\n    mainWindow = null;\n  });\n  logToFile('createWindow: Finished setup.');\n}\n\n// Create HTTP server for browser extension\nconst SERVER_PORT = 43210;\nlet httpServer: http.Server | null = null;\n\nfunction createHttpServer(port: number) {\n  try {\n    httpServer = http.createServer((req, res) => {\n      // Set CORS headers for all responses\n      res.setHeader('Access-Control-Allow-Origin', '*');\n      res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\n      res.setHeader('Access-Control-Allow-Headers', 'Content-Type');\n      \n      // Handle preflight requests\n      if (req.method === 'OPTIONS') {\n        res.writeHead(204);\n        res.end();\n        return;\n      }\n      \n      // Parse URL\n      const parsedUrl = url.parse(req.url);\n      \n      if (req.method === 'POST') {\n        let body = '';\n        req.on('data', chunk => {\n          body += chunk.toString();\n        });\n\n        req.on('end', async () => {\n          try {\n            const requestData = JSON.parse(body);\n\n            // Handle different endpoints\n            switch (parsedUrl.pathname) {\n              case '/download':\n                handleDownloadRequest(requestData, res);\n                break;\n\n              case '/showFileDialog':\n                try {\n                  const { dialog } = require('electron');\n                  const result = await dialog.showSaveDialog(mainWindow, {\n                    defaultPath: requestData.currentPath || '',\n                    properties: ['showOverwriteConfirmation'],\n                    filters: [\n                      { name: 'All Files', extensions: ['*'] }\n                    ]\n                  });\n\n                  res.writeHead(200, { 'Content-Type': 'application/json' });\n                  res.end(JSON.stringify({\n                    path: result.canceled ? null : result.filePath\n                  }));\n                } catch (error) {\n                  console.error('Error showing file dialog:', error);\n                  res.writeHead(500, { 'Content-Type': 'application/json' });\n                  res.end(JSON.stringify({ error: 'Failed to show file dialog' }));\n                }\n                break;\n\n              case '/checkFile':\n                try {\n                  const fs = require('fs');\n                  const filePath = requestData.filePath;\n                  const exists = await new Promise(resolve => {\n                    fs.access(filePath, fs.constants.F_OK, (err) => {\n                      resolve(!err);\n                    });\n                  });\n                  \n                  res.writeHead(200, { 'Content-Type': 'application/json' });\n                  res.end(JSON.stringify({ exists }));\n                } catch (error) {\n                  console.error('Error checking file:', error);\n                  res.writeHead(500, { 'Content-Type': 'application/json' });\n                  res.end(JSON.stringify({ error: 'Failed to check file' }));\n                }\n                break;\n\n              default:\n                res.writeHead(404, { 'Content-Type': 'application/json' });\n                res.end(JSON.stringify({ error: 'Not found' }));\n            }\n          } catch (error) {\n            console.error('Error processing request:', error);\n            res.writeHead(400, { 'Content-Type': 'application/json' });\n            res.end(JSON.stringify({ success: false, error: 'Invalid request' }));\n          }\n        });\n      } else {\n        // Handle unsupported methods\n        res.writeHead(404, { 'Content-Type': 'application/json' });\n        res.end(JSON.stringify({ error: 'Not found' }));\n      }\n    });\n\n    httpServer.on('error', (err: any) => {\n      if (err.code === 'EADDRINUSE') {\n        console.warn(`Port ${port} is already in use, trying port ${port + 1}`);\n        // Try the next port\n        createHttpServer(port + 1);\n      } else {\n        console.error('[HTTP Server] Error:', err);\n      }\n    });\n    \n    httpServer.listen(port, () => {\n      console.log(`[HTTP Server] === Successfully listening for extension connections at http://localhost:${port} ===`);\n    });\n  } catch (error) {\n    console.error('[HTTP Server] Failed to create/start server:', error);\n  }\n}\n\n// Helper function to handle download requests from the HTTP server (extension)\nasync function handleDownloadRequest(requestData: any, res: http.ServerResponse) {\n  const downloadUrl = requestData.url;\n  const filename = requestData.filename || downloadUrl.split('/').pop() || 'unknown_file';\n  // const fileSize = requestData.fileSize || 0; // fileSize isn't used in the check logic\n  \n  console.log('[HTTP Server] Received download request from extension:', { url: downloadUrl, filename });\n\n  if (!mainWindow || mainWindow.isDestroyed()) {\n    console.error('[HTTP Server] Main window not available to handle download request.');\n    res.writeHead(500, { 'Content-Type': 'application/json' });\n    res.end(JSON.stringify({\n      success: false,\n      error: 'Main window not available',\n      message: 'Could not process download request.'\n    }));\n    return;\n  }\n\n  // --- Centralized Check Logic --- \n  // Directly perform the check logic similar to 'create-new-download' IPC handler\n  try {\n    const initialOptions: DownloadOptions = { customFilename: filename }; // Pass filename\n    console.log(`[HTTP Server] Checking for existing download for URL: ${downloadUrl}`);\n    const existingDownload = downloadManager.findDownloadByUrl(downloadUrl);\n\n    if (existingDownload) {\n        console.log(`[HTTP Server] Found existing download (ID: ${existingDownload.id}). Sending 'download-duplicate-found' to renderer.`);\n        // Send duplicate found event\n        mainWindow.webContents.send('download-duplicate-found', {\n            newUrl: downloadUrl,\n            newOptions: initialOptions, // Pass minimal options from extension\n            existingDownload: { // Send relevant details\n                id: existingDownload.id,\n                filename: existingDownload.filename,\n                status: existingDownload.status,\n                progress: existingDownload.progress,\n                size: existingDownload.size,\n                downloaded: existingDownload.downloaded\n            }\n        });\n    } else {\n        console.log(`[HTTP Server] No existing download found. Sending 'show-download-confirm-dialog' to renderer.`);\n        // Send standard confirm dialog event\n        // Note: We don't check file existence here yet, dialog can handle that if needed\n        mainWindow.webContents.send('show-download-confirm-dialog', {\n            url: downloadUrl,\n            options: initialOptions, // Pass minimal options from extension\n            fileExists: false, // Default to false, main process check could be added later if needed\n            partialFileExists: false // Default to false\n        });\n    }\n\n    // Respond quickly to the extension - Request is being processed\n    res.writeHead(200, { 'Content-Type': 'application/json' });\n    res.end(JSON.stringify({\n      success: true,\n      message: 'Download request received by Catchy app.'\n    }));\n\n  } catch (error) {\n    console.error('[HTTP Server] Error during download check:', error);\n    res.writeHead(500, { 'Content-Type': 'application/json' });\n    res.end(JSON.stringify({\n      success: false,\n      error: 'Internal server error during download check',\n      message: 'Could not process download request.'\n    }));\n  }\n}\n\n// Initialize App\napp.whenReady().then(async () => {\n  logToFile('app.whenReady: Starting initialization...');\n  try {\n    // Store is already initialized globally\n    logToFile('app.whenReady: Verified global store instance.');\n\n    // --- 1. CREATE WINDOW --- \n    createWindow();\n    if (!mainWindow) {\n        throw new Error(\"Failed to create main window.\");\n    }\n    logToFile('app.whenReady: Main window created.');\n    \n    // --- 2. INITIALIZE MANAGER --- \n    downloadManager = new DownloadManager(mainWindow);\n    logToFile('app.whenReady: DownloadManager initialized.');\n\n    // --- 3. SETUP HANDLERS --- \n    setupIpcHandlers(store);\n    logToFile('app.whenReady: IPC handler setup initiated.'); \n    \n    // --- 4. START HTTP SERVER --- \n    createHttpServer(SERVER_PORT);\n    logToFile('app.whenReady: HTTP Server started.');\n\n    logToFile('app.whenReady: === Initialization sequence complete. ===');\n\n  } catch (error: any) { // <-- Catch error\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      const errorStack = error instanceof Error ? error.stack : 'No stack trace available';\n      logToFile('app.whenReady: XXX CRITICAL ERROR DURING STARTUP XXX:', errorMessage, errorStack); \n      dialog.showErrorBox('Application Startup Error', \n          `Failed to start the application:\\n\\n${errorMessage}\\n\\nStack Trace:\\n${errorStack}\\n\\nPlease check the log file at: ${logFilePath}`\n      ); // <-- Show error dialog\n      app.quit(); // Quit if startup fails critically\n  }\n});\n\n// Modify setupIpcHandlers definition to accept store\nfunction setupIpcHandlers(storeInstance: Store<StoreSchema>) {\n  const { dialog } = require('electron');\n  const { shell } = require('electron');\n  console.log('[IPC Setup] Required electron modules.');\n\n  ipcMain.on('renderer-ready', () => {\n    downloadManager.setRendererReady();\n  });\n  console.log('[IPC Setup] Registered handler for: renderer-ready');\n\n  // --- Settings Handlers ---\n  ipcMain.handle('get-settings', async (event): Promise<AppSettings> => {\n    try {\n        // Using store.get with defaults - casting to any for diagnosis\n        const settings: AppSettings = {\n            defaultDownloadPath: (storeInstance as any).get('defaultDownloadPath', app.getPath('downloads')), \n            maxConcurrentDownloads: (storeInstance as any).get('maxConcurrentDownloads', 3),\n            language: (storeInstance as any).get('language', 'en'), // Default to English \n        };\n        return settings;\n    } catch (error) {\n        console.error('[IPC get-settings] Error retrieving settings:', error);\n        // Return defaults on error\n        return { \n            defaultDownloadPath: app.getPath('downloads'),\n            maxConcurrentDownloads: 3,\n            language: 'en'\n        };\n    }\n  });\n  console.log('[IPC Setup] Registered handler for: get-settings');\n\n  ipcMain.handle('save-settings', async (event, settingsToSave: Partial<AppSettings>) => {\n    try {\n        // Using store.set - casting to any for diagnosis\n        if (settingsToSave.defaultDownloadPath !== undefined) {\n            (storeInstance as any).set('defaultDownloadPath', settingsToSave.defaultDownloadPath);\n        }\n        if (settingsToSave.maxConcurrentDownloads !== undefined) {\n            (storeInstance as any).set('maxConcurrentDownloads', settingsToSave.maxConcurrentDownloads);\n        }\n        if (settingsToSave.language !== undefined) {\n            (storeInstance as any).set('language', settingsToSave.language);\n        }\n        // Return the potentially updated settings\n        const currentSettings: AppSettings = {\n             defaultDownloadPath: (storeInstance as any).get('defaultDownloadPath', app.getPath('downloads')),\n             maxConcurrentDownloads: (storeInstance as any).get('maxConcurrentDownloads', 3),\n             language: (storeInstance as any).get('language', 'en')\n        };\n        return { success: true, settings: currentSettings };\n    } catch (error) {\n        console.error('[IPC save-settings] Error saving settings:', error);\n        return { success: false, error: error.message };\n    }\n  });\n  console.log('[IPC Setup] Registered handler for: save-settings');\n\n  // --- Existing Download Handlers ---\n  ipcMain.handle('add-download', async (event, url, options) => {\n    console.log('[IPC add-download] Deprecated handler called.'); \n    // This handler is likely deprecated by the new create/confirm flow\n    // Consider removing or refactoring if it's no longer used directly by App.tsx\n    // For now, just log it.\n    return { warning: 'Deprecated add-download handler called.' };\n    // try {\n    //     const result = await downloadManager.addDownload(url, options);\n    //     return result;\n    // } catch (error) {\n    //     console.error('[IPC add-download] Error:', error);\n    //     throw error; // Re-throw to be caught by invoke\n    // }\n  });\n  console.log('[IPC Setup] Registered handler for: add-download (Deprecated?)');\n\n  // --- New Download Flow Handlers ---\n  ipcMain.handle('create-new-download', async (_event, url: string, options?: any) => {\n    try {\n      return await downloadManager.createNewDownload(url, options);\n    } catch (error) {\n      console.error('Error in create-new-download handler:', error);\n      return { error: error.message || 'Failed to process download request' };\n    }\n  });\n  console.log('[IPC Setup] Registered handler for: create-new-download');\n\n  ipcMain.handle('confirm-and-create-download', async (_event, url: string, options: any) => {\n    try {\n       // Force new download since user explicitly confirmed\n       options.forceNewDownload = true; \n       options.resumeExisting = false; \n       return await downloadManager.createNewDownload(url, options); \n    } catch (error) {\n       console.error('Error confirming/creating download:', error);\n       return { error: error.message || 'Failed to start confirmed download' };\n    }\n  });\n  console.log('[IPC Setup] Registered handler for: confirm-and-create-download');\n\n  ipcMain.handle('overwrite-and-create-download', async (_event, url: string, options: any) => {\n      try {\n          options.forceNewDownload = true;\n          options.resumeExisting = false;\n          // The createNewDownload method should handle removing the old one based on forceNewDownload\n          return await downloadManager.createNewDownload(url, options);\n      } catch (error) {\n          console.error('Error overwriting/creating download:', error);\n          return { error: error.message || 'Failed to start overwritten download' };\n      }\n  });\n  console.log('[IPC Setup] Registered handler for: overwrite-and-create-download');\n\n  ipcMain.handle('pause-download', async (_event, id: string) => {\n    return downloadManager.pauseDownload(id);\n  });\n  console.log('[IPC Setup] Registered handler for: pause-download');\n\n  ipcMain.handle('resume-download', async (_event, id: string) => {\n    return downloadManager.resumeDownload(id);\n  });\n  console.log('[IPC Setup] Registered handler for: resume-download');\n\n  ipcMain.handle('cancel-download', async (_event, id: string) => {\n    return downloadManager.cancelDownload(id);\n  });\n  console.log('[IPC Setup] Registered handler for: cancel-download');\n\n  ipcMain.handle('remove-download', async (_event, id: string) => {\n    return downloadManager.removeDownload(id); \n  });\n  console.log('[IPC Setup] Registered handler for: remove-download');\n\n  // --- File/Folder Handlers ---\n  ipcMain.handle('open-file', async (_event, id: string) => {\n    return downloadManager.openFile(id);\n  });\n  console.log('[IPC Setup] Registered handler for: open-file');\n\n  ipcMain.handle('open-folder', async (_event, id: string) => {\n    return downloadManager.showInFolder(id);\n  });\n  console.log('[IPC Setup] Registered handler for: open-folder');\n  \n  ipcMain.handle('show-in-folder', async (event, id) => {\n    try {\n      const filePath = downloadManager.getDownloadPath(id);\n      if (!filePath) {\n        throw new Error('File path not found');\n      }\n      \n      await shell.showItemInFolder(filePath);\n      return true;\n    } catch (error) {\n      console.error('Error showing file in folder:', error);\n      throw error;\n    }\n  });\n  console.log('[IPC Setup] Registered handler for: show-in-folder');\n\n  ipcMain.handle('select-folder', async () => {\n    if (!mainWindow) {\n      throw new Error('Main window is not available');\n    }\n    \n    const result = await dialog.showOpenDialog(mainWindow, {\n      properties: ['openDirectory']\n    });\n    \n    return result;\n  });\n  console.log('[IPC Setup] Registered handler for: select-folder');\n\n  // --- Category Handlers ---\n  ipcMain.handle('get-categories', async () => {\n      return (storeInstance as any).get('categories', ['General']); // Cast to any\n  });\n  console.log('[IPC Setup] Registered handler for: get-categories');\n\n  ipcMain.handle('add-category', async (event, category: string) => {\n      const categories = (storeInstance as any).get('categories', ['General']); // Cast to any\n      if (category && !categories.includes(category)) {\n          categories.push(category);\n          (storeInstance as any).set('categories', categories); // Cast to any\n      }\n  });\n  console.log('[IPC Setup] Registered handler for: add-category');\n\n  ipcMain.handle('get-default-path-for-category', async (event, category: string) => {\n      const paths = (storeInstance as any).get('categoryPaths', {}); // Cast to any\n      const defaultPath = (storeInstance as any).get('defaultDownloadPath', app.getPath('downloads')); // Cast to any\n      return paths[category] || defaultPath; \n  });\n  console.log('[IPC Setup] Registered handler for: get-default-path-for-category');\n\n  ipcMain.handle('save-path-for-category', async (event, category: string, path: string) => {\n      const paths = (storeInstance as any).get('categoryPaths', {}); // Cast to any\n      paths[category] = path;\n      (storeInstance as any).set('categoryPaths', paths); // Cast to any\n  });\n  console.log('[IPC Setup] Registered handler for: save-path-for-category');\n  \n  // Handler for Settings Dialog Browse button\n  ipcMain.handle('select-folder-for-settings', async () => {\n    if (!mainWindow) {\n      throw new Error('Main window is not available');\n    }\n    const result = await dialog.showOpenDialog(mainWindow, {\n      properties: ['openDirectory']\n    });\n    \n    if (!result.canceled && result.filePaths.length > 0) {\n        console.log('[IPC select-folder-for-settings] Directory selected:', result.filePaths[0]);\n        return { filePath: result.filePaths[0] };\n    } else {\n        console.log('[IPC select-folder-for-settings] Dialog cancelled.');\n        return { filePath: null }; // Indicate cancellation or no selection\n    }\n  });\n  console.log('[IPC Setup] Registered handler for: select-folder-for-settings');\n\n  // Handler for validating a path in the Settings Dialog\n  ipcMain.handle('validate-path', async (_event, pathString: string): Promise<{ isValid: boolean, error?: string }> => {\n    if (!pathString) {\n        return { isValid: false, error: 'Path cannot be empty' }; // Or treat empty as valid?\n    }\n    try {\n        console.log(`[IPC validate-path] Validating path: ${pathString}`);\n        const stats = await fsPromises.promises.stat(pathString);\n        if (stats.isDirectory()) {\n            console.log(`[IPC validate-path] Path is a valid directory.`);\n            return { isValid: true };\n        } else {\n             console.log(`[IPC validate-path] Path is not a directory.`);\n            return { isValid: false, error: 'Selected path is not a directory' };\n        }\n    } catch (error: any) {\n        console.log(`[IPC validate-path] Error validating path:`, error.code);\n        if (error.code === 'ENOENT') {\n            return { isValid: false, error: 'Path does not exist' };\n        } else if (error.code === 'EACCES') {\n            return { isValid: false, error: 'Permission denied to access path' };\n        } else {\n             return { isValid: false, error: `Validation error: ${error.code || error.message}` };\n        }\n    }\n  });\n  console.log('[IPC Setup] Registered handler for: validate-path');\n\n  // --- Handler to show extension files --- \n  ipcMain.handle('show-extension-files', async () => {\n    // Get the directory containing app.asar (the resources path)\n    const resourcesPath = path.dirname(app.getAppPath());\n    // Path where extraResources copies the extension, relative to resourcesPath\n    const extensionPath = path.join(resourcesPath, 'extensions/browser-extension'); \n    logToFile('[IPC show-extension-files] Calculated resources path:', resourcesPath);\n    logToFile('[IPC show-extension-files] Trying to open extension path:', extensionPath);\n    try {\n      // Check if the directory exists before trying to open it\n      if (fs.existsSync(extensionPath)) {\n        await shell.openPath(extensionPath);\n        return { success: true };\n      } else {\n        logToFile('[IPC show-extension-files] Error: Extension path not found:', extensionPath);\n        dialog.showErrorBox('Error', `Extension folder not found at: ${extensionPath}`);\n        return { success: false, error: 'Extension folder not found.' };\n      }\n    } catch (error: any) {\n      logToFile('[IPC show-extension-files] Error opening path:', error?.message || error);\n       dialog.showErrorBox('Error', `Could not open extension folder: ${error?.message || error}`);\n      return { success: false, error: error.message };\n    }\n  });\n  logToFile('[IPC Setup] Registered handler for: show-extension-files');\n\n  console.log('[IPC Setup] === All handlers registered. ===');\n}\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit();\n  }\n});\n\napp.on('activate', () => {\n  if (mainWindow === null) {\n    createWindow();\n    downloadManager = new DownloadManager(mainWindow);\n  }\n}); "],"names":["Object","defineProperty","exports","value","or","and","not","CodeGen","operators","varKinds","ValueScopeName","ValueScope","Scope","Name","regexpCode","stringify","getProperty","nil","strConcat","str","_","code_1","scope_1","code_2","enumerable","get","scope_2","GT","_Code","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","this","optimizeNames","_names","_constants","Def","constructor","varKind","name","rhs","super","render","es5","_n","var","undefined","names","constants","optimizeExpr","_CodeOrName","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Label","label","Break","Throw","error","AnyCode","code","ParentNode","nodes","opts","reduce","n","i","length","Array","isArray","splice","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","e","ns","_a","For","ForLoop","iteration","ForRange","from","to","ForIter","loop","iterable","Func","args","async","Return","Try","catch","finally","_b","Catch","Finally","expr","replaceName","_items","some","c","items","push","x","par","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","toString","_root","prefix","scopeName","scopeValue","prefixOrName","Set","add","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","_constant","const","let","assign","object","keyValues","key","addCodeArg","thenBody","elseBody","_blockNode","endIf","Error","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","forRange","forOf","arr","forIn","obj","ownProperties","tryBody","catchCode","finallyCode","_currNode","block","body","nodeCount","endBlock","len","pop","toClose","func","funcBody","endFunc","optimize","N1","N2","andCode","mappend","orCode","y","SemVer","Comparator","ANY","Range","satisfies","gt","lt","lte","gte","module","version","range","hilo","options","gtfn","ltefn","ltfn","comp","ecomp","TypeError","set","comparators","high","low","forEach","comparator","semver","operator","Symbol","parseOptions","loose","trim","split","join","debug","parse","r","re","t","COMPARATORLOOSE","COMPARATOR","m","match","test","er","cmp","intersects","includePrerelease","startsWith","includes","safeRe","UUID_REG","URN_REG","isSecure","wsComponents","secure","String","scheme","toLowerCase","httpParse","components","host","httpSerialize","port","path","http","domainHost","serialize","ws","resourceName","query","fragment","SCHEMES","https","wss","urn","urnComponents","matches","nid","nss","urnScheme","schemeHandler","uriComponents","skipEscape","skipNormalize","uuidComponents","uuid","tolerant","boolOrEmptySchema","topBoolOrEmptySchema","errors_1","codegen_1","names_1","boolError","message","falseSchemaError","it","overrideAllErrors","gen","data","cxt","keyword","schema","schemaCode","schemaValue","params","reportError","validateName","$async","return","default","valid","dataType_1","util_1","equal_1","def","type","schemaType","$data","j","parentSchema","itemTypes","getSchemaTypes","loopN","item","wrongType","checkDataTypes","strictNumbers","DataType","Wrong","indices","for","if","break","loopN2","eql","useFunc","outer","block$data","setParams","ok","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","_nameGroup","index","has","nameStr","setValue","property","itemIndex","scopePath","line","scope","ref","valueKey","vs","_name","Map","s","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","Completed","v","prec","multipleOfPrecision","res","invalid","fail$data","compare","a","b","contains","checkStrictMode","validateUnion","validateArray","usePattern","callValidateCode","schemaProperties","allSchemaProperties","noPropertyInData","propertyInData","isOwnProperty","hasPropFunc","reportMissingProp","checkMissingProp","checkReportMissingProp","util_2","prototype","hasOwnProperty","schemaMap","keys","filter","p","prop","missingProperty","properties","missing","map","alwaysValidSchema","topSchemaRef","schemaPath","errorPath","context","passSchema","dataAndSchema","valCxt","instancePath","parentData","parentDataProperty","rootData","dynamicRef","dynamicAnchors","newRegExp","pattern","u","unicodeRegExp","regExp","rx","allErrors","validArr","validateItems","notValid","subschema","dataProp","dataPropType","Type","Num","sch","unevaluated","schValid","_sch","schCxt","schemaProp","compositeRule","mergeValidEvaluated","result","reset","validateSchemaDeps","validatePropertyDeps","depsCount","deps","property_ies","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","hasProperty","depProp","uri","versionA","versionB","compareBuild","r1","r2","dependencies_1","fail","equal","RegExp","source","flags","valueOf","call","ValidationError","errors","ajv","validation","getRules","isJSONType","jsonTypes","groups","number","rules","string","array","types","integer","boolean","null","post","all","keywords","formatLimitDefinition","ajv_1","ops","KWDs","formatMaximum","okStr","formatMinimum","formatExclusiveMaximum","formatExclusiveMinimum","self","validateFormats","fCxt","KeywordCxt","RULES","format","definition","compareCode","fmt","fmts","formats","validate$DataFormat","fmtDef","validateFormat","dependencies","addKeyword","DiscrError","patterns","alwaysValidPatterns","props","checkProperties","strictSchema","allowMatchingProperties","evaluatedPropsToName","checkMatchingProperties","pat","validateProperties","alwaysValid","Str","validatePatternProperties","minor","assignDefaults","assignDefault","defaultValue","childData","useDefaults","ty","reportTypeError","checkDataType","coerceAndCheckDataType","getJSONTypes","rules_1","applicability_1","ts","every","nullable","coerceTo","coerceTypes","COERCIBLE","coerceToTypes","checkTypes","schemaHasRulesForType","dataType","coerced","coerceSpecificType","assignParentData","coerceData","strictNums","correct","Correct","numCond","_cond","dataTypes","toHash","notObj","typeError","schemaRefOrVal","getTypeErrorContext","shouldUseGroup","group","rule","shouldUseRule","implements","kwd","resolve_1","MissingRefError","resolver","baseId","msg","missingRef","resolveUrl","missingSchema","normalizeId","getFullPath","metaSchema","applicator","content","core","metadata","META_SUPPORT_DATA","with$data","addMetaSchema","$dataMetaSchema","getEsmExportName","safeStringify","IDENTIFIER","emptyStr","_str","strs","plus","mergeExprItems","arg","slice","JSON","replace","c1","c2","trackErrors","passing","discriminator","schArr","mergeEvaluated","Ajv2020","core_1","draft2020_1","discriminator_1","json_schema_2020_12_1","META_SCHEMA_ID","next","_addVocabularies","addVocabulary","_addDefaultMetaSchema","meta","refs","defaultMeta","getSchema","validate_1","validation_error_1","ref_error_1","ruleType","errSchemaPath","schemaEnv","fDef","fType","callFormat","validData","invalidFmt","formatDef","unknownMsg","logger","warn","unknownFormat","fmtType","fmtRef","validate","getFormat","pass","validCondition","versions","first","prev","sort","ranges","min","max","simplified","original","raw","looseOption","freeze","emptyOpts","eq","neq","extendSubschemaMode","extendSubschemaData","getSubschema","escapeFragment","dpType","propertyName","dataPathArr","dataContextProps","getErrorPath","jsPropertySyntax","_nextData","dataLevel","definedProperties","dataNames","jtdDiscriminator","jtdMetadata","createErrors","MAX_SAFE_INTEGER","Number","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","additionalProperties_1","removeAdditional","additionalProperties","allProps","hasDefault","applyPropertySchema","require","maxSV","rangeObj","ref_1","anchor","_dynamicRef","root","_callRef","callRef","release","identifier","identifierBase","inc","safeSrc","src","compareIdentifiers","LOOSE","FULL","major","patch","prerelease","id","num","build","other","compareMain","comparePre","PRERELEASELOOSE","PRERELEASE","base","isNaN","ucs2length_1","unicode","getSchemaRefs","_getFullPath","inlineRef","traverse","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","count","Infinity","eachItem","normalize","TRAILING_SLASH_HASH","resolve","ANCHOR","schemaId","uriResolver","schId","baseIds","pathPrefix","localRefs","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","innerBaseId","addRef","_resolve","ambiguos","schOrRef","checkAmbiguosRef","addAnchor","$anchor","$dynamicAnchor","sch1","sch2","types_1","compile_1","discrError","tagName","Tag","tag","oneOf","mapping","applyTagSchema","_valid","oneOfMapping","topRequired","hasRequired","tagRequired","$ref","schemaHasRulesButRef","resolveRef","SchemaEnv","propSch","addMappings","required","addMapping","enum","tagValue","getMapping","Mapping","validateMapping","dynamicRef_1","HEX","IPV4_REG","normalizeIPv4","findToken","isIPV4","address","stripLeadingZeros","stringArrayToHexStripped","input","keepZero","acc","strip","normalizeIPv6","isIPV6","ipv6","tokenCount","output","zone","buffer","isZone","endipv6Encountered","endIpv6","consume","hex","cursor","getIPV6","newHost","escapedHost","token","out","skip","l","ind","RDS1","RDS2","RDS3","RDS5","recomposeAuthority","uriTokens","userinfo","unescape","ipV4res","ipV6res","normalizeComponentEncoding","esc","escape","removeDotSegments","im","A","B","C","d","D","E","f","F","items_1","before","validateTuple","maximum","minimum","exclusiveMaximum","exclusiveMinimum","throwErrors","setEvaluated","unescapeJsonPointer","escapeJsonPointer","unescapeFragment","schemaHasRules","checkUnknownRules","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","hash","decodeURIComponent","encodeURIComponent","xs","Math","snippets","mode","isNumber","formats_1","limit_1","fullName","fastName","formatsPlugin","addFormats","fullFormats","exportName","fastFormats","formatNames","list","fs","addFormat","internalRe","identifiers","clean","diff","rcompare","compareLoose","rsort","coerce","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","tokens","rcompareIdentifiers","useLoop","loopEnum","getEql","vSchema","_x","equalCode","dynamicAnchor_1","dynamicAnchor","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","resolveSchema","getCompilingSchema","compileSchema","env","rootId","_ValidationError","schemaCxt","jtd","sourceCode","_compilations","validateFunctionCode","validateCode","process","Function","makeValidate","scopeValues","evaluated","dynamicProps","dynamicItems","delete","inlineOrCompile","inlineRefs","schEnv","s2","s1","schemas","refPath","getJsonPointer","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","part","partSchema","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","size","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","id_1","codegen_2","$dataRefSchema","uri_1","defaultRegExp","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","deprecatedOptions","ignoreKeywordsWithRef","requiredOptions","o","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_y","_z","_0","strict","_optz","strictTypes","strictTuples","strictRequired","loopRequired","messages","addUsedSchema","validateSchema","int32range","Ajv","_loading","_cache","noLogs","console","log","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","_dataRefSchema","$id","schemaKeyRef","compile","_meta","_addSchema","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","addSchema","_validateSchema","_checkUnique","throwOrLogError","errorsText","keyRef","getSchEnv","removeSchema","_removeAllSchemas","clear","cacheKey","definitions","kwdOrDef","checkKeyword","addRule","keywordMetaschema","k","getKeyword","removeKeyword","findIndex","separator","dataVar","text","keywordsJsonPointers","jsonPointer","segments","seg","schemaOrData","regex","_compileMetaSchema","currentOpts","checkOpts","opt","optsSchemas","defs","metaOpts","KEYWORD_NAME","ruleGroup","find","addBeforeRule","_rule","$dataRef","anyOf","dependentRequired_1","dependentSchemas_1","limitContains_1","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","additionalItems_1","prefixItems","validateAdditionalItems","prefixItems_1","items2020_1","contains_1","propertyNames_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","draft2020","unevaluatedProperties_1","unevaluatedItems_1","getValidate","_getValidate","minver","setMin","compver","parsed","dynamic_1","next_1","unevaluated_1","draft2020Vocabularies","firstKey","numeric","anum","bnum","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","BUILD","FULLPLAIN","MAINVERSIONLOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","vErrors","json","jsonPos","jsonLen","jsonPart","minSV","loopAllRequired","allErrorsMode","loopUntilMissing","exitOnErrorMode","requiredKey","unevaluatedProperty","errsCount","unevaluatedPropCode","evaluatedProps","unevaluatedDynamic","unevaluatedStatic","SPACE_CHARACTERS","formatted","parseRange","isNullSet","isAny","comps","memoKey","cached","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","TILDETRIM","CARETTRIM","rangeList","parseComparator","replaceGTE0","rangeMap","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","M","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","allowed","allowUndefined","additionalProperty","patProps","patternProperties","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","definedProp","propsSchema","isAdditional","resolveComponents","relative","skipNormalization","target","charAt","lastIndexOf","cmpts","reference","authority","absolutePath","hexLookUp","fromCharCode","URI_PARSE","gotEncoding","indexOf","isIP","parseInt","ipv4result","ipv6result","unicodeSupport","charCodeAt","nonSimpleDomain","URL","domainToASCII","encodeURI","fastUri","baseURI","relativeURI","schemelessOptions","uriA","uriB","extraItems","fullTuple","minItems","maxItems","checkStrictTuple","getData","boolSchema_1","dataType_2","defaults_1","keyword_1","subschema_1","validateFunction","funcSourceUrl","destructureValCxtES5","destructureValCxt","schemaCxtHasRules","isSchemaObj","checkKeywords","checkRefsAndKeywords","typeAndKeywords","schemaKeywords","commentKeyword","$comment","rootName","typeErrors","groupKeywords","iterateKeywords","includesType","strictTypesError","withTypes","narrowSchemaTypes","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","kwdT","schTs","checkKeywordTypes","checkStrictTypes","keywordCode","checkNoDefault","resetEvaluated","throw","assignEvaluated","returnResults","topSchemaObjCode","validateKeywordUsage","validSchemaType","successAction","failAction","failResult","invalid$data","append","errorParams","errorPaths","_error","reportExtraError","$dataError","keyword$DataError","resetErrorsCount","codeBlock","$dataValid","check$data","st","wrong$DataType","validateSchemaRef","invalid$DataSchema","appl","nextContext","updateContext","checkAsyncSchema","subSchemaObjCode","subschemaCode","funcKeywordCode","macroKeywordCode","JSON_POINTER","RELATIVE_JSON_POINTER","exec","up","errorMsg","segment","pointerType","recursiveAnchor_1","recursiveRef_1","dynamic","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","NODE_DEBUG","draft7_1","draft7MetaSchema","minContains","maxContains","validateItemsWithCount","checkLimits","modifyData","useKeyword","macroSchema","macro","schemaRef","checkAsyncKeyword","validateRef","assignValid","_await","passCxt","passContext","modifying","reportErrs","ruleErrs","try","validateAsync","validateErrs","validateSync","errs","extendErrors","addErrs","keywordError","addError","errObj","err","returnErrors","errorObjectCode","verbose","errorInstancePath","errorSchemaPath","extraErrorProps","errorObject","instPath","schPath","ucs2length","pos","cb","_traverse","pre","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","skipKeywords","additionalItems","propertyNames","then","allOf","$defs","multipleOf","maxLength","minLength","maxProperties","minProperties","ifClause","hasThen","hasSchema","hasElse","validateIf","validateClause","callRootRef","schOrEnv","callValidate","schName","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","callAsyncRef","date","compareDate","time","getTime","compareTime","getDateTime","compareDateTime","compareIsoTime","compareIsoDateTime","duration","NOT_URI_FRAGMENT","URI","url","email","hostname","ipv4","Z_ANCHOR","byte","BYTE","lastIndex","int32","isInteger","MAX_INT32","MIN_INT32","int64","float","validateNumber","double","password","binary","DATE","DAYS","year","month","day","isLeapYear","d1","d2","TIME","strictTimeZone","sec","tz","tzSign","tzH","tzM","utcMin","utcHr","t1","Date","t2","a1","a2","DATE_TIME_SEPARATOR","dateTime","dt1","dt2","rtl","coerceRtlRegex","COERCERTLFULL","COERCERTL","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","toStringTag","DownloadStatus","bind","fn","thisArg","apply","arguments","getPrototypeOf","kindOf","create","thing","kindOfTest","typeOfTest","isArrayBuffer","isObject","isPlainObject","val","iterator","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","allOwnKeys","getOwnPropertyNames","findKey","_key","_global","globalThis","window","global","isContextDefined","isTypedArray","TypedArray","Uint8Array","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","defineProperties","isAsyncFn","_setImmediate","setImmediateSupported","setImmediate","postMessageSupported","postMessage","random","callbacks","addEventListener","shift","setTimeout","asap","queueMicrotask","nextTick","isBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","isString","isBoolean","isUndefined","isFunction","isStream","pipe","merge","caseless","assignValue","targetKey","extend","stripBOM","inherits","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","endsWith","searchString","position","toArray","forEachEntry","done","pair","matchAll","hasOwnProp","freezeMethods","writable","toObjectSet","arrayOrString","delimiter","define","toCamelCase","p1","p2","toUpperCase","noop","toFiniteNumber","isFinite","isSpecCompliantForm","toJSONObject","stack","visit","reducedValue","isThenable","AxiosError","config","request","response","captureStackTrace","status","utils","toJSON","description","fileName","lineNumber","columnNumber","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","dots","concat","predicates","formData","metaTokens","indexes","option","visitor","defaultVisitor","useBlob","Blob","convertValue","toISOString","Buffer","isFlatArray","el","exposedHelpers","encode","charMap","AxiosURLSearchParams","_pairs","encoder","_encode","buildURL","serializeFn","serializedParams","hashmarkIndex","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","h","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isBrowser","classes","URLSearchParams","protocols","hasBrowserEnv","document","_navigator","navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","location","href","buildPath","isNumericKey","isLast","arrayToObject","entries","parsePropPath","defaults","transitional","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","setContentType","platform","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","rawValue","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","method","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","substring","parseHeaders","parser","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalized","w","char","formatHeader","targets","asStrings","computed","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","configurable","buildAccessors","mapped","headerValue","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","reject","ERR_BAD_REQUEST","floor","progressEventReducer","listener","isDownloadStream","freq","bytesNotified","_speedometer","samplesCount","bytes","timestamps","firstSampleTS","head","tail","chunkLength","now","startedAt","bytesCount","passed","round","lastArgs","timer","timestamp","threshold","invoke","clearTimeout","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","event","progressEventDecorator","throttled","asyncDecorator","isMSIE","protocol","userAgent","write","expires","domain","cookie","toGMTString","read","remove","buildFullPath","baseURL","requestedURL","allowAbsoluteUrls","isRelativeUrl","relativeURL","combineURLs","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","paramsSerializer","timeoutMessage","withCredentials","withXSRFToken","onUploadProgress","onDownloadProgress","decompress","beforeRedirect","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding","configValue","newConfig","auth","btoa","username","Boolean","isURLSameOrigin","xsrfValue","cookies","XMLHttpRequest","Promise","_config","resolveConfig","requestData","requestHeaders","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","unsubscribe","signal","removeEventListener","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","onreadystatechange","readyState","responseURL","onabort","ECONNABORTED","onerror","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","setRequestHeader","upload","cancel","abort","subscribe","aborted","parseProtocol","send","signals","controller","AbortController","reason","streamChunk","chunk","chunkSize","byteLength","end","trackStream","stream","onProgress","onFinish","asyncIterator","reader","getReader","readStream","readBytes","_onFinish","ReadableStream","pull","close","loadedBytes","enqueue","highWaterMark","isFetchSupported","fetch","Request","Response","isReadableStreamSupported","encodeText","TextEncoder","arrayBuffer","supportsRequestStream","duplexAccessed","hasContentType","duplex","supportsResponseStream","resolvers","ERR_NOT_SUPPORT","knownAdapters","xhr","fetchOptions","composedSignal","toAbortSignal","requestContentLength","getContentLength","_request","getBodyLength","resolveBodyLength","contentTypeHeader","flush","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","responseData","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","state","throwIfCancellationRequested","throwIfRequested","dispatchRequest","validators","deprecatedWarnings","validator","formatMessage","desc","ERR_DEPRECATED","spelling","correctSpelling","assertOptions","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","configOrUrl","dummy","function","baseUrl","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","instance","VERSION","toFormData","Cancel","promises","spread","callback","isAxiosError","payload","formToJSON","getAdapter","DownloadEngine","EventEmitter","activeDownloads","startDownload","task","DownloadTask","on","emit","start","resumeDownloadWithSegments","savedData","restoreState","resume","pauseDownload","silent","pause","resumeDownload","cancelDownload","filename","directory","connections","segmentSize","maxRetries","dynamicConnections","fileSize","downloadedBytes","activeSegments","QUEUED","startTime","lastUpdateTime","lastDownloadedBytes","speed","tempDirectory","downloadRequests","downloadInterval","healthCheckInterval","segmentRetries","segmentSpeeds","downloaded","recursive","segmentPath","stats","COMPLETED","getFileInfo","createSegments","PAUSED","DOWNLOADING","downloadSegments","startProgressReporting","startConnectionHealthCheck","handleError","isPaused","segmentId","stopProgressReporting","stopConnectionHealthCheck","emitProgress","cleanupTempFiles","ERROR","USER_AGENT","headResponse","maxRedirects","contentLength","headError","rangeResponse","contentRange","rangeError","ceil","pendingSegments","finalizeDownload","availableSlots","downloadSegment","tempFile","dirExists","dirError","appendToExisting","writeStream","streamError","segmentStartTime","segmentLastBytes","segmentLastTime","retryCount","downloadWithRetry","currentUrl","redirectCount","pow","isHttps","httpModule","urlObj","pathname","search","startByte","endByte","statusCode","cleanupRequest","streamClosed","timeDiff","segmentSpeed","writeError","destroyed","currentRetries","checkOverallCompletion","outputPath","fileAlreadyExists","finalOutputPath","extIndex","basename","extension","counter","outputStream","segmentData","setInterval","updateSpeed","clearInterval","byteDiff","eta","checkConnectionHealth","totalActiveSpeed","activeConnectionCount","avgSpeed","MIN_HEALTHY_SPEED","DownloadManager","mainWindow","downloads","maxConcurrentDownloads","isRendererReady","downloadFolder","app","getPath","downloadEngine","persistencePath","ipcMain","sendSavedDownloadsToRenderer","loadDownloads","download","updateDownloadProgress","processQueue","saveDownloads","normalizeUrl","essentialPath","decodeError","pathSegments","lastSegment","isUrlBeingDownloaded","normalizedUrlToCheck","addDownload","warning","duplicate","startIndividualDownload","savedOptions","downloadOptions","notifyRenderer","isDestroyed","webContents","getTempDirectory","baseDirectory","removeDownload","cancelled","engineError","tempDir","force","downloadsArray","cleanDownload","createdAt","savedDownloads","loadedCount","saveAndCleanup","saveDownloadsSync","getDownloadPath","isDownloadCompleted","createNewDownload","customFilename","pathParts","update","digest","existingDownload","findDownloadByUrl","forceNewDownload","resumeExisting","originalFilename","filePath","fileExists","lastDotIndex","newDownload","startPaused","normalizedUrl","getDefaultDownloadFolder","setRendererReady","sendDownloadsToRenderer","openFile","shell","openPath","showInFolder","showItemInFolder","disallowedKeys","digits","getPathSegments","parts","currentSegment","currentPart","isIgnoring","character","isStringIndex","assertNotStringIndex","setProperty","pathArray","homedir","tmpdir","attemptifyAsync","onError","attemptifySync","IS_USER_ROOT","NOOP","Handlers","isChangeErrorOk","isNodeError","isRetriableError","onChangeError","interval","intervalId","queueActive","queueWaiting","init","tick","schedule","cleanup","retryifyAsync","attempt","delay","retryifySync","chmod","promisify","chown","fsync","mkdir","realpath","stat","unlink","chmodSync","chownSync","closeSync","existsSync","fsyncSync","mkdirSync","realpathSync","statSync","unlinkSync","retry","readFile","rename","writeFile","openSync","readFileSync","renameSync","writeSync","writeFileSync","uid","gid","IS_LINUX","IS_WINDOWS","Signals","whenExit","exited","exit","hook","register","store","randomness","creator","purge","tempPath","truncate","purgeSync","purgeSyncAll","truncable","truncationLength","encoding","tempDisposer","fd","filePathReal","filePathExists","tmpCreate","tmpPurge","useStatChown","useStatMode","parentPath","tmpCreated","fsyncWait","copyProperty","ignoreNonConfigurable","toDescriptor","getOwnPropertyDescriptor","fromDescriptor","canCopyProperty","wrappedToString","withName","fromBody","toStringDescriptor","toStringName","inputFunction","wait","maxWait","POSITIVE_INFINITY","after","RangeError","maxTimeout","debouncedFunction","arguments_","shouldCallNow","Reflect","ownKeys","fromPrototype","setPrototypeOf","changePrototype","newToString","changeToString","mimicFunction","objectToString","isType","typeConstructor","typeStringified","isUint8Array","assertUint8Array","concatUint8Arrays","arrays","totalLength","accumulator","currentValue","returnValue","offset","cachedDecoders","utf8","TextDecoder","uint8ArrayToString","isUint8ArrayOrArrayBuffer","assertUint8ArrayOrArrayBuffer","decode","cachedEncoder","stringToUint8Array","assertString","padStart","ajvFormats","encryptionAlgorithm","createPlainObject","INTERNAL_KEY","MIGRATION_KEY","Conf","events","partialOptions","configName","fileExtension","projectSuffix","clearInvalidConfig","accessPropertiesByDotNotation","configFileMode","cwd","projectName","suffix","library","temp","macos","appData","APPDATA","localAppData","LOCALAPPDATA","windows","XDG_DATA_HOME","XDG_CONFIG_HOME","XDG_CACHE_HOME","XDG_STATE_HOME","linux","envPaths","ajvOptions","_serialize","deserialize","_deserialize","EventTarget","encryptionKey","fileStore","migrations","projectVersion","_migrate","beforeEachMigration","_validate","watch","_watch","_get","_containsReservedKey","checkValueType","deleteProperty","onDidChange","_handleChange","onDidAnyChange","dataString","_encryptData","deserializedData","_ensureDirectory","_write","dispatchEvent","Event","initializationVector","decipher","dataUpdate","final","onChange","oldValue","newValue","isDeepStrictEqual","cipher","SNAP","persistent","versionToMigrate","previousMigratedVersion","newerVersions","candidateVersion","_shouldPerformMigration","storeBackup","fromVersion","toVersion","finalVersion","migration","_set","_isVersionInRangeFormat","isInitialized","initDataListener","defaultCwd","appVersion","getVersion","sendSync","initRenderer","openInEditor","categories","categoryPaths","downloadManager","logFilePath","logStream","logToFile","optionalParams","formattedMessage","createWindow","preloadPath","__dirname","BrowserWindow","width","height","webPreferences","nodeIntegration","contextIsolation","preload","webSecurity","htmlPath","htmlUrl","slashes","loadURL","isPackaged","openDevTools","getAppPath","httpServer","createHttpServer","req","writeHead","parsedUrl","downloadUrl","success","initialOptions","newUrl","newOptions","partialFileExists","handleDownloadRequest","dialog","showSaveDialog","defaultPath","currentPath","filters","extensions","canceled","exists","access","F_OK","listen","whenReady","storeInstance","handle","defaultDownloadPath","language","settingsToSave","settings","_event","showOpenDialog","category","paths","filePaths","pathString","isValid","isDirectory","resourcesPath","extensionPath","showErrorBox","setupIpcHandlers","errorMessage","errorStack","quit"],"sourceRoot":""}